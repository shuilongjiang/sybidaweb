function seriesLoadScripts(e,t,i){if("object"!=typeof e)var e=[e];var n=document.getElementsByTagName("head").item(0)||document.documentElement,s=new Array,o=e.length-1,a=function(r){s[r]=document.createElement("script"),s[r].setAttribute("type","text/javascript"),s[r].onload=s[r].onreadystatechange=function(){this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),r!=o?a(r+1):"function"==typeof t&&t()},s[r].onerror=function(){"function"==typeof i&&i()},s[r].setAttribute("src",e[r]),n.appendChild(s[r])};a(0)}function Utemplate(e,t){function i(e,t){return o+=t?e.match(s)?e+"\n":"arr.push("+e+");\n":""!=e?"arr.push('"+e.replace(/"/g,'\\"')+"');\n":"",arguments.callee}for(var n=/<%([^%>]+)?%>/g,s=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,o="var arr = []; \n",a=0;match=n.exec(e);)i(e.slice(a,match.index))(match[1],!0),a=match.index+match[0].length;return i(e.substr(a,e.length-a)),o+="return arr.join('')",new Function(o.replace(/[\r\t\n]/g,"")).apply(t)}function EventManger(){var e={};this.subscribe=function(t,i){void 0===e[t]&&(e[t]=[]),e[t].push({context:this,callback:i})},this.unsubscribe=function(t){return void 0!==e[t]&&(e[t]=[]),this},this.publish=function(t){if(void 0===e[t])return!1;for(var i=Array.prototype.slice.call(arguments,1),n=0,s=e[t].length;n<s;n++){var o=e[t][n];o.callback.apply(o.context,i)}}}function getQueryParams(e){for(var t={},i=e.split("?").length>1?e.split("?")[1]:e,n=i.split("&"),s=0;s<n.length;s++){var o=n[s].split("=");o.length>1&&(t[o[0]]=o[1])}return t}function isVisiable(e){if(e){var t=e.getBoundingClientRect();return t.top>0&&window.innerHeight-t.top>0||t.top<=0&&t.bottom>=0}}function CopyToClipboard(e){var t=!0;if(window.clipboardData)window.clipboardData.setData("Text",e);else{var i=CreateElementForExecCommand(e);SelectContent(i);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),t=document.execCommand("copy",!1,null)}catch(e){t=!1}document.body.removeChild(i)}t?alert("澶嶅埗鎴愬姛"):alert("澶嶅埗澶辫触锛岃鎵嬪姩澶嶅埗璇ラ摼鎺�")}function filterXss(e){return e&&!/^\<img.*\>$/.test(e)?e.replace(/&amp;/g,"&").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace("<phone>","").replace("</phone>","").replace("<copy>","").replace("</copy>",""):e}function localStorageInstance(e,t){if(window.localStorage)if(""==t)window.localStorage.removeItem(e);else{if(!t)return window.localStorage[e];window.localStorage[e]=t}}function getUuid(e,t){var i,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];if(t=t||n.length,e)for(i=0;i<e;i++)s[i]=n[0|Math.random()*t];else{var o;for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",i=0;i<36;i++)s[i]||(o=0|16*Math.random(),s[i]=n[19==i?3&o|8:o])}return s.join("")}function __conversion(e){try{_T.sendEvent(e)}catch(e){}}function companyVideoDialog(e){$.dialog({title:'<i class="icon-dialog icon-dialog-warning"></i><p>娓╅Θ鎻愮ず</p>',content:"鏄惁纭畾绂诲紑锛岀寮€鍚庤棰戞棤娉曞畬鎴愪笂浼�",closeText:!0,confirmText:"纭畾",cancelText:"鍙栨秷",wrapClass:"flex-dialog-wrap company-video-dialog",onOpen:function(e){},onConfirm:function(t){routerStop.set("video",0),e.target.click(),t.remove()}})}function Utemplate(e,t){function i(e,t){return o+=t?e.match(s)?e+"\n":"arr.push("+e+");\n":""!=e?"arr.push('"+e.replace(/"/g,'\\"')+"');\n":"",arguments.callee}for(var n=/<%([^%>]+)?%>/g,s=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,o="var arr = []; \n",a=0;match=n.exec(e);)i(e.slice(a,match.index))(match[1],!0),a=match.index+match[0].length;return i(e.substr(a,e.length-a)),o+="return arr.join('')",new Function(o.replace(/[\r\t\n]/g,"")).apply(t)}function Utemplate(e,t){function i(e,t){return o+=t?e.match(s)?e+"\n":"arr.push("+e+");\n":""!=e?"arr.push('"+e.replace(/"/g,'\\"')+"');\n":"",arguments.callee}for(var n=/<%([^%>]+)?%>/g,s=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,o="var arr = []; \n",a=0;match=n.exec(e);)i(e.slice(a,match.index))(match[1],!0),a=match.index+match[0].length;return i(e.substr(a,e.length-a)),o+="return arr.join('')",new Function(o.replace(/[\r\t\n]/g,"")).apply(t)}function formatDiscountList(e){var t=e.discount.name,i=e.discount.highlightList;if(i&&i.length){var n=i[0].startIndex,s=i[0].endIndex,o=s-n,a=t.substr(0,n);a+='<a target="_blank" href="'+e.discount.url+'">'+t.substr(n,o)+"</a>",a+=t.substr(s,-1),t=a}return{discountTag:e.discountTag,name:t}}var DEBUG=!0;"_PAGE"in window&&_PAGE.token?$.ajaxSettings.beforeSend=function(e,t){e.setRequestHeader("token",_PAGE.token)}:"_PAGE"in window.top&&window.top._PAGE.token&&($.ajaxSettings.beforeSend=function(e,t){e.setRequestHeader("token",window.top._PAGE.token)}),$.ajaxSettings.statusCode={200:function(e){if([31,32,35,36].indexOf(e.code)>=0&&mediator)return mediator.publish("WEB_GATE_INTERCEPTOR",{code:e.code,message:e.message}),!1;5011==e.code&&(console.log(window.top.location.href),window.top.location.href="/user/safe")},602:function(){try{_T.sendTracking("boss_code_602_logout")}catch(e){}},603:function(){window.top.location.href="/geek/complete/guide.html"},5003:function(){window.top.$&&window.top.$.dialog&&$.dialog({title:"",content:'<div class="captcha-pop-frame"><iframe src="/captcha/popUpCaptcha"></iframe></div>',closeText:!0,confirmText:!1,cancelText:!1,wrapClass:"dialog-captcha-pop",lock:!0,onOpen:function(e){try{_T.sendEvent("captcha_dialog_show")}catch(e){}},onClose:function(){try{_T.sendEvent("captcha_dialog_hide")}catch(e){}},onConfirm:function(e){}})}};var browser={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},VerrifyCode=window.VerrifyCode||function(){var e=new Date,t=e.getFullYear()+""+e.getMonth()+e.getDay(),i=function(e,i){seriesLoadScripts("//g.alicdn.com/sd/ncpc/nc.js?t="+t,function(){var t=["BOSS_PC",(new Date).getTime(),Math.random().toString(16)].join(":"),n={renderTo:"#"+e.id,appkey:e.appkey||"FFFF0N00000000006DC1",scene:e.scene||"nc_login",token:t,customWidth:i.find(".row-code").width(),trans:{position:"sign-sms"},elementID:["sign-sms"],is_Opt:0,language:"cn",isEnabled:!0,timeout:3e3,times:5,apimap:{},callback:function(e){i.find("input[name=csig]").length||(i.find("form").append('<input type="hidden" name="csig" />'),i.find("form").append('<input type="hidden" name="ctoken" />'),i.find("form").append('<input type="hidden" name="csessionId" />'),i.find("form").append('<input type="hidden" value="FFFF0N00000000006DC1" name="cappKey" />'),i.find("form").append('<input type="hidden" value="nc_login" name="cscene" />')),i.find("input[name=csig]").val(e.sig),i.find("input[name=ctoken]").val(t),i.find("input[name=csessionId]").val(e.csessionid)}};new noCaptcha(n).upLang("cn",{_startTEXT:"璇锋寜浣忔粦鍧楋紝鎷栧姩鍒版渶鍙宠竟",_yesTEXT:"楠岃瘉閫氳繃",_error300:'鍝庡憖锛屽嚭閿欎簡锛岀偣鍑�<a href="javascript:__nc.reset()">鍒锋柊</a>鍐嶆潵涓€娆�',_errorNetwork:'缃戠粶涓嶇粰鍔涳紝璇�<a href="javascript:__nc.reset()">鐐瑰嚮鍒锋柊</a>'})})},n=function(e,i){seriesLoadScripts("//g.alicdn.com/sd/nch5/index.js?t="+t,function(){var t=["BOSS_H5",(new Date).getTime(),Math.random().toString(16)].join(":"),n=NoCaptcha.init({renderTo:"#"+e.id,appkey:e.appkey||"FFFF0N00000000006DC1",scene:"nc_login_h5",token:t,customWidth:"100%",trans:{position:"sign-h5"},elementID:["sign-h5"],is_Opt:0,language:"cn",timeout:1e4,retryTimes:5,errorTimes:5,inline:!1,apimap:{},bannerHidden:!1,initHidden:!1,callback:function(e){i.find("input[name=csig]").length||(i.find("form").append('<input type="hidden" name="csig" />'),i.find("form").append('<input type="hidden" name="ctoken" />'),i.find("form").append('<input type="hidden" name="csessionId" />'),i.find("form").append('<input type="hidden" value="FFFF0N00000000006DC1" name="cappKey" />'),i.find("form").append('<input type="hidden" value="nc_login" name="cscene" />')),i.find("input[name=csig]").val(e.sig),i.find("input[name=ctoken]").val(t),i.find("input[name=csessionId]").val(e.csessionid)},error:function(e){}});NoCaptcha.setEnabled(!0),n.reset(),NoCaptcha.upLang("cn",{LOADING:"鍔犺浇涓�...",SLIDER_LABEL:"璇峰悜鍙虫粦鍔ㄩ獙璇�",CHECK_Y:"楠岃瘉閫氳繃",CHECK_N:"楠岃瘉鏈€氳繃"})})},s=function(e,t){var s=e||{},o=t||$(".sign-form:visible");if(e||(s.id=o.find(".row-code").attr("id"),s.scene=o.find("input[name=cscene]").val(),s.appkey=o.find("input[name=cappKey]").val()),!s.id)return!1;browser.versions.mobile?n(s,o):i(s,o)},o=function(e){if(!e||!e.length)return!1;var t=e.parents(".sign-form").length?e.parents(".sign-form"):e.parents("form"),i="verrify"+Math.random().toString(32).substr(-6,6);t.find("input[name=csig]").val(""),t.find("input[name=ctoken]").val(""),t.find("input[name=csessionId]").val(""),e.empty(),e.attr("id",i),s({id:i,scene:t.find("input[name=cscene]").val(),appkey:t.find("input[name=cappKey]").val()},t)},a=function(){$(".sign-form .row-code").each(function(){o($(this))})};return a(),{build:a,reset:o}}(),UA=window.navigator.userAgent,isIE,isZpdesk,isWebkit;(UA.indexOf("Edge/")>-1||UA.indexOf("MSIE ")>-1||UA.indexOf("Trident/")>-1)&&(isIE=!0),UA.indexOf("WebKit")>-1&&(isWebkit=!0),UA.indexOf("ZhipinDesktop/")>-1&&(isZpdesk=!0);var supportsCalcVh=!!window.CSS&&CSS.supports("height","calc(100vh - 0px)");isWebkit&&!supportsCalcVh&&alert("鎮ㄤ娇鐢ㄧ殑娴忚鍣ㄥお鑰佷簡锛屼細閫犳垚鏄剧ず寮傚父锛岃涓嬭浇鏈€鏂扮増鏈殑娴忚鍣�");var VersionStatus={isHunter:!("undefined"==typeof _PAGE||!_PAGE.isHunter),preKa:"undefined"!=typeof _PAGE&&_PAGE.isHunter?"hunter":""};isZpdesk&&seriesLoadScripts("/v2/web/boss/js/zpdesk.js");var PAGE_ACTIVITY=!0;!function(){function e(e){var i={focus:!0,focusin:!0,pageshow:!0,blur:!1,focusout:!1,pagehide:!1};e=e||window.event,PAGE_ACTIVITY=e.type in i?i[e.type]:!this[t],PAGE_ACTIVITY?(__conversion("boss_webpage_active"),window.Block&&window.Block.action({action:"pc-active"})):__conversion("boss_webpage_inactivity")}var t="hidden";t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,window.addEventListener("message",function(e){var t=e.data;"wordhrRouter"==t.type&&Menu.updateWordhrTopNav(t),"handleClickDoc"==t.type&&$(document).click()},!1),$.ajax({method:"post",url:"/wapi/zpCommon/actionLog/common.json",data:{ba:JSON.stringify({action:"pc-active"})},cache:!1})}();var isEmpty=function(e){return Array.isArray(e)&&0===e.length||Object.prototype.isPrototypeOf(e)&&0===Object.keys(e).length};Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e},Array.prototype.unique=function(e){if(this.length<2)return[this[0]]||[];for(var t={},i=[],n=0;n<this.length;n++){var s=this[n],o=!!e&&typeof t[s]!=typeof s;(void 0===t[s]||o)&&(t[s]=s,i.push(s))}return i},Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},Array.prototype.findIndex||(Array.prototype.findIndex=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,s=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(s,t,o,i))return o;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],s=arguments.length>=2?arguments[1]:void 0,o=0;o<i;o++)if(o in t){var a=t[o];e.call(s,a,o,t)&&n.push(a)}return n}),Array.prototype.map||(Array.prototype.map=function(e,t){var i,n,s;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("[object Function]"!=Object.prototype.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(i=t),n=new Array(a),s=0;s<a;){var r,c;s in o&&(r=o[s],c=e.call(i,r,s,o),n[s]=c),s++}return n}),Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,i=Object(this),n=i.length>>>0,s=0;if(arguments.length>=2)t=arguments[1];else{for(;s<n&&!(s in i);)s++;if(s>=n)throw new TypeError("Reduce of empty array with no initial value");t=i[s++]}for(;s<n;)s in i&&(t=e(t,i[s],s,i)),s++;return t}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),s=n.length>>>0;if(0===s)return-1;var o=0|t;if(o>=s)return-1;for(i=Math.max(o>=0?o:s-Math.abs(o),0);i<s;){if(i in n&&n[i]===e)return i;i++}return-1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],s=0;s<i;){var o=t[s];if(e.call(n,o,s,t))return o;s++}}}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,n,s=this.length>>>0,o=!1;for(1<arguments.length&&(n=t,o=!0),i=0;s>i;++i)this.hasOwnProperty(i)&&(o?n=e(n,this[i],i,this):(n=this[i],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return n});var mediator=window.mediator||new EventManger,getQueryString=function(e,t){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.top.location.search.substr(1).match(i);return t&&(n=t.split("?")[1].match(i)),null!=n?unescape(n[2]):null},cookie={get:function(e){var t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null},add:function(e,t,i,n,s,o){var a=new Date;a.setTime(a.getTime()),i&&(i=1e3*i*60*60*24);var r=new Date(a.getTime()+i);document.cookie=e+"="+escape(t)+(i?";expires="+r.toGMTString():"")+(n?";path="+n:"")+(s?";domain="+s:"")+(o?";secure":"")},set:function(e,t,i){if(i){var n=new Date;n.setMinutes(i),document.cookie=e+"="+encodeURIComponent(t)+";expires="+n.toGMTString()}else document.cookie=e+"="+encodeURIComponent(t)},clearcookie:function(e,t,i){cookie.get(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(i?";domain="+i:"")+";expires=Thu,01-Jan-1970 00:00:01 GMT")}},__stringify=function(){function e(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=s[e];return t||(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+e+'"'}function t(e){var t,i,n,s=["["],o=e.length;for(i=0;i<o;i++)switch(typeof(n=e[i])){case"undefined":case"function":case"unknown":break;default:t&&s.push(","),s.push(__stringify(n)),t=1}return s.push("]"),s.join("")}function i(e){return e<10?"0"+e:e}function n(e){return'"'+e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+'"'}var s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(i){switch(typeof i){case"undefined":return"undefined";case"number":return isFinite(i)?String(i):"null";case"string":return e(i);case"boolean":return String(i);default:if(null===i)return"null";if(i instanceof Array)return t(i);if(i instanceof Date)return n(i);var s,o,a=["{"],r=__stringify;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c))switch(typeof(o=i[c])){case"undefined":case"unknown":case"function":break;default:s&&a.push(","),s=1,a.push(r(c)+":"+r(o))}return a.push("}"),a.join("")}}}(),__throttle=function(e,t,i){var n=null;return function(){(new Date).getTime();clearTimeout(n),n=setTimeout(e,t)}},recommendRecordTimeFresh=function(e){e||(e={});var t=e.keepMinitues||12e5,i=e.localKey||"recordTime",n=e.subLocalKey||"recommendLevelTime",s=function(e,t){if(e||(e=i),t||(t={},t[n]=(new Date).getTime()),localStorage.getItem(e)){var s=JSON.parse(localStorage.getItem(e));t=$.extend(s,t)}localStorage.setItem(e,JSON.stringify(t))},o=function(e,t){e||(e=i),t||(t=n);var s=JSON.parse(localStorage.getItem(e));return s&&s[t]?Number(s[t]):0};return{setTimeToLocal:s,getTimeFromLocal:o,isOver20Minitue:function(e){e||(e=t);var s=o(i,n);return(new Date).getTime()-s>=e},publishToVue:function(e){window.top.frames.syncFrame.postMessage({name:"recommend-over20-refresh",data:{refresh:e}},"*")}}}({keepMinitues:12e5,localKey:"recordTime",subLocalKey:"recommendLevelTime"}),Menu={init:function(){Menu.sideEl=$(".side-menu"),Menu.chatEl=Menu.sideEl.find(".menu-chat"),Menu.recommendEl=Menu.sideEl.find(".menu-recommend"),Menu.geeksearchEl=Menu.sideEl.find(".menu-geeksearch"),Menu.items=Menu.sideEl.find("dl"),Menu.continerEls=$(".page-container"),Menu.chatEl=$(".chat-container"),Menu.toSyncEl=$(".sync-container"),Menu.toViewedEl=$(".viewed-container"),Menu.toSearchEl=$(".geeksearch-container"),Menu.toVueEl=$(".vue-container"),Menu.toRsyncEl=$(".rsync-container"),Menu.toSetEl=$(".set-container"),Menu.fullScreenDiv=$(".full-screen-container"),Menu.topContainer=$("#header"),Menu.positionRecommendId=null,Menu.positionCommunicaionId=null,Menu.isSuportCalc=supportsCalcVh,Menu.getEmailSwitch(),Menu.getVipUserLevelData();var e="wordhr.zhipin.com",t={dev:"wordhr-pc.weizhipin.com",pre:"preon-hr.wordhr.com",online:"wordhr.zhipin.com"};1==getQueryString("firstLogin")&&(Menu.fullScreenDiv.html('<iframe class="full-screen-iframe" src="/vue/index/#/dashboard/guide"></iframe>'),Menu.fullScreenDiv.show()),$(".link-help").on("click",function(){Menu.showHelpTip()}),$(".link-promotion").on("click",function(){Menu.showPopFrame($(this))});var i=getQueryString("mu"),n=decodeURIComponent(window.location.href);if(i&&i.indexOf("javascript")>-1)return window.location.href="/chat/im",!1;if(this.jumpExternalPart(),i&&n.indexOf("dashboard/candidate/recommend")>-1){var s=getQueryParams(i);!s.jobid&&n.indexOf("jobid")>-1&&(s=getQueryParams(window.location.hash));var o=Menu.topContainer.find('.top-recommend li[data-jobid="'+s.jobid+'"]');o.length&&o.addClass("cur")}i&&i.indexOf("job-edit")>-1&&(Menu.vueIframeChange(i),Menu.continerEls.hide(),Menu.toVueEl.show(),Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-position").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-position").show(),$("body").addClass("page-iframe"));var a,r=$(".top-user .dropdown-help-and-feedback");r.on("mouseenter",function(){a&&clearTimeout(a),r.addClass("dropdown-menu-open");try{_T.sendEvent("help_feedback")}catch(e){}}).on("mouseleave",function(){a=setTimeout(function(){r.removeClass("dropdown-menu-open")},300)}).find(".header-pop-feedback").on("click",function(){Feedback.getContent()});$(".top-op .dropdown-wrap").on("dropdown.open",function(){$(this).find(".dropdown-menu").removeClass("status-search"),$(this).find(".chat-job-search").val("").trigger("input")}),$(".top-op").on("click",".top-chat-search .iboss-guanbi",function(){$(this).parents(".dropdown-wrap").find(".chat-job-search").val("").trigger("input")}),$(".top-op").on("input",".chat-job-search",function(){var e=$(this).val().toLowerCase(),t=$(this).parents(".dropdown-wrap");e&&e.length>0?t.find(".iboss-guanbi").show():t.find(".iboss-guanbi").hide(),t.find(".search-job-empty").length&&t.find(".search-job-empty").remove(),t.find(".dropdown-menu li").each(function(t,i){if($(i).text().toLowerCase().indexOf(e)>-1){var n=$(i).find(".filter-job-text");$(i).css("display","block"),n.html(util.lightKeyword(e,n.text()))}else $(i).css("display","none")}),-1===t.find(".dropdown-menu li").text().toLowerCase().indexOf(e)&&e&&t.find(".dropdown-menu").append('<div class="search-job-empty">娌℃湁鐩稿叧鑱屼綅</div>')});var c=$(".dropdown-vipaccount").find(".link-vipaccount").attr("data-vip-show-state");if($(".dropdown-vipaccount").click(function(){window.top.IframeSlider.open({title:!1,url:"/mpa/html/vip/privilege"})}),$(".header-pop-hunter").click(function(){window.top.IframeSlider.open({title:!1,url:"/mpa/html/rpo/use-manual/home"});try{window.top.Block&&window.top.Block.action({action:"extension-hunter-tips-entrance"})}catch(e){}}),$(".vip-detail").on("click",function(){4!=c?window.top&&window.top.BlockSence&&window.top.BlockSence.vip():(Menu.sideEl.find("dl.cur").hasClass("menu-recommend")&&sessionStorage.setItem("recommond_position",Menu.toSyncEl.children("iframe.frame-container").contents().scrollTop()),Menu.items.removeClass("cur"),Menu.gotoFramePage("/boss/item/vipprivilege.html","/boss/item/vipprivilege.html",$(this).attr("data-op")))}),$(".top-user .top-message-menu").on("click",function(e){if(routerStop.get())return void companyVideoDialog(e);Menu.sideEl.find("dl").removeClass("cur"),$(this).find(".message-red-point").remove(),Menu.setUrl("/vue/index/#/dashboard/message/"),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.toVueEl.show(),$(".top-inner .top-op").hide(),$(".top-inner .top-message").show(),Menu.vueIframeChange("/vue/index/#/dashboard/message/"),Menu.isSuportCalc||Menu.toVueEl.find(".frame-container").css("height",$(window).height()-68+"px");try{_T.sendEvent("notitication_main_click")}catch(e){}}),$(".records-center").on("click",function(){try{var e=0;$(this).find(".num").length&&(e=1),window.top.Block&&window.top.Block.action({action:"action-detail-datacenter-click",p:e})}catch(e){}Menu.sideEl.find("dl.cur").hasClass("menu-recommend")&&sessionStorage.setItem("recommond_position",Menu.toSyncEl.children("iframe.frame-container").contents().scrollTop()),Menu.sideEl.find("dl").removeClass("cur"),$(this).find(".num").remove(),Menu.setUrl("/vue/index/#/dashboard/recordscenter/"),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.toVueEl.show(),$(".top-inner .top-op").hide(),Menu.vueIframeChange("/vue/index/#/dashboard/recordscenter/"),Menu.isSuportCalc||Menu.toVueEl.find(".frame-container").css("height",$(window).height()-68+"px"),$("#page_key_name").val("recruit_data_center");try{_T.sendPageView()}catch(e){}}),$(".live-apply").on("click",function(){Menu.sideEl.find("dl.cur").hasClass("menu-recommend")&&sessionStorage.setItem("recommond_position",Menu.toSyncEl.children("iframe.frame-container").contents().scrollTop()),Menu.sideEl.find("dl").removeClass("cur"),Menu.setUrl("/web/boss/webcast/funcintro"),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.toVueEl.show(),$(".top-inner .top-op").hide(),Menu.vueIframeChange("/web/boss/webcast/funcintro"),Menu.sideEl.find("dl.menu-webcast").addClass("cur"),Menu.topContainer.find(".top-webcast").show(),Menu.topContainer.find(".top-webcast .top-menu a").removeClass("cur"),Menu.topContainer.find(".top-webcast .top-tab-webcast").addClass("cur"),Menu.isSuportCalc||Menu.toVueEl.find(".frame-container").css("height",$(window).height()-68+"px"),$("#page_key_name").val("webcast_funcintro");try{_T.sendPageView()}catch(e){}}),$(".interview-detail").on("click",function(){menuInterview.view()}),window.GlobalGray&&GlobalGray.getResByName("hasHunterManage",function(e){0==e.code&&e.zpData&&e.zpData.haveHeadTiny?$(".header-pop-hunter").show():$(".header-pop-hunter").hide()}),Menu.getWebcastGuide(),Menu.handleFindMenuFirstGuide(),Menu.getVipBuyGuide(),Menu.sideEl.find(".menu-resume").length){var l=Menu.sideEl.find(".menu-resume a"),d=$(".top-resume a");window.top.location.host.indexOf(".weizhipin.com")>-1&&(l.attr("data-url",l.attr("data-url").replace(e,t.dev)),d.each(function(){$(this).attr("data-url",$(this).attr("data-url").replace(e,t.dev))})),"pre-www.zhipin.com"===window.top.location.host&&(l.attr("data-url",l.attr("data-url").replace(e,t.pre)),d.each(function(){$(this).attr("data-url",$(this).attr("data-url").replace(e,t.pre))}))}$(".top-slogan").on("click",function(){var e=Menu.sideEl.find(".menu-prop"),t=e.find("a").attr("data-url");Menu.sideEl.find(".menu-prop").hasClass("cur")||(t.indexOf("tab=mall")<0&&e.find("a").attr("data-url",t+"?tab=mall"),Menu.sideEl.find(".menu-prop a").click(),e.find("a").attr("data-url",t),__conversion("promotion_threeYears_slogan"))});var p,u=$(".top-user .dropdown-logout");u.on("mouseover",function(){p&&clearTimeout(p),u.addClass("dropdown-menu-open")}).on("mouseout",function(){p=setTimeout(function(){u.removeClass("dropdown-menu-open"),u.find(".recruit-tip").hide()},300)}),u.find("li").on("click",function(e){if(routerStop.get())return void companyVideoDialog(e);var t=$(this).find("a");if(t.hasClass("link-profile")&&Menu.sideEl.find(".menu-user a").click(),t.hasClass("link-account")&&Menu.gotoAccountSet("/web/boss/set/phone"),t.hasClass("link-license")){Menu.gotoAccountSet("/web/boss/set/licence");try{window.top.Block&&window.top.Block.action({action:"extension-hunter-certification-photoentry"})}catch(e){}}t.hasClass("link-company")&&$.get(BusinessApis.getUrl("enterpriseGetBossRoleType"),function(e){var t=e.zpData,i=window.top.Menu;if(3===t.roleType)if(i.topContainer.find(".top-colleague .top-menu a").eq(3).hasClass("cur"))window.top.mediator.publish("SHOW_BRAND_INFO");else{var n="/vue/index/#/dashboard/business/brand/list?toShowBrandInfo=1";$("body").addClass("page-iframe"),i.topContainer.find(".top-op").hide(),i.topContainer.find(".top-colleague").show(),i.items.removeClass("cur"),i.sideEl.find(".menu-colleague").addClass("cur"),i.continerEls.hide(),i.setUrl(n),i.vueIframeChange(n),i.toVueEl.show(),i.topContainer.find(".top-colleague .top-menu a").removeClass("cur").eq(3).addClass("cur")}else 2===t.roleType?(i.sideEl.find("dl").removeClass("cur"),i.sideEl.find(".menu-colleague").addClass("cur"),i.topContainer.find(".top-colleague a").eq(3).click(),i.topContainer.find(".top-op").hide(),i.topContainer.find(".top-colleague").show()):(i.sideEl.find("dl").removeClass("cur"),i.sideEl.find(".menu-user").addClass("cur"),i.topContainer.find(".top-company a").eq(1).click(),i.topContainer.find(".top-op").hide(),i.topContainer.find(".top-company").show())}),t.hasClass("link-profile")&&Menu.sideEl.find(".menu-user a").click(),t.hasClass("link-account")&&Menu.gotoAccountSet("/web/boss/set/phone"),t.hasClass("link-msgset")&&Menu.gotoAccountSet("/web/boss/set/greeting")}),u.find(".link-apply").on("click",function(e){u.find(".recruit-tip").fadeIn();try{_T.sendEvent("menu_dropdown_apply")}catch(e){}return!1}),$("#guide-wrap").on("click",function(){$(this).find(".guide-box").each(function(e){if(1==e&&$(this).is(":visible"))try{_T.sendEvent("newpx_autoclose")}catch(e){}}),$("#guide-wrap").hide()}),$(".link-pop-wordhr").on("click",function(){Menu.showPopWordhr($(this))}),window.getSourceForVue=function(){return Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li.cur").attr("data-open")},mediator.subscribe("fullContainer",function(e){}),window.top.mediator.subscribe("switchRouteFromVue",function(e){window.top===window.self&&Menu.setUrl&&Menu.gotoPage&&(Menu.setUrl(e),Menu.gotoPage())});var h=0;window.Recommend||(Recommend={}),Recommend.changeTableByStatus||(Recommend.changeTableByStatus=function(e){var t=$(".sync-container iframe").contents().find(".op-category .group-btns a[data-status="+e+"]");if(t.length>0)t[0].click();else{$(".menu-recommend a")[0].click();var i=$(".sync-container iframe");i.load(function(){i.contents().find(".op-category .group-btns a[data-status="+e+"]")[0].click()})}}),Menu.showHidePreviewJobList(),mediator.subscribe("recommendToParent",function(e){var t=e&&e.status;if(Recommend.para||(Recommend.para={}),Recommend.para.status=t,Menu.showHidePreviewJobList(),Menu.topContainer.find(".top-recommend .dropdown-wrap").length>0){var i=Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li.cur").index(),n=function(e){Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li").eq(e).click()};5===t||9===t?(Menu.topContainer.find(".top-recommend .dropdown-wrap").hide(),n(0)):0===t?(Menu.topContainer.find(".top-recommend .dropdown-wrap").show(),Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li").eq(0).hide(),n(window.top.Recommend.recommendIndex>1?window.top.Recommend.recommendIndex:0===i?1:i)):3===t?(Menu.topContainer.find(".top-recommend .dropdown-wrap").show(),Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li").eq(0).hide(),0===h&&(window.top.Recommend.recommendIndex=i,window.top.Recommend.recommendJobId=Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li").eq(i).data("jobid")),n(window.top.Recommend.recommendIndex>1?window.top.Recommend.recommendIndex:0===i?1:i)):(Menu.topContainer.find(".top-recommend .dropdown-wrap").show(),Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li").eq(0).show(),0===h||5===h||3===h?(0!==h&&3!==h||(window.top.Recommend.recommendIndex=i,window.top.Recommend.recommendJobId=Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li").eq(i).data("jobid")),n(0)):n(i>=0&&3!==h?i:0))}else{var s=$(".menu-recommend a").data("url"),o="?jobid=0&status="+(Recommend.para.status||0)+"&source="+getSourceForVue(),a=s+o;Menu.syncIframeChange&&Menu.syncIframeChange(a,o,null,null),$(".menu-recommend a").attr("data-url",a)}h=t}),sessionStorage.getItem("recommond_position")&&window.top==window.self&&sessionStorage.setItem("recommond_position",0),$(".top-user").on("click",".records-center, .vip-detail, .dropdown-logout a",function(){Menu.sideEl.find("dl.cur").hasClass("menu-recommend")&&sessionStorage.setItem("recommond_position",Menu.toSyncEl.children("iframe.frame-container").contents().scrollTop())}),Menu.sideEl.on("click","a",function(e){if(routerStop.get())return void companyVideoDialog(e);if($.ajax({url:"/wapi/zpuser/wap/clickWeb.json",type:"get",dataType:"json",success:function(e){7!=e.code&&1011!=e.code||($.toast({type:"error",content:"鐧诲綍淇℃伅澶辨晥锛岃閲嶆柊鐧诲綍"}),setTimeout(function(){window.top.location.href="/user/login.html"},100))}}),window.top.MiniChat&&window.top.MiniChat.chatTray&&window.top.MiniChat.chatTray.setMsgTotalCount(),!$(this).hasClass("link-pop-wordhr")){var t=Menu.sideEl.find("dl.cur");if(Menu.items.removeClass("cur"),$(this).closest("dl").addClass("cur"),Menu.topContainer.find(".top-op").hide(),t.hasClass("menu-recommend")){sessionStorage.setItem("recommond_position",Menu.toSyncEl.children("iframe.frame-container").contents().scrollTop());try{recommendRecordTimeFresh.setTimeToLocal()}catch(e){}}if(t.hasClass("menu-geeksearch")&&!$(this).closest("dl").hasClass("menu-geeksearch")&&localStorageInstance("search-pos",Menu.toSearchEl.children("iframe.frame-container").contents().scrollTop()),$(this).closest("dl").hasClass("menu-chat")){Menu.continerEls.hide(),Menu.chatEl.show(),t.hasClass("menu-chat")?$(document).trigger("MENU_ROUTE_CHAT",{action:"flush"}):$(document).trigger("MENU_ROUTE_CHAT",{}),Menu.topContainer.find(".top-chat").show(),"undefined"!=typeof Recommend&&(Recommend.visiable=!1),$("#page_key_name").val(VersionStatus.preKa+"bpc_chat");try{_T.sendPageView()}catch(e){}Menu.setUrl("chat"),window.top.Chat&&window.top.Chat.showDialogRecruit()}else Menu.chatEl.hide(),Menu.topContainer.find(".top-chat").hide(),$(document).trigger("MENU_ROUTE_CHAT",{})
    ;if($(this).closest("dl").hasClass("menu-recommend")){if("undefined"==typeof Recommend&&(window.Recommend={}),Menu.toSyncEl.show(),Menu.setUrl($(this).attr("data-url")),Menu.topContainer.find(".top-recommend").show(),Recommend.para||(Recommend.para={}),void 0===Recommend.para.status&&(Recommend.para.status=0),$(this).closest("dl").hasClass("menu-recommend"))if(0===Recommend.para.status&&$(".top-recommend").find("li").eq(0).hide(),Menu.topContainer.find(".top-recommend .dropdown-wrap").length<=0){var i=$(".menu-recommend a").data("url"),n="?jobid=-1&status"+Recommend.para.status+"&source="+getSourceForVue(),s=i+n;Menu.syncIframeChange(s,n,null,null),$(".menu-recommend a").attr("data-url",s)}else if($(".top-recommend").find("li").hasClass("cur"))if($(".top-recommend").find("li.cur").length){var o=$(".top-recommend").find("li.cur").data("jobid");o&&-1!=o?$(".top-recommend").find("li.cur").click():$(".top-recommend").find("li").eq(1).click()}else window.location.href.indexOf("recommend")>=0&&$(".top-recommend").find("li").eq(1).click();else $(".top-recommend").find("li").eq(1).click();try{recommendRecordTimeFresh.getTimeFromLocal()&&(recommendRecordTimeFresh.isOver20Minitue(12e5)&&recommendRecordTimeFresh.publishToVue(1),recommendRecordTimeFresh.setTimeToLocal("recordTime",{recommendLevelTime:0}))}catch(e){}Menu.topContainer.find(".top-recommend li").length||Menu.topContainer.find(".top-recommend .dropdown-wrap").hide(),$("#page_key_name").val(VersionStatus.preKa+"bpc_geek_rcmd");try{_T.sendPageView()}catch(e){}Menu.fixSafari11ScrollBug&&Menu.fixSafari11ScrollBug()}if($(this).closest("dl").hasClass("menu-user")||$(this).closest("dl").hasClass("menu-account")||$(this).closest("dl").hasClass("menu-msgset")||$(this).closest("dl").hasClass("menu-company-prop")||$(this).parent().hasClass("figure")||$(this).closest("dl").hasClass("menu-resume")||$(this).closest("dl").hasClass("menu-webcast")?($("body").addClass("page-iframe"),Menu.toRsyncEl.html('<iframe class="frame-container" name="frameContainer" src="'+$(this).attr("data-url")+'"></iframe>'),Menu.continerEls.hide(),Menu.toRsyncEl.show(),Menu.setUrl($(this).attr("data-url")),"undefined"!=typeof Recommend&&(Recommend.visiable=!1),Menu.isSuportCalc||Menu.toRsyncEl.find(".frame-container").css("height",$(window).height()-68+"px"),Menu.vueIframeClear()):$("body").removeClass("page-iframe"),$(this).closest("dl").hasClass("menu-recommend")||$(this).closest("dl").hasClass("menu-position")||$(this).closest("dl").hasClass("menu-colleague")||$(this).closest("dl").hasClass("menu-inspect")||$(this).closest("dl").hasClass("menu-salary")||$(this).closest("dl").hasClass("menu-prop")||$(this).closest("dl").hasClass("menu-webcast")||$(this).closest("dl").hasClass("menu-geeksearch-inner")||$(this).closest("dl").hasClass("menu-geekinterview-inner")||$(this).closest("dl").hasClass("menu-hunter-manage")||$(this).closest("dl").hasClass("menu-webcast")||$(this).closest("dl").hasClass("menu-find")){var a=$(this);$("body").addClass("page-iframe"),Menu.continerEls.hide();var n={};if(a.closest("dl").hasClass("menu-geekinterview-inner")){var r=decodeURIComponent(window.location.search.substr(1));if(r.indexOf("&")>-1){r=r.substr(r.indexOf("&")+1);var c=r.split("&");$.each(c,function(e,t){var i=t.split("=");i&&2==i.length&&(n[i[0]]=i[1])})}}Menu.setUrl(a.attr("data-url")),"undefined"!=typeof Recommend&&(Recommend.visiable=!1),Menu.vueIframeChange(a.attr("data-url"),n),Menu.toVueEl.show(),Menu.isSuportCalc||(Menu.toVueEl.find(".frame-container").css("height",$(window).height()-54+"px"),Menu.toSyncEl.find(".frame-container").css("height",$(window).height()-54+"px"))}if($(this).closest("dl").hasClass("menu-recommend")?($("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.toSyncEl.show(),Menu.setUrl($(this).attr("data-url")),Menu.syncIframeChange($(this).attr("data-url"),n,null,null)):Menu.toSyncEl.hide(),$(this).closest("dl").hasClass("menu-position")&&(Menu.topContainer.find(".top-position").show(),$("#page_key_name").val(VersionStatus.preKa+"bpc_job_list")),$(this).closest("dl").hasClass("menu-webcast")&&Menu.topContainer.find(".top-webcast").show(),$(this).closest("dl").hasClass("menu-find")&&Menu.topContainer.find(".top-find").show(),$(this).closest("dl").hasClass("menu-hunter-manage")&&Menu.topContainer.find(".top-hunter-manage").show(),$(this).closest("dl").hasClass("menu-geeksearch")){Menu.gotoGeekSearch();var l={action:"super-search",p:1};try{window.top.Block.action(l)}catch(e){}}if($(this).closest("dl").hasClass("menu-prop")&&(Menu.topContainer.find(".top-prop").show(),Menu.topContainer.find(".top-prop a").removeClass("cur"),Menu.topContainer.find(".top-prop a").eq(0).addClass("cur"),$("#page_key_name").val(VersionStatus.preKa+"bpc_item_mine")),$(this).closest("dl").hasClass("menu-user")&&(Menu.getRecruitStatus({source:3}),Menu.isRedirect=!1,Menu.topContainer.find(".top-company").show(),Menu.topContainer.find(".top-company a").removeClass("cur"),Menu.topContainer.find(".top-company a").eq(0).addClass("cur"),$("#page_key_name").val(VersionStatus.preKa+"bpc_boss_info_v1")),$(this).closest("dl").hasClass("menu-company-prop")&&$("#page_key_name").val(VersionStatus.preKa+"bpc_meritem_item"),$(this).closest("dl").hasClass("menu-colleague")&&(Menu.topContainer.find(".top-colleague").show(),Menu.topContainer.find(".top-colleague a").removeClass("cur").eq(0).addClass("cur"),$("#page_key_name").val(VersionStatus.preKa+"bpc_colleagues")),$(this).closest("dl").hasClass("menu-webcast")){Menu.topContainer.find(".top-webcast").show(),Menu.topContainer.find(".top-tab-myLive").hide();var d=$(this).closest("dl").find("a").data("url");Menu.topContainer.find(".top-webcast a").removeClass("cur"),Menu.topContainer.find(".top-webcast a").each(function(e,t){$(t).data("url")===d&&$(t).addClass("cur")})}if($(this).closest("dl").hasClass("menu-inspect")&&Menu.topContainer.find(".top-inspect").show(),$(this).closest("dl").hasClass("menu-salary")&&(Menu.topContainer.find(".top-salary").show(),$("#page_key_name").val(VersionStatus.preKa+"query-pay")),$(this).closest("dl").hasClass("menu-resume")?(Menu.topContainer.find(".top-resume").show(),Menu.topContainer.find(".top-resume a").removeClass("cur").eq(0).addClass("cur"),Menu.topContainer.find(".interview-cell").hide(),$("#page_key_name").val(VersionStatus.preKa+"bpc_wordhr_resume")):Menu.topContainer.find(".interview-cell").show(),$(this).closest("dl").hasClass("menu-geeksearch-inner")&&(seriesLoadScripts(INTERFACE_URLS.candidateJs),Menu.topContainer.find(".top-geeksearch").show(),$("#page_key_name").val(VersionStatus.preKa+"bpc_geek_search_inner")),$(this).closest("dl").hasClass("menu-geekinterview-inner")){seriesLoadScripts(INTERFACE_URLS.candidateJs);var p=Menu.topContainer.find(".top-interview");$.ajax({url:"/wapi/zpboss/h5/inner/interview/getTodayInterviewNum",type:"get",dataType:"json",success:function(e){0===e.code&&e.zpData&&!isNaN(e.zpData.interviewNum)&&p.find(".interview-count em").html(e.zpData.interviewNum)}}),p.show(),$("#page_key_name").val(VersionStatus.preKa+"bpc_geek_interview_inner")}if($(this).parent().hasClass("figure")&&(Menu.topContainer.find(".top-company").show(),Menu.topContainer.find(".top-company a").removeClass("cur"),Menu.topContainer.find(".top-company a").eq(0).addClass("cur"),$("#page_key_name").val(VersionStatus.preKa+"bpc_boss_info_v1")),$(this).closest("dl").hasClass("menu-recommend")){var u=sessionStorage.getItem("recommond_position")||0,h=$(".sync-container iframe").contents();h.find("body")&&h.find("body").length&&("auto"==h.find("body").get(0).style.height?h.find("body").get(0).style.height="100%":h.find("body").get(0).style.height="auto"),h.scrollTop(0),h.scrollTop(u)}Menu.vueIframeClear(),$("#backChatBtn").length&&$("#backChatBtn").hide()}}),Menu.topContainer.find(".top-recommend").on("click","li",function(){var e=$(this),t=e.closest(".dropdown-wrap").find(".dropdown-select"),i=$(this).find(".filter-job-text").text();t.html(i);var n=$(this).find(".position-type");if(n.length&&t.append(n.clone()),e.parent().find("li").removeClass("cur"),e.addClass("cur"),e.closest(".dropdown-wrap").removeClass("dropdown-menu-open"),1===e.length){Recommend.para||(Recommend.para={});var s=e.data("jobid");Recommend.para.jobid=s;var o=$(".menu-recommend a").data("url"),a="?jobid="+s+"&status="+(Recommend.para.status||0)+"&source="+getSourceForVue(),r=o+a;Menu.syncIframeChange(r,a,null,null),$(".menu-recommend a").attr("data-url",r),Menu.setUrl&&Menu.setUrl(r),0!=Recommend.para.status&&3!=Recommend.para.status||(window.top.Recommend.recommendIndex=Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li.cur").index(),Menu.isRecommendCareModule({jobId:0==Recommend.para.status||3==Recommend.para.status?s:window.top.Recommend.recommendJobId||""}))}}),Menu.topContainer.find(".top-menu a").on("click",function(e){if(routerStop.get())return void companyVideoDialog(e);var t=$(this);if(!t.hasClass("top-tab-myLive")){var i=Menu.topContainer.find(".top-tab-myLive");if(i.length&&i.hide(),t.parent().find("a").removeClass("cur"),t.addClass("cur"),Menu.continerEls.hide(),t.attr("data-url")){if($("body").addClass("page-iframe"),t.attr("data-message"))window.frames.frameContainer.postMessage({type:"routerLink",url:t.attr("data-message")},"*"),Menu.toRsyncEl.show();else if(t.attr("data-url").indexOf("/dashboard")>-1||t.attr("data-url").indexOf("/web/boss")>-1){var n={};Menu.vueIframeChange(t.attr("data-url"),n),Menu.toVueEl.show()}else t.attr("data-url").indexOf("/webcast"),Menu.toRsyncEl.html('<iframe class="frame-container" src="'+$(this).attr("data-url")+'" name="frameContainer"></iframe>'),Menu.toRsyncEl.show();Menu.setUrl($(this).attr("data-url")),Menu.isSuportCalc||Menu.toRsyncEl.find(".frame-container").css("height",$(window).height()-68+"px")}Menu.vueIframeClear()}}),$(".top-company .vip-classification-tab").on("click",function(){try{window.top.Block&&window.top.Block.action({action:"extension-hunter-viplevel-enterpage",p:"4"})}catch(e){}}),$(".top-company .geek-evaluate-tab").on("click",function(){try{window.top.Block&&window.top.Block.action({action:"extension-hunter-evaluation-assesstabpc"})}catch(e){}}),Menu.gotoPage(),"onpopstate"in window&&-1==window.navigator.userAgent.indexOf("Edge")&&(window.onpopstate=function(){Menu.gotoPage()}),mediator.subscribe("APP_RECOMMEND_TAB",function(e){"Recommend"in window?Recommend.changeTableByStatus(8):Menu.setUrl("recommend","-1","8"),!Menu.sideEl.find("dl.cur").hasClass("menu-recommend")&&Menu.gotoCategory("recommend")}),$(".link-signout").on("click",function(e){if(e.preventDefault(),routerStop.get())return void companyVideoDialog(e);$.ajax({type:"get",url:"/wapi/zppassport/user/logout",dataType:"json",success:function(e){if(0==e.code){var t=window.location.hostname;t=t.substring(t.indexOf(".")),cookie.clearcookie("t","/",t),cookie.clearcookie("wt","/",t),e.zpData.toUrl?window.location.href=e.zpData.toUrl:window.location.href="/"}else $.toast({type:"error",content:"鏈嶅姟鍣ㄥ紓甯�"})},error:function(){$.toast({type:"error",content:"鏈嶅姟鍣ㄥ紓甯�"})}})}),window.top.mediator.subscribe("ITEM_PUBLISH_STORE",function(e){var t=e||{};t.itemType?PropStore.buy({itemType:t.itemType}):Menu.topContainer.find(".top-menu a").eq(0).click()})},showHidePreviewJobList:function(){var e=0;Recommend&&Recommend.para&&(e=Number(Recommend.para.status)),0===e||3===e?Menu.topContainer.find(".top-recommend .dropdown-wrap .dropdown-menu").removeClass("not-recommend").addClass("is-recommend"):Menu.topContainer.find(".top-recommend .dropdown-wrap .dropdown-menu").removeClass("is-recommend").addClass("not-recommend")},isRecommendCareModule:function(e){var t=function(e){if(e&&0===e.code){var t=e.zpData;if(t&&(t.showEntrance||3!==window.top.Recommend.para.status||(window.top.Recommend.recommendIndex=Menu.topContainer.find(".top-recommend .dropdown-wrap").find("li.cur").index(),window.top.mediator&&window.top.mediator.publish("recommendToParent",{status:0})),$(".sync-container iframe").length)){var i=window.frames.syncFrame;i&&i.postMessage({name:"recommend-care",showEntrance:t.showEntrance,newGeekCount:t.newGeekCount,entranceText:t.entranceText},"*")}}};-1!==e.jobId&&"-1"!==e.jobId||(e.jobId=null),$.ajax({url:"/wapi/zpitem/web/refinedGeek/entrance",data:{encryptJobId:e.jobId},success:t})},syncIframeChange:function(e,t,i,n){if(!e)return!1;var s=function(e){if(!t)return!1;e.postMessage({type:"vue-message",params:t,router:i},"*")},o=Menu.toSyncEl.find("iframe");o.length?(o.attr("src",e),s(window.frames.syncFrame),n&&n()):(Menu.toSyncEl.html('<iframe class="frame-container" name="syncFrame" src="'+e+'"></iframe>'),o=Menu.toSyncEl.find("iframe"),o.load(function(){s(window.frames.syncFrame)}))},vueIframeChange:function(e,t,i,n){if("/bossweb/joblist.html"===e&&(e="/vue/index/#/dashboard/job-manage/job-list"),!e)return!1;var s=function(e){if(!t)return!1;e.postMessage({type:"vue-message",params:t,router:i},"*")},o=Menu.toVueEl.find("iframe");o.length?(o[0].src=e,s(window.frames.vueContainer),n&&n()):(Menu.toVueEl.html('<iframe class="frame-container" name="vueContainer" src="'+e+'" allowfullscreen="true"></iframe>'),o=Menu.toVueEl.find("iframe"),o.load(function(){s(window.frames.vueContainer)}))},vueIframeClear:function(){Menu.toVueEl.is(":hidden")&&Menu.toVueEl.find("iframe").length>0&&Menu.vueIframeChange("/vue/index/#/")},gotoAccountSet:function(e){Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-msgset").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-account").show(),Menu.topContainer.find(".top-account .top-menu a").removeClass("cur").eq(0).addClass("cur"),Menu.topContainer.find(".top-account").show(),Menu.topContainer.find(".top-account a").removeClass("cur"),Menu.topContainer.find(".top-account a").eq(0).addClass("cur"),$("#page_key_name").val(VersionStatus.preKa+"bpc_boss_info_account"),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl(e),Menu.vueIframeChange(e),Menu.toVueEl.show()},showChatAndHideVue:function(e){function t(){try{_T.sendEvent("geek_manage")}catch(e){}Menu.showChatAndHideVue(!1)}function i(){try{_T.sendEvent("chat_list_return")}catch(e){}Menu.showChatAndHideVue(!0)}if(e){if($("#backChatBtn").hide(),Menu.toVueEl.hide(),$("body").removeClass("page-iframe"),$(".top-chat").show(),Menu.chatEl.show(),Menu.vueIframeClear(),!$("#toCattleManageBtn").length){$(".chat-container .op-filter .group-btns").after('<div id="toCattleManageBtn" class="to-cattle-manage-btn"> <i class="iboss-niurenguanliv" style="color:#5DD5C8; margin-right:9px;"></i>鐗涗汉绠＄悊</div>')}$("#toCattleManageBtn").show(),$("#toCattleManageBtn").unbind(),$("#toCattleManageBtn").on("click",t)}else{if(Menu.chatEl.hide(),$(".top-chat").hide(),Menu.toVueEl.show(),$("body").addClass("page-iframe"),!$("#backChatBtn").length){$(".top-inner").append('<div class="top-op top-cattle-manage" id="backChatBtn" style="cursor: pointer;"><div class="top-menu"><i class="iboss-right"></i><span>杩斿洖娑堟伅鍒楄〃</span></div></div>')}$("#backChatBtn").show(),$("#backChatBtn").unbind(),$("#backChatBtn").on("click",i),Menu.vueIframeChange("/vue/index/#/dashboard/cattleManage")}},gotoCategory:function(e,t){var i=".side-menu .menu-"+e,n=$(i);if("postjob"===e||"editJob"===e){var s=0;"editJob"===e&&(s=t.encryptJobId),window.top.mediator&&window.top.mediator.publish("TO_JOB_EDIT",{encryptId:s})}else n.length&&n.find("a").click()},showHelpTip:function(){$.dialog({title:"",content:$(".hunter-help").prop("outerHTML"),closeText:!0,confirmText:"纭畾",cancelText:"鍙栨秷",preKa:"",wrapClass:"dialog-hunter-welcome",lock:!0,onOpen:function(e){},onConfirm:function(e){e.remove()}})},toggleTopMenu:function(e){$(".top-op").hide(),$("."+e).show()},jumpExternalPart:function(){var e=decodeURIComponent(location.href),t=e.indexOf("mu=/hunter/index");e.match(/\?mu=(.+)/gim),-1!==t&&(Menu.gotoFramePage(RegExp.$1,RegExp.$1,$(this).attr("data-op")),Menu.items.removeClass("cur"),$(".menu-position").addClass("cur"))},gotoFramePage:function(e,t,i){Menu.setUrl(e),$("body").addClass("page-iframe"),Menu.toRsyncEl.html('<iframe class="frame-container" name="frameContainer" src="'+t+'"></iframe>'),Menu.continerEls.hide(),Menu.toRsyncEl.show(),$(".top-inner .top-op").hide(),Menu.vueIframeClear(),i&&$(".top-inner").find("."+i).show()},gotoPage:function(){var e=getQueryString("mu"),t=window.location.href,i=!1;if(e)if(Menu.getWebcastGuide(),-1==e.indexOf("/dashboard/candidate/recommend")&&Menu.toSyncEl.hide(),"viewed"==e||e.indexOf("/bossweb/tag/2/")>-1)Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-viewed").addClass("cur"),Menu.sideEl.find(".menu-viewed a").trigger("click");else if("recommend"==e||e.indexOf("/dashboard/candidate/recommend")>-1||t.indexOf("/dashboard/candidate/recommend")>-1)Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-recommend").addClass("cur"),Menu.sideEl.find(".menu-recommend a").trigger("click");else if("chat"==e||e.indexOf("/candidate/")>-1)Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-chat").addClass("cur"),Menu.sideEl.find(".menu-chat a").trigger("click"),window.top.Chat&&window.top.Chat.showDialogRecruit();else if("search"==e||e.indexOf("/boss/search")>-1)Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-geeksearch").addClass("cur"),Menu.sideEl.find(".menu-geeksearch a").trigger("click");else if(e){if((e.indexOf("/bossweb/joblist.html")>-1||e.indexOf("/bossweb/jobedit/")>-1)&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-position").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-position").show(),e.indexOf("/bossweb/joblist.html")>-1&&Menu.sideEl.find(".menu-position").find("a").trigger("click"),e.indexOf("/bossweb/jobedit/")>-1)){var n=e.substr(e.indexOf("/bossweb/jobedit/")+"/bossweb/jobedit/".length),s=n.substr(0,n.indexOf(".html")),o="/vue/index/#/dashboard/job-manage/job-edit/"+s;$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl(o),Menu.vueIframeChange(o)}(e.indexOf("/dashboard/job-manage/question-list")>-1||e.indexOf("/dashboard/job-manage/test-bank")>-1)&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-position").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-position").show(),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl(e),Menu.vueIframeChange(e),Menu.toVueEl.show()),e.indexOf("/dashboard/prop/store")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-prop").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-prop").show(),Menu.topContainer.find(".top-prop .top-menu a").removeClass("cur").eq(0).addClass("cur").trigger("click")),e.indexOf("/dashboard/prop/mine")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-prop").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-prop").show(),Menu.topContainer.find(".top-prop .top-menu a").removeClass("cur").eq(1).addClass("cur").trigger("click")),e.indexOf("/dashboard/prop/notice")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-prop").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-prop").show(),Menu.topContainer.find(".top-prop .top-menu a").removeClass("cur").eq(2).addClass("cur").trigger("click")),e.indexOf("/boss/item/vipprivilege")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-prop").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-vip-detail").show(),i=!0),e.indexOf("/web/boss/hunter-manage")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-hunter-manage").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-hunter-manage").show(),i=!0),e.indexOf("/web/boss/hunter-week-report")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-hunter-manage").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-hunter-manage").show(),Menu.topContainer.find(".top-hunter-manage .top-menu a").removeClass("cur").eq(1).addClass("cur").trigger("click"),i=!0),e.indexOf("/web/boss/create-center")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-find").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-find").show(),i=!0);var a=[{className:"top-tab-webcast",name:"鍔熻兘浠嬬粛",path:"/web/boss/webcast/funcintro"},{className:"top-tab-reserve",name:"鎴戠殑鐩存挱",flag:!0,path:"/web/boss/webcast/liveContainer/reserve"},{className:"top-tab-myPreach",name:"鎴戠殑鐩存挱",path:"/web/boss/webcast/liveContainer/mypreach"},{className:"top-tab-myLive",name:"鎴戠殑鐩存挱",flag:!0,path:"/web/boss/webcast/liveContainer/liveshow"},{className:"top-tab-myLive",name:"鎴戠殑鐩存挱",flag:!0,path:"/web/boss/webcast/liveContainer/livereplay"},{className:"top-tab-myLive",name:"鎴戠殑鐩存挱",flag:!0,path:"/web/boss/webcast/liveContainer/mylive"},{className:"top-tab-apply",name:"鐢宠鐩存挱",path:"/web/boss/webcast/apply"},{className:"top-tab-resume",name:"鏀跺埌鐨勭畝鍘�",path:"/web/boss/webcast/resume"},{className:"top-tab-strategy",name:"鐩存挱鏀荤暐",path:"/web/boss/webcast/strategy"}],r=["top-tab-reserve","top-tab-myPreach","top-tab-myLive"];if(a.forEach(function(t){e.indexOf(t.path)>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-webcast").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-webcast .top-menu a").removeClass("cur"),t.flag?(r.indexOf(t.className)>-1?Menu.topContainer.find(".top-tab-myPreach").addClass("cur").show():Menu.topContainer.find("."+t.className).addClass("cur").show(),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl(e),Menu.vueIframeChange(e),Menu.toVueEl.show()):(Menu.topContainer.find(".top-tab-myLive").hide(),Menu.topContainer.find("."+t.className).addClass("cur").trigger("click")),Menu.topContainer.find(".top-webcast").show())}),e.indexOf("/dashboard/business")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-colleague").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-colleague").show(),e.indexOf("/dashboard/business/colleague")>-1?Menu.topContainer.find(".top-colleague .top-menu a").removeClass("cur").eq(0).addClass("cur").trigger("click"):e.indexOf("/dashboard/business/bprop")>-1?Menu.topContainer.find(".top-colleague .top-menu a").removeClass("cur").eq(1).addClass("cur").trigger("click"):e.indexOf("/dashboard/business/account")>-1?Menu.topContainer.find(".top-colleague .top-menu a").removeClass("cur").eq(2).addClass("cur").trigger("click"):e.indexOf("/dashboard/business/brand")>-1?Menu.topContainer.find(".top-colleague .top-menu a").removeClass("cur").eq(3).addClass("cur").trigger("click"):Menu.sideEl.find(".menu-colleague a").trigger("click")),e.indexOf("/dashboard/inspect")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-inspect").addClass("cur").find("a").trigger("click"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-inspect").show()),e.indexOf("/dashboard/salary")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-salary").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-salary").show(),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl(e),Menu.vueIframeChange(e),Menu.toVueEl.show(),Menu.isSuportCalc||(Menu.toVueEl.find(".frame-container").css("height",$(window).height()-54+"px"),Menu.toSyncEl.find(".frame-container").css("height",$(window).height()-54+"px"))),(e.indexOf("/user/company")>-1||e.indexOf("/dashboard/company")>-1)&&(Menu.items.removeClass("cur"),$.get(BusinessApis.getUrl("enterpriseGetBossRoleType"),function(e){var t=e.zpData;2===t.roleType||3===t.roleType?(Menu.sideEl.find(".menu-colleague").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-colleague").show(),Menu.topContainer.find(".top-colleague .top-menu a").removeClass("cur"),Menu.topContainer.find(".top-colleague .top-menu a.J-company-home").addClass("cur").trigger("click")):(Menu.sideEl.find(".menu-user").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-company").show(),Menu.topContainer.find(".top-company .top-menu a").removeClass("cur").eq(1).addClass("cur").trigger("click"))})),e.indexOf("/enterprise/resume/pool")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-colleague").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-colleague").show(),Menu.topContainer.find(".top-colleague .top-menu a").removeClass("cur").eq(4).addClass("cur"),i=!0),(e.indexOf("/web/boss/profile")>-1||e.indexOf("/web/boss/experience")>-1)&&(Menu.getRecruitStatus({source:3}),Menu.isRedirect=!1,Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-user").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-company").show(),Menu.topContainer.find(".top-company .top-menu a").removeClass("cur").eq(0).addClass("cur"),i=!0),e.indexOf("/web/boss/set/licence")>-1)return Menu.gotoAccountSet("/web/boss/set/licence"),!1;if(e.indexOf("/web/boss/set/email")>-1)return Menu.gotoAccountSet("/web/boss/set/email"),!1;if(e.indexOf("/web/boss/vip-classification")>-1)return Menu.gotoVipClassification(),!1;if(e.indexOf("/web/boss/geek-evaluate")>-1)return Menu.gotoGeekEvaluate(),!1;if(e.indexOf("/boss/account/management")>-1||e.indexOf("/web/boss/set/phone")>-1)return Menu.gotoAccountSet("/web/boss/set/phone"),!1;if(e.indexOf("/boss/account/management/?type=1")>-1||e.indexOf("/web/boss/set/greeting")>-1)return Menu.gotoAccountSet("/web/boss/set/greeting"),!1;e.indexOf("zhipin/")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-resume").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-resume").show(),Menu.topContainer.find(".top-resume .top-menu a").removeClass("cur").eq(0).addClass("cur"),i=!0),e.indexOf("/dashboard/inner/search")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-geeksearch-inner").addClass("cur"),Menu.sideEl.find(".menu-geeksearch-inner a").trigger("click")),e.indexOf("/dashboard/inner/interview")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-geekinterview-inner").addClass("cur"),Menu.sideEl.find(".menu-geekinterview-inner a").trigger("click")),e.indexOf("/testReport")>-1&&(Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-geekinterview-inner").addClass("cur"),Menu.topContainer.find(".top-op").hide(),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl(e),Menu.vueIframeChange(e),Menu.toVueEl.show()),e.indexOf("/dashboard/recordscenter")>-1&&(Menu.items.removeClass("cur"),Menu.topContainer.find(".top-op").hide(),e.indexOf("?")>-1?($(".records-center").find(".num").remove(),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl(e),Menu.vueIframeChange(e),Menu.toVueEl.show(),Menu.isSuportCalc||(Menu.toVueEl.find(".frame-container").css("height",$(window).height()-54+"px"),Menu.toSyncEl.find(".frame-container").css("height",$(window).height()-54+"px"))):$(".records-center").trigger("click").find(".num").remove()),e.indexOf("/dashboard/message")>-1&&(Menu.items.removeClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-message").show(),Menu.topContainer.find(".top-message-menu").trigger("click").find(".message-red-point").remove()),i&&($("body").addClass("page-iframe"),1===Menu.toRsyncEl.find("frame-container[name=frameContainer]").length?Menu.toRsyncEl.find("frame-container[name=frameContainer]").attr("src",e):Menu.toRsyncEl.html('<iframe class="frame-container" name="frameContainer" src="'+e+'"></iframe>'),Menu.continerEls.hide(),Menu.toRsyncEl.show(),Menu.isSuportCalc||Menu.toRsyncEl.find(".frame-container").css("height",$(window).height()-68+"px"))}},setReconmentJobStatus:function(e){var t=Menu.topContainer.find('.top-recommend li[data-jobid="'+e+'"]');t.length&&(t.attr("data-open",1),t.find(".position-type").remove(),Menu.topContainer.find(".top-recommend .dropdown-select .position-type").remove())},setUrl:function(e,t,i){var e=e||"",n=getQueryString("debug"),t=t||getQueryString("jobid"),i=i||getQueryString("status");e&&""!=e&&(e="?mu="+encodeURIComponent(e)),t&&e.indexOf("mu=recommend")>-1&&(e+="&jobid="+t),i&&e.indexOf("mu=recommend")>-1&&(e+="&status="+i),n&&(e+="&debug=1"),"pushState"in history&&(t&&i?window.history.replaceState(null,null,e):window.history.pushState(null,null,e)),Menu.sideEl.trigger("urlchange",e)},showPopFrame:function(e){var e=e,t=e.attr("data-url");$.dialog({title:"",content:'<iframe class="pop-frame" src="'+t+'"></iframe>',closeText:!0,confirmText:"",cancelText:"",preKa:"zd_gift_",wrapClass:"dialog-promotion-iframe",lock:!0,onOpen:function(e){},onConfirm:function(e){e.remove()}})},showPopWordhr:function(e){$.dialog({title:"",content:'<div class="content-wordhr"><a href="https://www.wordhr.com" target="_blank" ka="pop_wordhr_link"><img src="https://z.zhipin.com/web/boss/resource/provision/wordhr-pop-banner.jpg" /></a></div>',closeText:!0,confirmText:"",cancelText:"",preKa:"pop_wordhr",wrapClass:"dialog-promotion-worhr",lock:!0,onOpen:function(e){},onConfirm:function(e){e.remove()}})},updateWordhrTopNav:function(e){var t=e.url;t.indexOf("/zhipin/setting")>-1?Menu.topContainer.find(".top-resume a").removeClass("cur").eq(2).addClass("cur"):t.indexOf("/zhipin/interview")>-1?Menu.topContainer.find(".top-resume a").removeClass("cur").eq(1).addClass("cur"):Menu.topContainer.find(".top-resume a").removeClass("cur").eq(0).addClass("cur")},fixSafari11ScrollBug:function(e){try{if(UA.indexOf("safari")&&UA.indexOf("11")){var t=e?$(".geeksearch-container iframe"):$(".sync-container iframe"),i=t.contents().find("#main");"0px"===i.css("border-width")?i.css("border","1px solid #f1f1f1"):"1px"===i.css("border-width")&&i.css("border","0px solid #f1f1f1")}}catch(e){}},getEmailSwitch:function(){window.GlobalGray&&GlobalGray.getResByName("notifySetting",function(e){0==e.code&&e.zpData.userNotifySettingList.forEach(function(e){if(116==e.notifyType){4==e.settingType?window.top._PAGE.emailSwitch=!0:window.top._PAGE.emailSwitch=!1}})})},getRecruitStatus:function(e){$.ajax({url:"/wapi/zpuser/wap/getUserInfo.json",type:"POST",data:{},dataType:"JSON",timeout:3e4,success:function(t){if(0===t.code&&(Menu.recruitStatus=t.zpData.agentRecruit),0===t.code&&t.zpData&&t.zpData.recruit&&!$(".dialog-recruit").length){try{if(3===e.source)try{_T.sendEvent("change_realme_picture_2")}catch(e){}}catch(e){}$.dialog({title:"",type:"warning",content:'<div class="tip-text">浣跨敤鐪熷疄澶村儚锛岃兘璁╂偍鑾峰緱鐗涗汉鏇村鐨勪俊浠诲摝锛岃涓婁紶鎮ㄧ殑鐪熷疄澶村儚鍚э綖</div>',closeText:!1,closeLayer:!1,confirmText:"绔嬪嵆涓婁紶",cancelText:!1,wrapClass:"dialog-icons-default dialog-recruit",onConfirm:function(t){try{3===e.source&&_T.sendEvent("change_realme_picture_click_2")}catch(e){}t.remove(),window.top.uploadAvatar&&window.top.uploadAvatar.init({type:2,source:Menu.isRedirect?1:e.source,successCallback:function(e){$.dialog({title:"鏂板ご鍍忓凡鎻愪氦瀹℃牳",type:"info",content:'<div class="tip-text">澶村儚淇敼宸叉彁浜ゅ鏍革紝瀹℃牳閫氳繃鍚庤嚜鍔ㄦ洿鏂版偍鐨勪俊鎭�</div>',closeText:!1,closeLayer:!1,confirmText:"鐭ラ亾浜�",cancelText:!1,wrapClass:"dialog-icons-default dialog-recruit",onConfirm:function(e){e.remove()}})},failCallback:function(e){$.toast({type:"error",content:e.message})}})}})}}})},redirectPage:function(e){Menu.items.each(function(){($(this).find("a").attr("data-url")+"").indexOf(e)>-1&&(e.indexOf("/boss/user/info.html")>-1&&(Menu.isRedirect=!0),$(this).find("a").trigger("click"))})},handleFindMenuFirstGuide:function(){window.GlobalGuide&&window.GlobalGuide.getGuideByName("createCenter",function(e){if(e.show){$(".menu-find a").append('<div class="find-menu-guide-container">                    <div class="left-bg"></div>                    <div class="right-text">                        <p class="guide-title">鍥炵瓟闂锛屽彲浠ヨ耽寰楄亴浣嶆洕鍏夋満浼氬懄锝�</p>                        <p class="my-guide-btn">鍘荤湅鐪�</p>                    </div>                    <p class="close-icon close-btn"></p>                </div>'),$(".find-menu-guide-container").on("click",function(e){e.stopPropagation()}),$(".my-guide-btn").on("click",function(){
        localStorage.setItem("showFindMenuFirstGuide",1),mediator&&mediator.publish("TO_CREATE_CENTER"),$(".find-menu-guide-container").remove()}),$(".find-menu-guide-container .close-btn").on("click",function(e){localStorage.setItem("showFindMenuFirstGuide",1),$(".find-menu-guide-container").remove()});var t=$(document).find("dl.menu-find");if(t.length){var i=setInterval(function(){var e=t.offset();$(".find-menu-guide-container").css("top",e.top-19+"px")},500);setTimeout(function(){clearInterval(i)},5e3)}$(".side-menu").on("scroll",function(){var e=t.offset(),i=e.top-2;$(".find-menu-guide-container").css("top",i+"px")})}})},getVipUserLevelData:function(){window.GlobalGray&&GlobalGray.getResByName("checkUserLevel",function(e){if(0===e.code&&e.zpData&&e.zpData.isGray){var t=localStorage.getItem("vipClassificationRedIcon"),i=t?"":'<em class="vip-classification-entry-new">new</em>',n='<li><a href="javascript:;" class="link-vip-classification" ka="menu_dropdown_vip-classification"> 浼氬憳绛夌骇'+i+"<span><span>鎻愬崌绛夌骇锛岃幏寰楁洿澶氭潈鐩�</span></a></li>";$(n).insertAfter($(".dropdown-logout .dropdown-menu li").eq(0)),$(".link-vip-classification").on("click",function(){$(".vip-classification-entry-new").remove(),Menu.gotoVipClassification(),localStorage.setItem("vipClassificationRedIcon",1);try{window.top.Block.action({action:"extension-hunter-viplevel-enterpage",p:2})}catch(e){}}),window.localStorage.vipClassificationRedIcon||($(".side-menu .menu-user").css("position","relative").append($("<em>new</em>").css({position:"absolute","font-style":"normal",right:"16px",top:"14px","z-index":2,width:"34px",height:"14px","border-radius":"7px",background:"#FA6B43",color:"#FFFFFF","font-size":"12px","line-height":"14px","text-align":"center"})),$(".top-menu .vip-classification-red-icon").show())}})},gotoVipClassification:function(){Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-user").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-company").show(),Menu.topContainer.find(".top-company .top-menu a").removeClass("cur"),Menu.topContainer.find(".top-company .top-menu .vip-classification-tab").addClass("cur"),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl("/web/boss/vip-classification"),Menu.vueIframeChange("/web/boss/vip-classification"),Menu.toVueEl.show()},gotoGeekEvaluate:function(){Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-user").addClass("cur"),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-company").show(),Menu.topContainer.find(".top-company .top-menu a").removeClass("cur"),Menu.topContainer.find(".top-company .top-menu .geek-evaluate-tab").addClass("cur"),$("body").addClass("page-iframe"),Menu.continerEls.hide(),Menu.setUrl("/web/boss/geek-evaluate"),Menu.vueIframeChange("/web/boss/geek-evaluate"),Menu.toVueEl.show()},getWebcastGuide:function(){window.GlobalGuide&&window.GlobalGuide.getGuideByName("liveBossApply",function(e){if(e.show){$(".menu-webcast a").append('<div class="webcast-guide-container">\t\t\t\t\t\t\t<p class="guide-title">浣犵殑鏍℃嫑鐩存挱宸查€氳繃瀹℃牳锛屽湪杩欓噷鍙互绠＄悊浣犵殑鐩存挱鍟︼紒</p>\t\t\t\t\t\t\t\t<p class="custom-guide-btn close-btn">\t\t\t\t\t\t\t\t\t<span class="know">鎴戠煡閬撲簡</span>\t\t\t\t\t\t\t\t</p>\t\t\t\t\t\t\t</div>'),$(".webcast-guide-container .know").on("click",function(e){e.stopPropagation(),$(".webcast-guide-container").remove(),window.localStorage.setItem("showLiveGuide","true")});var t=$(document).find("dl.menu-webcast");if(t.length){var i=setInterval(function(){var e=t.offset();$(".webcast-guide-container").css("top",e.top-20+"px")},500);setTimeout(function(){clearInterval(i)},5e3)}$(".side-menu").on("scroll",function(){var e=t.offset(),i=e.top-20;$(".webcast-guide-container").css("top",i+"px")})}})},getVipBuyGuide:function(){window.GlobalGray&&GlobalGray.getResByName("vipBuyGuide",function(e){0==e.code&&e.zpData&&e.zpData.desc&&Menu.addVipBuyGuide(e.zpData)})},addVipBuyGuide:function(e){var t='<div class="vip-guide-container"><a href="javascript:;" class="guide-close"><i class="iboss-close"></i></a><p class="guide-txt">'+e.desc+"</p></div>";Menu.topContainer.find(".vip-detail").after(t),Menu.topContainer.find(".vip-guide-container .guide-close").on("click",function(e){e.stopPropagation(),$.ajax({url:"/wapi/zpblock/vip/vipCallback/bubble/close",type:"get",dataType:"json",success:function(e){0==e.code&&e.zpData&&Menu.topContainer.find(".vip-guide-container").remove()}})})},gotoGeekSearch:function(){var e=!1,t=getQueryParams(window.top.location.href);"search#/"==t.mu||"search"==t.mu?e=!0:Menu.setUrl("search"),$("body").addClass("page-iframe"),0===Menu.toSearchEl.children("iframe.search-frame-container").length&&Menu.toSearchEl.html('<iframe class="frame-container search-frame-container" name="searchFrameContainer" src="/vue/index/#/dashboard/search-candidate"></iframe>'),Menu.toSearchEl.children("iframe.search-frame-container").attr("src","/vue/index/#/dashboard/search-candidate"),Menu.items.removeClass("cur"),Menu.sideEl.find(".menu-geeksearch").addClass("cur"),Menu.continerEls.hide(),Menu.toSearchEl.show(),Menu.fixSafari11ScrollBug&&Menu.fixSafari11ScrollBug(!0),Menu.topContainer.find(".top-op").hide(),Menu.topContainer.find(".top-geeksearch").show(),"undefined"!=typeof Recommend&&(Recommend.visiable=!1),localStorageInstance("search-pos")&&$(".geeksearch-container iframe").contents().scrollTop(localStorageInstance("search-pos"));try{_T.sendPageView()}catch(e){}$("#page_key_name").val(VersionStatus.preKa+"bpc_geek_search"),window.top.mediator&&window.top.mediator.publish("TO_GEEK_SEARCH",{type:"menu",refresh:e}),Menu.isSuportCalc||$(".geeksearch-container .frame-container").css("height",$(window).height()-68+"px")}},Tab={init:function(){var e=$(".mod-tab .data-tab");e.each(function(t){var i=$(this).attr("event");i||(i="click"),e.eq(t).on(i,"a",function(){var e=$(this).index(),t=$(this).closest(".data-tab").children(),i=$(this).closest(".mod-tab").children(".tab-con");t.removeClass("cur"),$(this).addClass("cur"),i.hide(),i.eq(e).show()})})}},PageSet={local:function(e,t){return void 0===t?localStorage.getItem(e):(localStorage.setItem(e,t),localStorage.getItem(e))},settings:function(e,t){var i=PageSet.local("__Local__Setting")?JSON.parse(PageSet.local("__Local__Setting")):{};return void 0===t?i[e]:(i[e]=t,PageSet.local("__Local__Setting",__stringify(i)),i)},markerInfo:{},getTipData:function(e){if($(".chat-container").is(":visible")||VersionStatus.isHunter){if(PageSet.markerInfo.rescode)return e(PageSet.markerInfo);$("#guide-wrap");$.get("/setting/notify/marker.json?types=1,5,9,10,11,12,13,15,18",function(t){1==t.rescode&&1==t.showGuide&&t[1]&&(PageSet.hasShowReplyTip=!1),VersionStatus.isHunter&&window.top==window.self&&1==t.rescode&&t[15]&&Menu.showHelpTip(),PageSet.markerInfo=t,"function"==typeof e&&e(PageSet.markerInfo)})}},bindEvent:function(e,t){var i=e||Menu.toSetEl;i.on("click",".radio-list .link-modify",function(){$(this).closest(".radio").find('input[type="radio"]').prop("checked","checked"),$(this).closest("dl").find(".defined-form").addClass("show-defined-form").removeClass("show-defined-tab"),$(this).closest("form").find('input[type="reasonType"]').val(""),$(this).closest("form").find(".ipt-area").text($(this).closest("form").find(".ipt-area").attr("data-text")),$(this).closest("dl").find(".defined-form .tip-text").text("璇蜂笉瑕佸～鍐欐墜鏈恒€丵Q銆佸井淇＄瓑鑱旂郴鏂瑰紡鎴栧箍鍛婁俊鎭紝鍚﹀垯绯荤粺灏嗗皝绂佹偍鐨勮处鍙凤紒"),$(this).closest("dl").find(".count-num").length&&PageSet.countArea($(this).closest("dl").find(".ipt-area"))}),i.find(".defined-form .ipt-area").on("input",function(){PageSet.countArea($(this))}),i.find('.radio-list input[type="radio"]').on("change",function(){"0"===$(this).val()&&$(this).closest("form").find(".defined-form").removeClass("show-defined-form")}),i.on("click",".defined-form .btns .btn",function(){if($(this).hasClass("btn-back"))$(this).closest("dl").find(".defined-form").removeClass("show-defined-form");else if(""==$(this).closest("dl").find(".defined-form .ipt-area").val().replace(/(\s*$)/g,"")){if(!$(this).closest(".show-defined-tab").length)return $(this).closest("dl").find(".defined-form .tip-text").text("璇疯緭鍏ュ唴瀹�"),$(this).closest("dl").find(".defined-form .ipt-area").focus(),!1;PageSet.postData($(this))}else{if($(this).closest("dl").find(".defined-form .count-num .red").length)return $(this).closest("dl").find(".defined-form .tip-text").text("鍐呭涓嶈兘瓒呰繃200涓瓧"),$(this).closest("dl").find(".defined-form .ipt-area").focus(),!1;$(this).closest("dl").find(".defined-form .tip-text").text("璇蜂笉瑕佸～鍐欐墜鏈恒€丵Q銆佸井淇＄瓑鑱旂郴鏂瑰紡鎴栧箍鍛婁俊鎭紝鍚﹀垯绯荤粺灏嗗皝绂佹偍鐨勮处鍙凤紒"),PageSet.postData($(this))}})},countArea:function(e){var e=e,t=e.attr("data-range"),i=PageSet.getLength(e.val()),n=e.closest(".defined-form").find(".count-num");n&&n.length&&(t=t.split(","),n.html("<em"+(i>t[1]?' class="red"':"")+">"+i+"</em>/"+t[1]))},postData:function(e,t){var i=e.closest("form"),n=i.attr("action"),s=i.serialize(),o=e.closest(".show-defined-tab").length;return i.find(".ipt-area").length&&""==i.find(".ipt-area").val().replace(/(\s*$)/g,"")&&!o?void i.find(".ipt-area").focus():!e.hasClass("disabled")&&(e.addClass("disabled"),void $.ajax({url:n,type:"POST",data:s,dataType:"JSON",timeout:3e4,success:function(n){if(n.rescode)if(o)"radioChange"!=t&&$.toast({content:"淇濆瓨鎴愬姛",type:"success"}),e.closest(".show-defined-tab").find("li.cur").attr("data-text",filterXss(i.find(".ipt-area").val()));else{if(e.closest("dl").find(".defined-form").removeClass("show-defined-form"),"radio"!=e.attr("type")&&(i.find(".ipt-area").attr("data-text",filterXss(i.find(".ipt-area").val())),e.closest("dl").find(".link-modify").closest("label").find("span").html("鍙戦€佷俊鎭€�"+filterXss(i.find(".ipt-area").val())+"鈥�")),e.closest("dl").find(".sentence-list").length){var s=e.closest("dl").find("input[name=id]").val();s?e.closest("dl").find('.sentence-list a[data-id="'+s+'"]').closest("li").replaceWith(n.html):(e.closest("dl").find(".sentence-list ul").append(n.html),Menu.toSetEl.find(".set-nav li").eq(1).html("甯哥敤璇紙"+e.closest("dl").find(".sentence-list li").length+"鏉★級"))}e.closest("dl").find(".sayhello-list").length&&(i.find('input[name="templateId"]').val()?e.closest("dl").find('input[value="'+i.find('input[name="templateId"]').val()+'"]').closest("li").find("span").text(filterXss(i.find(".ipt-area").val())):(e.closest("dl").find(".sayhello-list ul").append(n.html),e.closest("dl").find(".op-sentence").hide()))}else $.toast({content:n.resmsg,type:"error"});e.removeClass("disabled")},error:function(t){e.removeClass("disabled"),$.toast({content:"淇濆瓨澶辫触锛岃妫€鏌ョ綉缁滃悗閲嶈瘯",type:"error"})}}))},getLength:function(e){for(var t=0,e=e.replace(/(^[\s\n\r]*)|([\s\n\r]*$)/g,""),i=e.length,n=-1,s=0;s<i;s++)n=e.charCodeAt(s),t+=55357==n?0:n>255?1:.5;return Math.ceil(t)}},util=function(){return{get:function(e,t,i,n){if(!e||!e instanceof Object)return i||"";var s=[].concat(t.split(".")),o=e instanceof Array?[].concat(e):$.extend({},e),a=void 0===n||n;$.each(s,function(e,t){if(/^(\w+)\[(\w+)\]$/.test(t)){var i=t.match(/^(\w+)\[(\w+)\]$/);s.splice(e,1,i[1],i[2])}});for(var r=s.length,c=0;c<r;){if(!o[s[c]])return i;o=o[s[c]],c++}return a?o:e instanceof Array?[].concat(o):e instanceof Object?$.extend({},o):void 0},getArrEqual:function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})},lightKeyword:function(e,t){var i=""+t,n=(t+"").toLowerCase(),s=(e+"").toLowerCase(),o=n.indexOf(s),a=s.length;if(n.indexOf(e)<0)return t;var n=i.substr(0,o)+'<u class="h">'+i.substr(o,a)+"</u>"+i.substr(o+a);return n}}}(),FPS=0,Loop=function(){var e,t=0,i=0,n=Date.now(),s=Date.now(),o=[],a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),r=function(){var c=Date.now();s=c,i++,t++,c>1e3+n&&(e=Math.round(1e3*t/(c-n)),t=0,n=c,FPS=e,o.length>15&&o.splice(0,1),o.push(e)),a(r)},c=function(){return FPS>20};return r(),{fps:function(){return FPS},visible:c,recent:function(){return o}}}(),BossInit={init:function(){BossInit.getEmailSwitch(),BossInit.setAvatarPendant()},getEmailSwitch:function(){window.GlobalGray&&GlobalGray.getResByName("notifySetting",function(e){0==e.code&&e.zpData.userNotifySettingList.forEach(function(e){if(116==e.notifyType){4==e.settingType?window.top._PAGE.emailSwitch=!0:window.top._PAGE.emailSwitch=!1}})})},setAvatarPendant:function(){$.get("/wapi/moment/boss/sticker/getStickerUrl",function(e){if(0==e.code){var t=e.zpData,i=window.top.Chat||{};if($(".side-menu").length&&!i.service){var n=$(".side-menu").find(".figure");if(t){var s=n.find("a img").attr("src"),o='<div class="avatar-pendant" style="background-image:url('+t+')"><img src="'+s+'" /></div>';n.find("a").html(o)}}}})}};$(function(){Menu.init(),Tab.init(),BossInit.init(),window.addEventListener("message",function(e){e.data;try{e.data&&_T.sendEvent("postMessage_"+JSON.stringify(e.data))}catch(e){}},!1),$("body").off("click").on("click",function(e){try{var e=e||window.event,t=e.target||e.srcElement;if($(t).hasClass("interview-detail")||$(t).parents(".interview-overlays").length)return;for(var i=$("iframe"),n=0;n<i.length;n++){(i[n].contentDocument||i[n].contentWindow.document).querySelector("body").click()}}catch(e){}})});var isEmpty=function(e){return Array.isArray(e)&&0===e.length||Object.prototype.isPrototypeOf(e)&&0===Object.keys(e).length};if(Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e},Array.prototype.unique=function(e){if(this.length<2)return[this[0]]||[];for(var t={},i=[],n=0;n<this.length;n++){var s=this[n],o=!!e&&typeof t[s]!=typeof s;(void 0===t[s]||o)&&(t[s]=s,i.push(s))}return i},Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],s=arguments.length>=2?arguments[1]:void 0,o=0;o<i;o++)if(o in t){var a=t[o];e.call(s,a,o,t)&&n.push(a)}return n}),Array.prototype.map||(Array.prototype.map=function(e,t){var i,n,s;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("[object Function]"!=Object.prototype.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(i=t),n=new Array(a),s=0;s<a;){var r,c;s in o&&(r=o[s],c=e.call(i,r,s,o),n[s]=c),s++}return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),s=n.length>>>0;if(0===s)return-1;var o=0|t;if(o>=s)return-1;for(i=Math.max(o>=0?o:s-Math.abs(o),0);i<s;){if(i in n&&n[i]===e)return i;i++}return-1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],s=0;s<i;){var o=t[s];if(e.call(n,o,s,t))return o;s++}}}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,n,s=this.length>>>0,o=!1;for(1<arguments.length&&(n=t,o=!0),i=0;s>i;++i)this.hasOwnProperty(i)&&(o?n=e(n,this[i],i,this):(n=this[i],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return n}),"undefined"==typeof jQuery)throw new Error("jquery-confirm requires jQuery");var jconfirm,Jconfirm;!function(e){"use strict";e.fn.confirm=function(t,i){return void 0===t&&(t={}),"string"==typeof t&&(t={content:t,title:i||!1}),e(this).each(function(){var i=e(this);i.on("click",function(n){n.preventDefault();var s=e.extend({},t);i.attr("data-title")&&(s.title=i.attr("data-title")),i.attr("data-content")&&(s.content=i.attr("data-content")),s.$target=i,i.attr("href")&&!t.confirm&&(s.confirm=function(){location.href=i.attr("href")}),e.confirm(s)})}),e(this)},e.confirm=function(e,t){return void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:t||!1}),jconfirm(e)},e.alert=function(e,t){return void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:t||!1}),e.cancelButton=!1,jconfirm(e)},jconfirm=function(t){void 0===t&&(t={}),jconfirm.defaults&&e.extend(jconfirm.pluginDefaults,jconfirm.defaults);var t=e.extend({},jconfirm.pluginDefaults,t);return new Jconfirm(t)},Jconfirm=function(t){e.extend(this,t),this._init()},Jconfirm.prototype={_init:function(){var e=this;this._rand=Math.round(99999*Math.random()),this._buildHTML(),this._bindEvents(),setTimeout(function(){e.open(),e._watchContent()},0)},_buildHTML:function(){var t=this;this.animation="anim-"+this.animation.toLowerCase(),this.closeAnimation="anim-"+this.closeAnimation.toLowerCase(),this.theme="jconfirm-"+this.theme.toLowerCase(),"anim-none"==this.animation&&(this.animationSpeed=0),this._lastFocused=e("body").find(":focus"),this.$el=e(this.template).appendTo(this.container).addClass(this.theme),this.$el.find(".jconfirm-box-container").addClass(this.columnClass),this.$el.find(".jconfirm-bg").css(this._getCSS(this.animationSpeed,1)),this.$el.find(".jconfirm-bg").css("opacity",this.opacity),this.$b=this.$el.find(".jconfirm-box").css(this._getCSS(this.animationSpeed,this.animationBounce)).addClass(this.animation),this.$body=this.$b,this.rtl&&this.$el.addClass("rtl"),this._contentReady=e.Deferred(),this._modalReady=e.Deferred(),this.$title=this.$el.find(".title"),this.contentDiv=this.$el.find("div.content"),this.$content=this.contentDiv,this.$contentPane=this.$el.find(".content-pane"),this.$icon=this.$el.find(".icon-c"),this.$closeIcon=this.$el.find(".closeIcon"),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.setTitle(),this.setIcon(),this._setButtons(),this.closeIconClass&&this.$closeIcon.html('<i class="'+this.closeIconClass+'"></i>'),t._contentHash=this._hash(t.$content.html()),e.when(this._contentReady,this._modalReady).then(function(){t.setContent(),t.setTitle(),t.setIcon()}),this._getContent(),this._imagesLoaded(),this.autoClose&&this._startCountDown()},_unwatchContent:function(){clearInterval(this._timer)},_hash:function(){if("function"==typeof btoa)return btoa(encodeURIComponent(this.$content.html()))},_watchContent:function(){var e=this;this._timer=setInterval(function(){var t=e._hash(e.$content.html());e._contentHash!=t&&(e._contentHash=t,e.setDialogCenter(),e._imagesLoaded())},this.watchInterval)},_bindEvents:function(){var t=this,i=!1;this.$el.find(".jconfirm-scrollpane").click(function(e){i||t.backgroundDismiss&&(t.cancel(),t.close()),i=!1}),this.$el.find(".jconfirm-box").click(function(e){i=!0}),this.$confirmButton&&this.$confirmButton.click(function(e){e.preventDefault();var i=t.confirm(t.$b);t._stopCountDown(),t.onAction("confirm"),(void 0===i||i)&&t.close()}),this.$cancelButton&&this.$cancelButton.click(function(e){e.preventDefault();var i=t.cancel(t.$b);t._stopCountDown(),t.onAction("cancel"),(void 0===i||i)&&t.close()}),this.$closeButton&&this.$closeButton.click(function(e){e.preventDefault(),t._stopCountDown(),t.cancel(),t.onAction("close"),t.close()}),this.keyboardEnabled&&setTimeout(function(){e(window).on("keyup."+this._rand,function(e){t.reactOnKey(e)})},500),e(window).on("resize."+this._rand,function(){t.setDialogCenter(!0)})},_getCSS:function(e,t){return{"-webkit-transition-duration":e/1e3+"s","transition-duration":e/1e3+"s","-webkit-transition-timing-function":"cubic-bezier(.36,1.1,.2, "+t+")","transition-timing-function":"cubic-bezier(.36,1.1,.2, "+t+")"}},_imagesLoaded:function(){var t=this;e.each(this.$content.find("img:not(.loaded)"),function(i,n){var s=setInterval(function(){"0px"!==e(n).css("height")&&(e(n).addClass("loaded"),t.setDialogCenter(),clearInterval(s))},40)})},_setButtons:function(){this.$btnc=this.$el.find(".buttons"),this.confirmButton&&""!==e.trim(this.confirmButton)&&(this.$confirmButton=e('<button type="button" class="btn">'+this.confirmButton+"</button>").appendTo(this.$btnc).addClass(this.confirmButtonClass)),this.cancelButton&&""!==e.trim(this.cancelButton)&&(this.buttonsReverse?this.$cancelButton=e('<button type="button" class="btn">'+this.cancelButton+"</button>").prependTo(this.$btnc).addClass(this.cancelButtonClass):this.$cancelButton=e('<button type="button" class="btn">'+this.cancelButton+"</button>").appendTo(this.$btnc).addClass(this.cancelButtonClass)),this.buttonOther&&""!==e.trim(this.buttonOther)&&e(this.buttonOther).prependTo(this.$btnc),this.confirmButton||this.cancelButton||this.$btnc.hide(),this.confirmButton||this.cancelButton||null!==this.closeIcon||(this.$closeButton=this.$b.find(".closeIcon").show()),!0===this.closeIcon&&(this.$closeButton=this.$b.find(".closeIcon").show())},setTitle:function(e){this.title=void 0!==e?e:this.title,this.$title.html(this.title||"")},setIcon:function(e){this.title="undefined"!=typeof string?e:this.title,this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':"")},setContent:function(e){this.content=void 0===e?this.content:e,""==this.content?(this.$content.html(this.content),this.$contentPane.hide()):(this.$content.html(this.content),this.$contentPane.show()),this.$content.hasClass("loading")&&(this.$content.removeClass("loading"),this.$btnc.find("button").prop("disabled",!1))},_getContent:function(t){var i=this;if(t=t||this.content,this._isAjax=!1,this.content)if("string"==typeof this.content)if("url:"===this.content.substr(0,4).toLowerCase()){this._isAjax=!0,this.$content.addClass("loading"),this.$btnc.find("button").prop("disabled",!0);var n=this.content.substring(4,this.content.length);e.get(n).done(function(e){i.content=e,i._contentReady.resolve()}).always(function(e,t,n){"function"==typeof i.contentLoaded&&i.contentLoaded(e,t,n)})}else this.setContent(this.content),this._contentReady.reject();else if("function"==typeof this.content){this.$content.addClass("loading"),this.$btnc.find("button").attr("disabled","disabled");var s=this.content(this);"object"!=typeof s?console.error("The content function must return jquery promise."):"function"!=typeof s.always?console.error("The object returned is not a jquery promise."):(this._isAjax=!0,s.always(function(e,t){i._contentReady.resolve()}))}else console.error("Invalid option for property content, passed: "+typeof this.content);else this.content="",this.setContent(this.content),this._contentReady.reject();this.setDialogCenter()},_stopCountDown:function(){clearInterval(this.timerInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var t=this.autoClose.split("|");if(/cancel/.test(t[0])&&"alert"===this.type)return!1;if(/confirm|cancel/.test(t[0])){this.$cd=e('<span class="countdown"></span>').appendTo(this["$"+t[0]+"Button"]);var i=this;i.$cd.parent().click();var n=t[1]/1e3;this.timerInterval=setInterval(function(){i.$cd.html(" ("+(n-=1)+")"),0===n&&(i.$cd.html(""),i.$cd.parent().trigger("click"),clearInterval(i.timerInterval))},1e3)}else console.error("Invalid option "+t[0]+", must be confirm/cancel")},reactOnKey:function(t){var i=e(".jconfirm");if(i.eq(i.length-1)[0]!==this.$el[0])return!1;var n=t.which;if(this.contentDiv.find(":input").is(":focus")&&/13|32/.test(n))return!1;-1!==e.inArray(n,this.cancelKeys)&&(this.$cancelButton?this.$cancelButton.click():this.close()),-1!==e.inArray(n,this.confirmKeys)&&this.$confirmButton&&this.$confirmButton.click()},setDialogCenter:function(){if("none"==this.$contentPane.css("display"))var t=0,i=0;else{var t=this.$content.outerHeight(),i=this.$contentPane.height();0==i&&(i=t)}var n=this.$content.outerWidth();this.$content.css({clip:"rect(0px "+(100+n)+"px "+t+"px -100px)"}),this.$contentPane.css({height:t});var s=e(window).height(),o=this.$b.outerHeight()-i+t,a=(s-o)/2;if(o>s-100){var r={"margin-top":50,"margin-bottom":50};e("body").addClass("jconfirm-noscroll")}else{var r={"margin-top":a};e("body").removeClass("jconfirm-noscroll")}this.$b.css(r)},close:function(){var t=this;if(this.isClosed())return!1;"function"==typeof this.onClose&&this.onClose(),this._unwatchContent(),t._lastFocused.focus(),e(window).unbind("resize."+this._rand),this.keyboardEnabled&&e(window).unbind("keyup."+this._rand),t.$el.find(".jconfirm-bg").removeClass("seen"),e("body").removeClass("jconfirm-noscroll"),this.$b.addClass(this.closeAnimation);var i="anim-none"==this.closeAnimation?0:this.animationSpeed;return setTimeout(function(){t.$el.remove()},25*i/100),jconfirm.record.closed+=1,jconfirm.record.currentlyOpen-=1,!0},open:function(){var e=this;if(this.isClosed())return!1;e.$el.find(".jconfirm-bg").addClass("seen"),this.$b.removeClass(this.animation),this.$b.find("input[autofocus]:visible:first").focus(),jconfirm.record.opened+=1,jconfirm.record.currentlyOpen+=1,"function"==typeof this.onOpen&&this.onOpen();var t="jconfirm-box"+this._rand;return this.$b.attr("aria-labelledby",t).attr("tabindex",-1).focus(),this.$title?this.$title.attr("id",t):this.$content&&this.$content.attr("id",t),setTimeout(function(){e.$b.css({"transition-property":e.$b.css("transition-property")+", margin"}),e._modalReady.resolve()},this.animationSpeed),!0},isClosed:function(){return""===this.$el.css("display")}},jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg"></div><div class="jconfirm-scrollpane"><div class="container"><div class="row"><div class="jconfirm-box-container"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="closeIcon">&times;</div><div class="title-c"><span class="icon-c"></span><span class="title"></span></div><div class="content-pane"><div class="content"></div></div><div class="buttons"></div><div class="jquery-clear"></div></div></div></div></div></div></div>',title:"鎻愮ず",content:"纭畾鍚�",contentLoaded:function(){},icon:"",opacity:null,confirmButton:"纭畾",cancelButton:"鍙栨秷",confirmButtonClass:"btn",cancelButtonClass:"btn btn-slight",buttonsReverse:!1,theme:"white",animation:"scale",closeAnimation:"none",animationSpeed:500,animationBounce:1.2,keyboardEnabled:!1,rtl:!1,confirmKeys:[13],cancelKeys:[27],container:"body",confirm:function(){},cancel:function(){},backgroundDismiss:!0,autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"pop-container",onOpen:function(){},onClose:function(){},onAction:function(){}},jconfirm.record={opened:0,closed:0,currentlyOpen:0}}(jQuery),function(e,t,i){"use strict";var n=(e(t),e(document),!-[1]&&t.XMLHttpRequest,!1),s=function(t){this.settings=e.extend({},s.defaults,t),this.init()};s.defaults={bind:!1,wrapClass:"",content:"璇风◢绛�...",title:"鎻愮ず",onCancel:null,onOpen:null,onConfirm:null,onClose:null,closeText:!0,confirmText:"纭畾",cancelText:"鍙栨秷",position:"center",inline:!1,isSelecter:!1,element:null,preKa:"",autoTime:null,lock:!0,closeLayer:!0,opacityLock:!1},s.prototype={init:function(){this.create()},create:function(){var t="",i="",n="",s="",o="",a="",r="";this.settings.type&&(t='<i class="icon-dialog icon-dialog-'+this.settings.type+'"></i>'),this.settings.lock&&(n='<div class="dialog-layer"></div>',this.settings.opacityLock&&(n='<div class="dialog-layer dialog-opacity-layer"></div>')),this.settings.preKa&&(s=this.settings.preKa+"_"),("around"==this.settings.position||this.settings.inline)&&(o='<span class="icon-dialog-arrow"></span>'),this.settings.closeText&&(a='<a href="javascript:;" class="close" ka="'+s+'dialog_close"><i class="icon-close"></i></a>'),(this.settings.confirmText||this.settings.cancelText)&&(r='<div class="dialog-footer"><div class="btns"></div></div>'),i='<div class="dialog-wrap" data-type="jquery">'+n+'<div class="dialog-container">'+o+'<div class="dialog-title">'+t+'<h3 class="title">'+this.settings.title+"</h3>"+a+'</div><div class="dialog-con">'+this.settings.content+"</div>"+r+"</div></div>",e(".dialog-wrap").length&&!this.settings.inline&&e(".dialog-wrap").each(function(){"jquery"===e(this).data("type")&&e(this).remove()}),this.settings.inline&&this.settings.element?this.dialog=e(i).appendTo(e(this.settings.element).parent()):this.dialog=e(i).appendTo("body"),(this.settings.onConfirm||this.settings.confirmText)&&this.onConfirm(),(this.settings.onCancel&&!1!==this.settings.cancelText||this.settings.cancelText)&&this.onCancel(),this.settings.wrapClass&&this.dialog.addClass(this.settings.wrapClass),this.settings.type&&this.dialog.addClass("dialog-icons-default"),this.settings.position&&this.position(),this.bindEvent(),e("body").addClass("dialog-open"),e.isFunction(this.settings.onOpen)&&(this.settings.bind?this.settings.onOpen.apply(this,this.dialog):this.settings.onOpen(this.dialog)),this.settings.lock&&this.lock(),this.autoInter&&clearInterval(this.autoInter),e.isNumeric(this.settings.autoTime)&&this.autoCloseTimer()},onConfirm:function(){var t=this,i=this.dialog.find(".dialog-footer .btns");e("<span>",{ClASS:"btn btn-sure",text:t.settings.confirmText,ka:(t.settings.preKa?t.settings.preKa+"_":"")+"dialog_confirm",click:function(){e.isFunction(t.settings.onConfirm)?t.settings.bind?t.settings.onConfirm.apply(t,t.dialog):t.settings.onConfirm(t.dialog):t.close("confirm")}}).prependTo(i)},onCancel:function(){var t=this,i=this.dialog.find(".dialog-footer .btns");e("<span>",{ClASS:"btn btn-outline btn-cancel",text:t.settings.cancelText,ka:(t.settings.preKa?t.settings.preKa+"_":"")+"dialog_cancel",click:function(){e.isFunction(t.settings.onCancel)?t.settings.bind?t.settings.onCancel.apply(t,t.dialog):t.settings.onCancel(t.dialog):t.close("cancel")}}).prependTo(i)},size:function(){var e=this.dialog.find(".dialog-con");this.dialog.find(".dialog-container");e.css({width:this.settings.width,height:this.settings.height})},position:function(){if(this.settings.element){var i=this,n=i.settings.element,s=i.dialog.find(".dialog-container").outerWidth(),o=e(n).offset(),a=o.left+n.width()/2;if(a<s&&(a=s/2),i.settings.inline||"around"!=i.settings.position||i.dialog.css({left:a+"px",top:o.top+"px"}),i.settings.inline){if(!i.dialog)return;i.dialog.get(0).getBoundingClientRect().top>330&&t.innerHeight-i.dialog.get(0).getBoundingClientRect().top<280&&i.dialog.addClass("dialog-up-default"),i.settings.isSelecter&&e(document).on("click",function(t){t.target==n.get(0)||t.target.parentNode==n.get(0)||e(t.target).closest(".dialog-selecter-default").length||(i.dialog.closest(".dropdown-wrap").removeClass("dropdown-menu-open"),i.close())})}}},lock:function(){if(!n){var e=this;e.dialog.find(".dialog-container");this.settings.closeLayer&&e.dialog.find(".dialog-layer").on("click",function(){e.close()})}},unLock:function(){this.settings.lock&&n&&(e("html,body").css("overflow","visible"),n=!1)},close:function(t){e.isFunction(this.settings.onClose)&&this.settings.onClose(this.dialog,t||""),this.dialog.remove(),this.unLock(),this.autoInter&&clearInterval(this.autoInter),e("body").removeClass("dialog-open")},hide:function(t){e.isFunction(this.settings.onClose)&&this.settings.onClose(this.dialog,t||""),this.dialog.hide(),this.unLock(),e("body").removeClass("dialog-open")},autoCloseTimer:function(){var e=this,t=e.dialog.find(".btn-sure"),i=e.settings.autoTime,n=t.text();i&&(e.autoInter&&clearInterval(e.autoInter),e.autoInter=setInterval(function(){i<=1?(clearInterval(e.autoInter),e.close("timer")):(i--,t.text(n+"("+i+"s)"))},1e3))},bindEvent:function(){var i=this;this.dialog.find(".close").on("click",function(){i.close("")}),e(t).on("resize.dialog",function(){i.settings.onResize&&i.settings.onResize(i.dialog)})}},e.dialog=function(e){return new s(e)}}(jQuery,window),function(e,t,i){"use strict";var n=(e(t),e(document),!1),s=function(t){
    if("string"==typeof t)var t={content:t};this.settings=e.extend({},s.defaults,t),this.init()};s.defaults={content:"鎻愮ず",lock:!1,wrapClass:null,type:null,position:"top",parentWrap:"body",time:2300,pending:""},s.prototype={init:function(){this.create(),this.settings.lock&&this.lock()},create:function(){var t="",i="",n=this;this.settings.type&&(t='<i class="icon-toast-'+this.settings.type+'"></i>'),i='<div data-pending="'+this.settings.pending+'" id="toast"><div class="toast-con">'+t+this.settings.content+"</div></div>",e("#toast").length&&e("#toast").remove(),this.toast=e(i).appendTo(this.settings.parentWrap),this.settings.wrapClass&&this.toast.addClass(this.settings.wrapClass),this.settings.position&&this.position(),this.time(),this.toast.on("click",function(){n.close()})},position:function(){"top"==this.settings.position&&this.toast.css("top",0),"center"==this.settings.position&&this.toast.css("bottom",0),"bottom"==this.settings.position&&this.toast.css("bottom",0)},lock:function(){n||(e("html,body").css("overflow","hidden"),n=!0)},unLock:function(){this.settings.lock&&n&&(e("html,body").css("overflow","visible"),n=!1)},close:function(){var e=this;e.toast.addClass("slideup"),setTimeout(function(){e.toast.removeClass("slideup").remove()},500),e.unLock()},time:function(){var e=this;this.settings.time&&"loading"!=this.settings.type&&(this.closeTimer=setTimeout(function(){e.close()},this.settings.time))}},e.toast=function(e){new s(e)}}(jQuery,window);var DropDown={init:function(e){var e=e||$("body"),t=e.find(".dropdown-wrap").not(".sync-container .dropdown-wrap");t.each(function(){var e=$(this),i=e.attr("role-type"),n=e.find(".dropdown-select,.dropdown-label"),s=n.find("input[readonly]"),o=n.find('input[type="hidden"]'),a="false"!=e.attr("data-fill");i&&"customize-event"==i||(n.on("click",function(i){e.hasClass("dropdown-disabled")||($(i.target).closest(".dropdown-menu-open").length?(e.removeClass("dropdown-menu-open"),e.trigger("dropdown.close")):(t.each(function(t,i){var n=$(i);!n.is(e)&&n.hasClass("dropdown-menu-open")&&(n.removeClass("dropdown-menu-open"),n.trigger("dropdown.close"))}),e.toggleClass("dropdown-menu-open"),e.trigger("dropdown.open")))}),e.on("click","li",function(){var t=o.val();if(!$(this).hasClass("disabled")){if($(this).hasClass("tip-blank"))return void e.removeClass("dropdown-menu-open");s.length&&t!=$(this).attr("data-val")&&!$(this).hasClass("no-set")&&(a&&s.val($(this).text()),s.addClass("sel-active"),e.find(".tip-text").remove(),$(this).parent().find("li").removeClass("cur"),$(this).addClass("cur"),$(this).attr("data-val")&&o.val($(this).attr("data-val")),e.trigger("dropdown.selected",$(this).attr("data-val"))),e.removeClass("dropdown-menu-open")}}))}),$(document).on("click",function(e){$(e.target).parents(".dropdown-wrap").length||t.each(function(e,t){var i=$(t);i.hasClass("dropdown-menu-open")&&(i.removeClass("dropdown-menu-open"),i.trigger("dropdown.close"))}),e.stopPropagation()}),$(document).on("click",".js-report",function(e){t.removeClass("dropdown-menu-open"),t.trigger("dropdown.close"),e.stopPropagation()})},multiSelectInit:function(e){var e=e||$("body"),t=e.find(".dropdown-wrap").not(".sync-container .dropdown-wrap");t.each(function(){var e=$(this),i=e.attr("role-type"),n=e.find(".dropdown-select,.dropdown-label"),s=n.find("input[readonly]"),o=n.find('input[type="hidden"]');e.attr("data-fill");i&&"customize-event"==i||(n.on("click",function(i){e.hasClass("dropdown-disabled")||($(i.target).closest(".dropdown-menu-open").length?e.removeClass("dropdown-menu-open"):(t.each(function(t,i){var n=$(i);!n.is(e)&&n.hasClass("dropdown-menu-open")&&n.removeClass("dropdown-menu-open")}),e.toggleClass("dropdown-menu-open")))}),e.on("click","li",function(){o.val();if(!$(this).hasClass("disabled")){$(this).hasClass("cur")?$(this).removeClass("cur"):$(this).addClass("cur");var t=$(this).parent().find("li"),i=[],n=[];t.each(function(){$(this).hasClass("cur")&&(i.push($(this).text()),n.push($(this).attr("data-val")))}),i.length>0?(s.addClass("sel-active"),o.val(n.join(",")),s.val(i.join(","))):(o.val(""),s.val("")),e.trigger("dropdown.selected",o.val())}}))}),$(document).on("click",function(e){$(e.target).parents(".dropdown-wrap").length||t.each(function(e,t){var i=$(t);i.hasClass("dropdown-menu-open")&&(i.removeClass("dropdown-menu-open"),i.trigger("dropdown.close"))}),e.stopPropagation()})}};$(function(){DropDown.init()}),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):t(e.jQuery)}(this,function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=e(this.options.menu),this.$appendTo=this.options.appendTo?e(this.options.appendTo):null,this.fitToElement="boolean"==typeof this.options.fitToElement&&this.options.fitToElement,this.shown=!1,this.listen(),this.showHintOnFocus=("boolean"==typeof this.options.showHintOnFocus||"all"===this.options.showHintOnFocus)&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect,this.addItem=!1,this.emptyItem=!1,this.value=this.$element.val()||this.$element.text(),this.keyPressed=!1};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").data("value");if(this.$element.data("active",e),this.autoSelect||e){var t=this.updater(e);t||(t=""),this.$element.val(this.displayText(t)||t).text(this.displayText(t)||t).change(),this.afterSelect(t)}return this.hide()},updater:function(e){return e},setSource:function(e){this.source=e},show:function(){var t,i=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),n="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;this.shown?t=this.$menu:this.$appendTo?(t=this.$menu.appendTo(this.$appendTo),this.hasSameParent=this.$appendTo.is(this.$element.parent())):(t=this.$menu.insertAfter(this.$element),this.hasSameParent=!0);var s=e(t).parent().hasClass("dropup"),o=(s||(i.top,i.height),e(t).hasClass("dropdown-menu-right"));o||i.left;return t.show(),!0===this.options.fitToElement&&t.css("width",this.$element.outerWidth()+"px"),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){if(this.query=void 0!==t&&null!==t?t:this.$element.val()||this.$element.text()||"",this.query.length<this.options.minLength&&!this.options.showHintOnFocus)return this.shown?this.hide():this;var i=e.proxy(function(){e.isFunction(this.source)&&3===this.source.length?this.source(this.query,e.proxy(this.process,this),e.proxy(this.process,this)):e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(i,this.delay)},process:function(t){var i=this;return t=e.grep(t,function(e){return void 0!==e&&i.matcher(e)}),t=this.sorter(t),t.length||this.options.addItem||this.options.emptyItem?(t.length>0?this.$element.data("active",t[0]):(this.$element.data("active",null),this.options.emptyItem&&(t.push(i.query),this.map[t[0]]=t[0])),"all"!=this.options.items&&(t=t.slice(0,this.options.items)),this.options.addItem&&t.push(this.options.addItem),this.render(t).show()):this.shown?this.hide():this},matcher:function(e){return~this.displayText(e).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],s=[];t=e.shift();){var o=this.displayText(t);o.toLowerCase().indexOf(this.query.toLowerCase())?~o.indexOf(this.query)?n.push(t):s.push(t):i.push(t)}return i.concat(n,s)},highlighter:function(e){var t=this.query;if(""===t)return e;var i,n=e.match(/(>)([^<]*)(<)/g),s=[],o=[];if(n&&n.length)for(i=0;i<n.length;++i)n[i].length>2&&s.push(n[i]);else s=[],s.push(e);t=t.replace(/[\(\)\/\.\*\+\?\[\]]/g,function(e){return"\\"+e});var a,r=new RegExp(t,"g");for(i=0;i<s.length;++i)(a=s[i].match(r))&&a.length>0&&o.push(s[i]);for(i=0;i<o.length;++i)e=e.replace(o[i],o[i].replace(r,"<strong>$&</strong>"));return e},render:function(t){var i=this,n=this,s=!1,o=[],a=i.options.separator;return e.each(t,function(e,i){e>0&&i[a]!==t[e-1][a]&&o.push({__type:"divider"}),!i[a]||0!==e&&i[a]===t[e-1][a]||o.push({__type:"category",name:i[a]}),o.push(i)}),t=e(o).map(function(t,o){if("category"==(o.__type||!1))return e(i.options.headerHtml).text(o.name)[0];if("divider"==(o.__type||!1))return e(i.options.headerDivider)[0];var a=n.displayText(o);return t=e(i.options.item).data("value",o),t.find("a").html(i.highlighter(a,o)),a==n.$element.val()&&(t.addClass("active"),n.$element.data("active",o),s=!0),t[0]}),1==t.length&&i.options.emptyItem&&t.eq(0).addClass("empty").find("a").prepend("<span>鍥炶溅娣诲姞鏍囩</span>"),t.length&&n.$menu.parent().find(".skills-pannel").hide(),this.autoSelect&&!s&&(t.filter(":not(.dropdown-header)").first().addClass("active"),this.$element.data("active",t.first().data("value"))),this.$menu.html(t),this},displayText:function(e){return void 0!==e&&void 0!==e.name?e.name:e},next:function(t){var i=this.$menu.find(".active").removeClass("active"),n=i.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active"),n.hasClass("empty")||this.$element.val(n.text())},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),i=t.prev();i.length||(i=this.$menu.find("li").last()),i.addClass("active"),i.hasClass("empty")||this.$element.val(i.text())},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("propertychange input",e.proxy(this.input,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this)).on("mousedown",e.proxy(this.mousedown,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("propertychange input").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove(),this.destroyed=!0},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown)switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.shiftKey)return;e.preventDefault(),this.prev();break;case 40:if(e.shiftKey)return;e.preventDefault(),this.next()}},keydown:function(t){this.keyPressed=!0,this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.shown||40!=t.keyCode?this.move(t):this.lookup()},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},input:function(e){var t=this.$element.val()||this.$element.text();this.value!==t&&(this.value=t,this.lookup())},keyup:function(e){if(!this.destroyed)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:if(!this.shown||this.showHintOnFocus&&!this.keyPressed)return;this.select();break;case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide()}},focus:function(e){this.focused||(this.focused=!0,this.keyPressed=!1,this.options.showHintOnFocus&&!0!==this.skipShowHintOnFocus&&("all"===this.options.showHintOnFocus?this.lookup(""):this.lookup())),this.skipShowHintOnFocus&&(this.skipShowHintOnFocus=!1)},blur:function(e){this.mousedover||this.mouseddown||!this.shown?this.mouseddown&&(this.skipShowHintOnFocus=!0,this.$element.focus(),this.mouseddown=!1):(this.hide(),this.focused=!1,this.keyPressed=!1)},click:function(e){e.preventDefault(),this.skipShowHintOnFocus=!0,this.select(),this.$element.focus(),this.hide()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},mousedown:function(e){this.mouseddown=!0,this.$menu.one("mouseup",function(e){this.mouseddown=!1}.bind(this))}};var i=e.fn.typeahead;e.fn.typeahead=function(i){var n=arguments;return"string"==typeof i&&"getActive"==i?this.data("active"):this.each(function(){var s=e(this),o=s.data("typeahead"),a="object"==typeof i&&i;o||s.data("typeahead",o=new t(this,a)),"string"==typeof i&&o[i]&&(n.length>1?o[i].apply(o,Array.prototype.slice.call(n,1)):o[i]())})},t.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="javascript:;" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:e.noop,addItem:!1,delay:0,separator:"category",headerHtml:'<li class="dropdown-header"></li>',headerDivider:'<li class="divider" role="separator"></li>'},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var i=e(this);i.data("typeahead")||i.typeahead(i.data())})}),function(e){"use strict";function t(t,i){this.isInit=!0,this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=i&&i.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=e('<div class="bootstrap-tagsinput"></div>'),this.$input=e('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(i),this.isInit=!1}function i(e,t){if("function"!=typeof e[t]){var i=e[t];e[t]=function(e){return e[i]}}}function n(e,t){if("function"!=typeof e[t]){var i=e[t];e[t]=function(){return i}}}function s(e){return e?c.text(e).html():""}function o(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}function a(t,i){var n=!1;return e.each(i,function(e,i){if("number"==typeof i&&t.which===i)return n=!0,!1;if(t.which===i.which){var s=!i.hasOwnProperty("altKey")||t.altKey===i.altKey,o=!i.hasOwnProperty("shiftKey")||t.shiftKey===i.shiftKey,a=!i.hasOwnProperty("ctrlKey")||t.ctrlKey===i.ctrlKey;if(s&&o&&a)return n=!0,!1}}),n}var r={tagClass:function(e){return"label label-info"},focusClass:"focus",itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},itemTitle:function(e){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0,listTags:!1,showListTags:null};t.prototype={constructor:t,add:function(t,i,n){var o=this,a=o.options.itemValue(t),r=o.options.itemText(t),c=o.options.tagClass(t),l=o.options.itemTitle(t),d=e.grep(o.itemsArray,function(e){return o.options.itemValue(e)===a})[0];if(!d||o.options.allowDuplicates){if(!(o.options.maxTags&&o.itemsArray.length>=o.options.maxTags)&&(!1===t||t)){if("string"==typeof t&&o.options.trimValue&&(t=e.trim(t)),"object"==typeof t&&!o.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(o.isSelect&&!o.multiple&&o.itemsArray.length>0&&o.remove(o.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var p=o.options.delimiterRegex?o.options.delimiterRegex:o.options.delimiter,u=t.split(p);if(u.length>1){for(var h=0;h<u.length;h++)this.add(u[h],!0);return void(i||o.pushVal(o.options.triggerChange))}}if(!(o.items().toString().length+t.length+1>o.options.maxInputLength)){var f=e.Event("beforeItemAdd",{item:t,cancel:!1,options:n});if(o.$element.trigger(f),!f.cancel){o.itemsArray.push(t);var m=e('<span class="tag '+s(c)+(null!==l?'" title="'+l:"")+'"><i class="iboss-close-solid" data-role="remove"></i>'+s(r)+"</span>");m.data("item",t),o.findInputWrapper().before(m),m.after(" ");var g=e('option[value="'+encodeURIComponent(a)+'"]',o.$element).length||e('option[value="'+s(a)+'"]',o.$element).length;if(o.isSelect&&!g){var v=e("<option selected>"+s(r)+"</option>");v.data("item",t),v.attr("value",a),o.$element.append(v)}i||o.pushVal(o.options.triggerChange),o.options.maxTags!==o.itemsArray.length&&o.items().toString().length!==o.options.maxInputLength||o.$container.addClass("bootstrap-tagsinput-max"),e(".typeahead, .twitter-typeahead",o.$container).length&&o.$input.typeahead("val",""),this.isInit?o.$element.trigger(e.Event("itemAddedOnInit",{item:t,options:n})):o.$element.trigger(e.Event("itemAdded",{item:t,options:n}))}}}}}else if(o.options.onTagExists){var b=e(".tag",o.$container).filter(function(){return e(this).data("item")===d});o.options.onTagExists(t,b)}},remove:function(t,i,n){var s=this;if(s.objectItems&&(t="object"==typeof t?e.grep(s.itemsArray,function(e){return s.options.itemValue(e)==s.options.itemValue(t)}):e.grep(s.itemsArray,function(e){return s.options.itemValue(e)==t}),t=t[t.length-1]),t){var o=e.Event("beforeItemRemove",{item:t,cancel:!1,options:n});if(s.$element.trigger(o),o.cancel)return;e(".tag",s.$container).filter(function(){return e(this).data("item")===t}).remove(),e("option",s.$element).filter(function(){return e(this).data("item")===t}).remove(),-1!==e.inArray(t,s.itemsArray)&&s.itemsArray.splice(e.inArray(t,s.itemsArray),1)}i||s.pushVal(s.options.triggerChange),s.options.maxTags>s.itemsArray.length&&s.$container.removeClass("bootstrap-tagsinput-max"),s.$element.trigger(e.Event("itemRemoved",{item:t,options:n})),s.options.itemRemoved&&s.options.itemRemoved(t)},removeAll:function(){var t=this;for(e(".tag",t.$container).remove(),e("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var t=this;e(".tag",t.$container).each(function(){var i=e(this),n=i.data("item"),o=t.options.itemValue(n),a=t.options.itemText(n),r=t.options.tagClass(n);if(i.attr("class",null),i.addClass("tag "+s(r)),i.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=s(a),t.isSelect){e("option",t.$element).filter(function(){return e(this).data("item")===n}).attr("value",o)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,i=e.map(t.items(),function(e){return t.options.itemValue(e).toString()});t.$element.val(i,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var s=this;if(s.options=e.extend({},r,t),s.objectItems&&(s.options.freeInput=!1),i(s.options,"itemValue"),i(s.options,"itemText"),n(s.options,"tagClass"),s.options.listTags&&e(s.options.listTags).on("click","li",function(){s.add(e(this).text()),s.options.showListTags(e(this).text(),s)}),s.options.typeahead){var c=s.options.typeahead||{};n(c,"source"),s.$input.typeahead(e.extend({},c,{source:function(t,i){function n(e){for(var t=[],n=0;n<e.length;n++){var a=s.options.itemText(e[n]);o[a]=e[n],t.push(a)}i(t)}this.map={};var o=this.map,a=c.source(t);e.isFunction(a.success)?a.success(n):e.isFunction(a.then)?a.then(n):e.when(a).then(n)},updater:function(e){return s.add(this.map[e]),this.map[e]},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t,i=this.query.replace(/(^\s*)|(\s*$)/g,"");if(""==i)return e;i=i.replace(/[\(\)\/\.\*\+\?\[\]]/g,function(e){return"\\"+e});try{t=new RegExp("("+i+")","ig")}catch(e){}return e.replace(t,'<u class="h">$1</u>')}}))}if(s.options.typeaheadjs){var l=s.options.typeaheadjs;e.isArray(l)||(l=[null,l]),e.fn.typeahead.apply(s.$input,l).on("typeahead:selected",e.proxy(function(e,t,i){var n=0;l.some(function(e,t){return e.name===i&&(n=t,!0)}),l[n].valueKey?s.add(t[l[n].valueKey]):s.add(t),s.$input.typeahead("val","")},s))}s.$container.on("click",e.proxy(function(e){s.$element.attr("disabled")||s.$input.removeAttr("disabled"),s.$input.focus()},s)),s.options.addOnBlur&&s.options.freeInput&&s.$input.on("focusout",e.proxy(function(t){0===e(".typeahead, .twitter-typeahead",s.$container).length&&(s.add(s.$input.val()),s.$input.val(""))},s)),s.$container.on({focusin:function(){s.$container.addClass(s.options.focusClass)},focusout:function(){s.$container.removeClass(s.options.focusClass)}}),s.$container.on("keydown","input",e.proxy(function(t){var i=e(t.target),n=s.findInputWrapper();if(s.$element.attr("disabled"))return void s.$input.attr("disabled","disabled");switch(t.which){case 8:if(0===o(i[0])){var a=n.prev();a.length&&s.remove(a.data("item"))}break;case 46:if(0===o(i[0])){var r=n.next();r.length&&s.remove(r.data("item"))}break;case 37:var c=n.prev();0===i.val().length&&c[0]&&(c.before(n),i.focus());break;case 39:var l=n.next();0===i.val().length&&l[0]&&(l.after(n),i.focus())}var d=i.val().length;Math.ceil(d/5);i.attr("size",Math.max(this.inputSize,i.val().length))},s)),s.$container.on("keypress","input",e.proxy(function(t){var i=e(t.target);if(s.$element.attr("disabled"))return void s.$input.attr("disabled","disabled");var n=i.val(),o=s.options.maxChars&&n.length>=s.options.maxChars;s.options.freeInput&&(a(t,s.options.confirmKeys)||o)&&(0!==n.length&&(s.add(o?n.substr(0,s.options.maxChars):n),i.val("")),!1===s.options.cancelConfirmKeysOnEmpty&&t.preventDefault());var r=i.val().length;Math.ceil(r/5);i.attr("size",Math.max(this.inputSize,i.val().length))},s)),s.$container.on("click","[data-role=remove]",e.proxy(function(t){s.$element.attr("disabled")||s.remove(e(t.target).closest(".tag").data("item"))},s)),s.options.itemValue===r.itemValue&&("INPUT"===s.$element[0].tagName?s.add(s.$element.val()):e("option",s.$element).each(function(){s.add(e(this).attr("value"),!0)})),s.options.onReady&&s.options.onReady(s)},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],i=this.$container[0];t&&t.parentNode!==i;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(i,n,s){var o=[];return this.each(function(){var a=e(this).data("tagsinput");if(a)if(i||n){if(void 0!==a[i]){if(3===a[i].length&&void 0!==s)var r=a[i](n,null,s);else var r=a[i](n);void 0!==r&&o.push(r)}}else o.push(a);else a=new t(this,i),e(this).data("tagsinput",a),o.push(a),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())}),"string"==typeof i?o.length>1?o:o[0]:o},e.fn.tagsinput.Constructor=t;var c=e("<div />");e(function(){e("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(e,t,i,n){e.fn.quicksearch=function(i,n){var s,o,a,r,c="",l=this,d=e.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",bind:"keyup",onBefore:function(){},onAfter:function(){},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(e){return e.toLowerCase().split(" ")},testQuery:function(e,t,i){for(var n=0;n<e.length;n+=1)if(-1===t.indexOf(e[n]))return!1;return!0}},n);return this.go=function(){for(var e=0,t=!0,i=d.prepareQuery(c),n=0===c.replace(" ","").length,e=0,s=a.length;e<s;e++)n||d.testQuery(i,o[e],a[e])?(d.show.apply(a[e]),t=!1):d.hide.apply(a[e]);return t?this.results(!1):(this.results(!0),this.stripe()),this.loader(!1),d.onAfter(),this},this.stripe=function(){if("object"==typeof d.stripeRows&&null!==d.stripeRows){var t=d.stripeRows.join(" "),i=d.stripeRows.length;r.not(":hidden").each(function(n){e(this).removeClass(t).addClass(d.stripeRows[n%i])})}return this},this.strip_html=function(t){var i=t.replace(new RegExp("<[^<]+>","g"),"");return i=e.trim(i.toLowerCase())},this.results=function(t){return"string"==typeof d.noResults&&""!==d.noResults&&(t?e(d.noResults).hide():e(d.noResults).show()),this},this.loader=function(t){return"string"==typeof d.loader&&""!==d.loader&&(t?e(d.loader).show():e(d.loader).hide()),this},this.cache=function(){r=e(i),"string"==typeof d.noResults&&""!==d.noResults&&(r=r.not(d.noResults));var t="string"==typeof d.selector?r.find(d.selector):e(i).not(d.noResults);return o=t.map(function(){return l.strip_html(this.innerHTML)}),a=r.map(function(){return this}),this.go()},this.trigger=function(){return this.loader(!0),d.onBefore(),t.clearTimeout(s),s=t.setTimeout(function(){l.go()},d.delay),this},this.cache(),this.results(!0),this.stripe(),this.loader(!1),this.each(function(){e(this).bind(d.bind,function(){c=e(this).val(),l.trigger()})})}}(jQuery,this,document),function(e,t,i){function n(){this.defaultData=[{code:"100000",name:"鎶€鏈�"},{code:"",name:""},{code:"",name:""}],this.list=this.defaultData,this.active="active"}n.prototype={init:function(t){return this.positionType=e('<div class="common-position-type"></div>'),this.callback=t.callback,this.levelType=t.onlyTwoLevel,this.hasSearch=!!t.hasSearch,"object"!=typeof t.data?this.getData(t):(this.json=t.data,this.addHtml()),this.list},getData:function(t){var i=this;e.get(t.data,function(e){e.zpData?i.json=e.zpData:i.json=e.data,i.addHtml(t.onlyTwoLevel)})},addEvent:function(){var t=this,i=e(".js-dialog-position"),n=e(".js-common-position");this.$search=i.find(".js-position-search"),this.$searchLists=this.$search.find(".position-lists .normal ul"),this.$searchBlank=this.$search.find(".position-lists .blank"),this.$searchInput=this.$search.find(".position-input input"),this.$searchSearchbtn=this.$search.find(".position-input .icon-p-search"),this.currentSelection=-1,n.off("click"),n.on("click",".js-type li",function(){t.list[0].code=e(this).attr("data-code"),t.list[0].name=e(this).text(),t.setOneList(this),t.appendTwoList(e(this).attr("data-code"))}),n.on("click",".js-content .js-li",function(){t.list[1].code=e(this).attr("data-code"),t.list[1].name=e(this).text(),t.getValue(this)}),n.on("click",".js-content .js-ol-li",function(){t.setPop(this),t.removeNode(e(".js-dialog-position"))}),this.$searchInput.on("input focus",function(){var i=e(this).val().trim();t.getSearchList(i)}),this.$searchInput.on("keydown",function(e){t.suggestSelected(e,t)}),this.$searchSearchbtn.on("click",function(){var i=e(this).siblings(".ipt").val().trim();t.getSearchList(i)}),this.$searchLists.on("click","li",function(){t.setPop(this),t.removeNode(e(".js-dialog-position"));try{_T.sendEvent("position_keyword_click")}catch(e){}}),i.on("click",function(i){e(i.target).parents(".js-position-search").length||(t.$searchLists.addClass("hide"),t.$searchBlank.addClass("hide"))})},getSearchList:function(e){var t=this,i=(t.$search,t.$searchLists),n=t.$searchBlank;if(!e)return i.html("").addClass("hide"),void n.addClass("hide");var s=function(e){for(var i=t.json,n=[],s=0;s<i.length;s++){var o=i[s].name,a=i[s].subLevelModelList||i[s].children||i[s].subList;if(a&&a.length)for(var r=0;r<a.length;r++){var c=a[r].name,l=a[r].subLevelModelList||a[r].children||a[r].subList;if(t.levelType){var d=a[r].code||a[r].id,p=e.toLowerCase(),u=c.toLowerCase();u.indexOf(p)>=0&&n.push({name:c,code:d,text:o})}else if(l&&l.length)for(var h=0;h<l.length;h++){var f=l[h].name,m=l[h].code||l[h].id,g=e.toLowerCase(),v=f.toLowerCase();v.indexOf(g)>=0&&n.push({name:f,code:m,text:o+"-"+c})}}}return n}(e);try{_T.sendEvent("position_keyword_search")}catch(e){}s.length?function(e,s){i.html("");for(var o=0;o<e.length;o++){var a=e[o].name.toLowerCase(),r=s.toLowerCase(),c=a.indexOf(r),l=r.length,d=e[o].name.substring(0,c)+'<span class="h">'+e[o].name.substring(c,c+l)+"</span>"+e[o].name.substring(c+l);i.append('<li data-code="'+e[o].code+'" data-text="'+e[o].name+'"><p class="p-name">'+d+'</p><span class="p-des">'+e[o].text+"</span></li>")}i.removeClass("hide"),n.addClass("hide"),t.currentSelection=-1,t.$searchLists.scrollTop(0)}(s,e):(i.html("").addClass("hide"),n.removeClass("hide"))},suggestSelected:function(t,i){var n=i,s=n.$searchLists.find("li");if(""!=n.$searchInput.val().trim())switch(t.which){case 38:s.removeClass("selected"),-1==n.currentSelection||0==n.currentSelection?(n.currentSelection=-1,n.currentSelection=s.length-1):n.currentSelection--,s.eq(n.currentSelection).addClass("selected"),n.scrollVisiable(s.eq(n.currentSelection),"up");break;case 40:t.preventDefault(),s.removeClass("selected"),n.currentSelection>s.length-2&&(n.currentSelection=-1),n.currentSelection++,s.eq(n.currentSelection).addClass("selected"),n.scrollVisiable(s.eq(n.currentSelection),"down");break;case 13:n.currentSelection=-1;var o=n.$searchLists.find("li.selected"),a=o.get(0);if(o.length){n.setPop(a),n.removeNode(e(".js-dialog-position"));try{_T.sendEvent("position_keyword_click")}catch(t){}}break;case 27:n.currentSelection=-1,n.$searchInput.val(""),n.$searchLists.html("").addClass("hide"),n.$searchBlank.addClass("hide")}},scrollVisiable:function(t,i){var t=t,n=this.$searchLists;if(!t)return!1;var s=n.find("li").length,o=e(t).index(),a=o>4?o-4:0,r="down"==i&&(a<s-4||0===o),c="up"==i&&(o<s-5||o==s-1);"up"==i&&(a=o),(c||r)&&n.scrollTop(a*e(t).height())},addHtml:function(e){var t='<div class="common-position js-common-position '+(e?"level-two":"")+' ">',i=[t,'<ul class="type js-type"></ul>','<div class="content js-content"></div>',"</div>"];this.positionType.html(i.join("")),this.positionType.find(".js-type").append(this.getOneData(this.json,e)),e?this.appendTwoList(1e7):this.appendTwoList(1e5),this.dialog(),this.addEvent()},appendTwoList:function(t){var i=this.joinTwoData(this.getTwoData(t)),n=e(".js-common-position");n=n.length?n:this.positionType,n.find(".js-content").html(i)},getValue:function(t){var i=e(t).parents(".js-two"),n=e(".js-two"),s=e(".js-li"),o=this.getThreeData(e(t).attr("data-code")),a=this.joinThreeData(o);o?(this.resetHTML(n,s),e(t).addClass(this.active),i.append(a)):(this.setPop(t),this.removeNode(e(".js-dialog-position")))},getOneData:function(t,i){var n=this,s="";return e.each(t,function(e,t){var o=t.name,a=n.getCode(t);s+=a+""=="100000"||i&&a+""=="10000000"?'<li class="active" title="'+o+'" data-code="'+a+'">'+o+"</li>":'<li title="'+o+'" data-code="'+a+'"">'+o+"</li>"}),s},getTwoData:function(t){var i="",n=this;return e.each(this.json,function(e,s){var o=n.getCode(s);parseInt(t,10)===o&&(i=s.subLevelModelList||s.children||s.subList)}),i},getThreeData:function(t){var i="",n=this;return e.each(this.json,function(s,o){var a=o.subLevelModelList||o.children||o.subList;e.each(a,function(e,s){if(n.getCode(s)==t)return i=s.subLevelModelList||s.children||s.subList,!1})}),i},removeNode:function(e){e.remove()},setOneList:function(t){var i=this;e(".js-type li").map(function(t,n){e(n).removeClass(i.active)}),e(t).addClass(this.active)},joinTwoData:function(t){var i="",n=0,s=this,o=t.length||0;return e.each(t,function(e,t){var a=s.getCode(t),r=t.name;e%4==0&&(i+='<div class="js-two"><ul class="navs" data-eq='+n+++">"),i+='<li class="js-li" data-code="'+a+'">'+r+"</li>",e%4!=3&&e!==o-1||(i+="</ul></div>")}),i},joinThreeData:function(t){var i=this,n='<ol class="list block">';return e.each(t,function(e,t){var s=i.getCode(t),o=t.name;n+='<li class="js-ol-li" data-code="'+s+'">'+o+"</li>"}),n+="</ol>"},getCode:function(e){return e.code||e.id},setPop:function(t){e(".js-dialog-position").hide(),this.list[2].code=e(t).attr("data-code"),
        this.list[2].name=e(t).attr("data-text")||e(t).text(),this.callback(this.list),this.list=this.defaultData},resetHTML:function(t,i){var n=this;t.map(function(t,i){e(i).find("ol").remove()}),i.map(function(t,i){e(i).removeClass(n.active)})},getDialogTitleView:function(){if(this.hasSearch){return'<div class="position-search js-position-search s-position-search"><div class="position-input"><input class="ipt" placeholder="璇疯緭鍏ヨ亴浣嶅叧閿瘝" type="text" name=""><i class="icon-p-search"></i></div><div class="position-lists"><div class="normal"><ul class="hide"></ul></div><div class="blank hide">鏆傛棤鍖归厤鑱屼綅锛岃鑷鍦ㄤ笅鏂归€夋嫨娣诲姞</div></div></div>'}return""},dialog:function(){e.dialog({title:"璇烽€夋嫨鑱岀被"+this.getDialogTitleView(),content:this.positionType.html(),closeText:!0,confirmText:"",cancelText:"",wrapClass:"layer-position js-dialog-position",preKa:"",inline:!1})}},e.Position=n}(jQuery,window),function(e){var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{(n=e._data(s,"events"))&&n.remove&&e(s).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var s,o,a,r,c={},l=t.split(".")[0];return t=t.split(".")[1],s=l+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},o=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(c[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(c[t]=n)}),a.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||t:t},c,{constructor:a,namespace:l,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,s,o=i.call(arguments,1),a=0,r=o.length;r>a;a++)for(n in o[a])s=o[a][n],o[a].hasOwnProperty(n)&&void 0!==s&&(t[n]=e.isPlainObject(s)?e.isPlainObject(t[n])?e.widget.extend({},t[n],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,n){var s=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,r=i.call(arguments,1),c=this;return a?this.each(function(){var i,n=e.data(this,s);return"instance"===o?(c=n,!1):n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,r),i!==n&&void 0!==i?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(r.length&&(o=e.widget.extend.apply(null,[o].concat(r))),this.each(function(){var t=e.data(this,s);t?(t.option(o||{}),t._init&&t._init()):e.data(this,s,new n(o,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(s=a[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(t=n.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,a){function r(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var c=n.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+o.eventNamespace,d=c[2];d?s.delegate(d,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?!0===s||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),a=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&e.effects&&e.effects.effect[r]?n[t](s):r!==t&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}}),e.widget}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0,i=e,n="parseJSON";"JSON"in window&&"parse"in JSON&&(i=JSON,n="parse"),e.ajaxTransport("iframe",function(i){if(i.async){var n,s,o,a=i.initialIframeSrc||"javascript:false;";return{send:function(r,c){n=e('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),o=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+o+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+o+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+o+"_method=PATCH",i.type="POST"),t+=1,s=e('<iframe src="'+a+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(i.paramName)?i.paramName:[i.paramName];s.unbind("load").bind("load",function(){var t;try{if(t=s.contents(),!t.length||!t[0].firstChild)throw new Error}catch(e){t=void 0}c(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",s.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&e.each(i.formData,function(t,i){e('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(t=i.fileInput.clone(),i.fileInput.after(function(e){return t[e]}),i.paramName&&i.fileInput.each(function(t){e(this).prop("name",o[t]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),t&&t.length&&i.fileInput.each(function(i,n){var s=e(t[i]);e(n).prop("name",s.prop("name")).attr("form",s.attr("form")),s.replaceWith(n)})}),n.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",a),n&&n.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&i[n](e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&e.isXMLDoc(i)?i:e.parseXML(i.XMLDocument&&i.XMLDocument.xml||e(i.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var i="dragover"===t;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var s=n.dataTransfer;s&&-1!==e.inArray("Files",s.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:n}))&&(n.preventDefault(),i&&(s.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file"/>').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){if(t.isDefaultPrevented())return!1;(i.autoUpload||!1!==i.autoUpload&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var n,s=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&s-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=s,n=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(s,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(s,n,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,i._onProgress(e,t)}),t.xhr=function(){return n})},_deinitProgressListener:function(t){var i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&e(i.upload).unbind("progress")},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,n=this,s=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",s)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(s.uploadName||s.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:a,value:t.blob}):e.each(t.files,function(n,s){i.push({name:"array"===e.type(t.paramName)&&t.paramName[n]||a,value:s})})):(n._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(a,t.blob,s.uploadName||s.name):e.each(t.files,function(s,o){(n._isInstanceOf("File",o)||n._isInstanceOf("Blob",o))&&i.append("array"===e.type(t.paramName)&&t.paramName[s]||a,o,o.uploadName||o.name)})),t.data=i):(t.contentType=s.type||"application/octet-stream",t.data=t.blob||s),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",s=(t.prop("files")||[1]).length;s;)n.push(i),s-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,n){var s=e.Deferred(),o=s.promise();return i=i||this.options.context||o,!0===t?s.resolveWith(i,n):!1===t&&s.rejectWith(i,n),o.abort=s.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,i){var n=this,s=function(t){return e.Deferred().resolveWith(n,t).promise()};i.process=function(t,o){return(t||o)&&(i._processQueue=this._processQueue=(this._processQueue||s([this])).then(function(){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():s(arguments)}).then(t,o)),this._processQueue||s([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=!1!==n._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var n,s,o=this,a=t.files[0],r=a.size,c=t.uploadedBytes,l=t.maxChunkSize||r,d=this._blobSlice,p=e.Deferred(),u=p.promise();return!(!(this._isXHRUpload(t)&&d&&(c||("function"===e.type(l)?l(t):l)<r))||t.data)&&(!!i||(c>=r?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(s=function(){var i=e.extend({},t),u=i._progress.loaded;i.blob=d.call(a,c,c+("function"===e.type(l)?l(i):l),a.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+c+"-"+(c+i.chunkSize-1)+"/"+r,o._trigger("chunkbeforesend",null,i),o._initXHRData(i),o._initProgressListener(i),n=(!1!==o._trigger("chunksend",null,i)&&e.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(n,a,l){c=o._getUploadedBytes(l)||c+i.chunkSize,u+i.chunkSize-i._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:c-i.uploadedBytes,total:c-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=c,i.result=n,i.textStatus=a,i.jqXHR=l,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),c<r?s():p.resolveWith(i.context,[n,a,l])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),p.rejectWith(i.context,[e,t,n])}).always(function(){o._deinitProgressListener(i)})},this._enhancePromise(u),u.abort=function(){return n.abort()},s(),u)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,n,s){var o=s._progress.total,a=s._response;s._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),s),a.result=s.result=t,a.textStatus=s.textStatus=i,a.jqXHR=s.jqXHR=n,this._trigger("done",null,s)},_onFail:function(e,t,i,n){var s=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),s.jqXHR=n.jqXHR=e,s.textStatus=n.textStatus=t,s.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){this._trigger("always",null,n)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var n,s,o,a,r=this,c=r._getAJAXSettings(i),l=function(){return r._sending+=1,c._bitrateTimer=new r._BitrateTimer,n=n||((s||!1===r._trigger("send",e.Event("send",{delegatedEvent:t}),c))&&r._getXHRPromise(!1,c.context,s)||r._chunkedUpload(c)||e.ajax(c)).done(function(e,t,i){r._onDone(e,t,i,c)}).fail(function(e,t,i){r._onFail(e,t,i,c)}).always(function(e,t,i){if(r._deinitProgressListener(c),r._onAlways(e,t,i,c),r._sending-=1,r._active-=1,c.limitConcurrentUploads&&c.limitConcurrentUploads>r._sending)for(var n=r._slots.shift();n;){if("pending"===r._getDeferredState(n)){n.resolve();break}n=r._slots.shift()}0===r._active&&r._trigger("stop")})};return this._beforeSend(t,c),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.then(l)):(this._sequence=this._sequence.then(l,l),a=this._sequence),a.abort=function(){return s=[void 0,"abort","abort"],n?n.abort():(o&&o.rejectWith(c.context,s),l())},this._enhancePromise(a)):l()},_onAdd:function(t,i){var n,s,o,a,r=this,c=!0,l=e.extend({},this.options,i),d=i.files,p=d.length,u=l.limitMultiFileUploads,h=l.limitMultiFileUploadSize,f=l.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(l),v=0;if(!p)return!1;if(h&&void 0===d[0].size&&(h=void 0),(l.singleFileUploads||u||h)&&this._isXHRUpload(l))if(l.singleFileUploads||h||!u)if(!l.singleFileUploads&&h)for(o=[],n=[],a=0;a<p;a+=1)m+=d[a].size+f,(a+1===p||m+d[a+1].size+f>h||u&&a+1-v>=u)&&(o.push(d.slice(v,a+1)),s=g.slice(v,a+1),s.length||(s=g),n.push(s),v=a+1,m=0);else n=g;else for(o=[],n=[],a=0;a<p;a+=u)o.push(d.slice(a,a+u)),s=g.slice(a,a+u),s.length||(s=g),n.push(s);else o=[d],n=[g];return i.originalFiles=d,e.each(o||d,function(s,a){var l=e.extend({},i);return l.files=o?a:[a],l.paramName=n[s],r._initResponseObject(l),r._initProgressObject(l),r._addConvenienceMethods(t,l),c=r._trigger("add",e.Event("add",{delegatedEvent:t}),l)}),c},_replaceFileInput:function(t){var i=t.fileInput,n=i.clone(!0),s=i.is(document.activeElement);t.fileInputClone=n,e("<form></form>").append(n)[0].reset(),i.after(n).detach(),s&&n.focus(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,i){var n,s=this,o=e.Deferred(),a=[],r=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},c=function(e){s._handleFileTreeEntries(e,i+t.name+"/").done(function(e){o.resolve(e)}).fail(r)},l=function(){n.readEntries(function(e){e.length?(a=a.concat(e),l()):c(a)},r)};return i=i||"",t.isFile?t._file?(t._file.relativePath=i,o.resolve(t._file)):t.file(function(e){e.relativePath=i,o.resolve(e)},r):t.isDirectory?(n=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,n;t.prop("webkitEntries")||t.prop("entries");if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=t.prop("value")))return e.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(s){n.files=s,i.options.replaceFileInput&&i._replaceFileInput(n),!1!==i._trigger("change",e.Event("change",{delegatedEvent:t}),n)&&i._onAdd(t,n)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),n)&&this._onAdd(t,n))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,n=t.dataTransfer,s={};n&&n.files&&n.files.length&&(t.preventDefault(),this._getDroppedFiles(n).always(function(n){s.files=n,!1!==i._trigger("drop",e.Event("drop",{delegatedEvent:t}),s)&&i._onAdd(t,s)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,i){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,n=this.element.data();e.each(this.element[0].attributes,function(e,s){var o,a=s.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=n[a],t._isRegExpOption(a,o)&&(o=t._getRegExp(o)),i[a]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,s=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!n){if(!e.length)return void o.reject();t.files=e,i=s._onSend(null,t),i.then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});var Salary=function(){function e(){return function(e,t){for(var n=e,s=[],o=i.unit(n);n<=t;)s.push(n),o=i.unit(n),n+=o;return s}(1,250)}function t(e){for(var t=i.max(e),n=i.unit(e),s=Math.floor(e/n)*n,o=[],a=i.unit(s);s<t;)a=i.unit(s),(s+=a)<=t&&o.push(s);return o}var i={};return i.number=function(e){var t=this;if(!(this instanceof i.number))return new i.number(e);t.number=e,this.between=function(e,i){return e<=t.number&&t.number<=i}},i.unit=function(e){var t=i.number(e);return t.between(1,29)?1:t.between(30,99)?5:e>=100?10:1},i.max=function(e){return e<=10?e+5:e<=30?2*e:e<=99?Math.min(120,e+30):Math.min(260,2*e)},{min:e,max:t}}(),Auxiliary=function(){var e=function(e){var t=0,e=e;len=e.length,charCode=-1;for(var i=0;i<len;i++)charCode=e.charCodeAt(i),charCode>=0&&charCode<=128?t+=.5:t+=1;return Math.round(t)},t=function(e){for(var t=0,i=e.length,n=-1,s=0;s<i;s++)n=e.charCodeAt(s),t+=n>=0&&n<=128?1:2;return t};return{getByteLength:t,getHybridLength:e}}(),PositionShop=function(){var e={hot:function(t){var i,n=!t.bzbList||t.bzbList.length<2?"":" item-combo",s=e.header(t),o=e.discount(t);return i=t.bzbList?t.bzbList.map(function(t){return e.superCard(t)}):[e.aloneCard(t)],s+'<div class="item-list clearfix'+n+'">'+i.join("")+"</div>"+o},singleCard:function(e){return Utemplate('<div class="item-card"><p class="item-name"><%this.name%></p><%for(var i=0;i<this.privilegeList.length;i++){%><p class="item-rights"><i class="dot"></i><span class="item-rights-title"><%this.privilegeList[i].name%></span></p><%}%><div class="item-desc"><p><span class="amount fr"><%this.priceList[0].unitDesc%></p>鏉冪泭鎬讳环鍊�</div></div>',e)},aloneCard:function(e){return Utemplate('<div class="item-card"><p class="item-name"><%this.priceTitle%><i class="discount">闄愭椂鎶樻墸</i></p><%for(var i=0;i<this.descList.length;i++){%><p class="item-rights"><i class="dot"></i><span class="item-rights-title"><%this.descList[i]%></span></p><%}%><div class="item-desc"><p><span class="amount fr"><%this.currentPriceDesc%></p>鏉冪泭鎬讳环鍊�</div></div>',e)},card:function(t){if(1===t.priceList.length)return e.singleCard(t);return Utemplate('<div class="item-card"><p class="item-name"><%this.name%></p><%for(var i=0;i<this.privilegeList.length;i++){%><p class="item-rights"><span class="item-rights-title"><%this.privilegeList[i].name%></span></p><%}%><ul><%for(var j=0;j<this.priceList.length;j++){%><li <%if(this.priceList[j].select){%>class="selected"<%}%> ><%if(this.priceList[j].promoteDesc){%><p class="offer-select"><%this.priceList[j].promoteDesc%></p><%}%><span class="item-date"><%this.priceList[j].expireName%><%if(this.priceList[j].discountDesc){%><i class="discount"><%this.priceList[j].discountDesc%></i><%}%></span><span class="item-price"><%this.priceList[j].unitDesc%></span><span class="item-check"><i class="iboss-checked-solid"></i></span></li><%}%></ul></div>',t)},superCard:function(t){if(1===t.priceList.length)return e.singleCard(t);return Utemplate('<div class="item-card"><p class="item-name"><%this.name%></p><%for(var i=0;i<this.privilegeList.length;i++){%><p class="item-rights"><i class="dot"></i><span class="item-rights-title"><%this.privilegeList[i].name%></span></p><%}%><ul><%for(var j=0;j<this.priceList.length;j++){%><li <%if(this.priceList[j].select){%>class="selected"<%}%> ><%if(this.priceList[j].promoteDesc){%><p class="offer-select"><%this.priceList[j].promoteDesc%></p><%}%><span class="item-date"><%this.priceList[j].expireName%><%if(this.priceList[j].discountDesc){%><i class="discount"><%this.priceList[j].discountDesc%></i><%}%></span><span class="item-price"><%this.priceList[j].unitDesc%></span><span class="item-check"><i class="iboss-checked-solid"></i></span></li><%}%></ul></div>',t)},free:function(){},header:function(e){
        return Utemplate('<div class="position-top"><div class="article"><h4><%this.shortDesc.name%></h4><%this.hlShortDesc.name%></div><div class="notice-box"><div class="notice-inner"><%if(this.dynamicBar){%><%for(var i=0;i<this.dynamicBar.length;i++){%><p class="notice"><%this.dynamicBar[i]%></p><%}%><%}%></div></div></div>',e)},discount:function(e){return Utemplate('<%if(this.discountList && this.discountList.length){%><div class="item-discount-list"><p>浼樻儬</p><ul><%for(var i=0;i<this.discountList.length;i++){%><li><i><%this.discountList[i].discountTag%></i><%this.discountList[i].discount.name%></li><%}%></ul></div><%}%><%if(this.bottomTipList){%><%for(var j=0;j<this.bottomTipList.length;j++){%><p class="item-bottom-desc"><%this.bottomTipList[j].name%></p><%}%><%}%>',e)},super:function(t){var i,n=e.header(t);return i=t.bzbList?t.bzbList.map(function(t){return e.superCard(t)}):[e.aloneCard(t)],n+'<div class="item-list clearfix">'+i.join("")+"</div>"+e.discount(t)},upgradeCard:function(e){return Utemplate('<div class="item-card"><p class="item-name"><%this.priceTitle%><i class="discount">闄愭椂鎶樻墸</i></p><%for(var i=0;i<this.descList.length;i++){%><p class="item-rights"><i class="dot"></i><span class="item-rights-title"><%this.descList[i]%></span></p><%}%><div class="item-desc"><p><span class="amount fr"><%this.currentPriceDesc%></p>鍗囩骇鎵€闇€浠锋牸<p class="item-bottom-desc"><%this.upgradeDesc%></p></div></div>',e)},upgrade:function(t){return e.header(t)+'<div class="item-list clearfix">'+e.upgradeCard(t)+"</div>"+e.discount(t)}},t=function(e,t,i){var n,s=e.buttonList,o=0,a=function(e){$.get("/wapi/zpblock/order/bzbquery",{bzbParam:e.bzbParam}).success(function(e){if(888888==e.code)return window.top.mediator.publish("CHECK_IS_ANOTHER_CITY",e.zpData.jobId),!1;if(0===e.code&&6===e.zpData.auditStatus){var i=util.get(e,"zpData.dialog.title",""),n=util.get(e,"zpData.dialog.content","").split(/[\s\n\鈫礭/),s='<p class="status">褰撳墠鑱屼綅宸蹭粯璐�</p><p class="article"><span class="clock-timing">'+i+'</span></p><ul class="desc-list">'+n.map(function(e){return"<li>"+e+"</li>"}).join("")+"</ul>";$.dialog({bind:!0,title:"",closeLayer:!1,closeText:!1,content:s,wrapClass:"flex-dialog-wrap position-shop-confirm",cancelText:"",confirmText:"纭畾",onConfirm:function(){t.confirm&&t.confirm(),this.close()},onClose:function(){t.close&&t.close()}})}else 0==e.code&&Payment.success({article:e.zpData.dialog.title,text:e.zpData.dialog.content,confirm:function(){t.confirm&&t.confirm()},close:function(){t.close&&t.close()}})})},r=function(t){if(console.log(e),!e.bzbList)return e;var i=$(t).find("li.selected"),n=i.parents(".item-card"),s=e.bzbList[n.index()];return i.length?s.priceList[i.index()]:e.bzbList[0].priceList[0]},c=function(t){if(!e.bzbList)return e;var i=$(t).find("li.selected"),n=i.parents(".item-card");return e.bzbList[n.index()]};$.dialog({bind:!0,title:"",closeLayer:!1,content:i,wrapClass:"flex-dialog-wrap position-shop-wrap",cancelText:s.length>1&&s[0].text,confirmText:s.length>1?s[1].text:s[0].text,onOpen:function(t){$(t).on("click",".item-card li",function(){$(t).find(".selected").removeClass("selected"),$(this).addClass("selected")}),!$(t).find(".item-list li.selected").length&&$(t).find(".item-list li").length&&$(t).find(".item-list li").eq("0").addClass("selected"),n=setInterval(function(){o=(o+1)%e.dynamicBar.length,$(t).find(".notice-inner").animate({marginTop:-37*o})},3e3)},onConfirm:function(i){var n=r(i),o=(c(i),s[s.length-1]),l=decodeURIComponent(o.url),d=getQueryParams(l),p=JSON.parse(d.params),u=t.encryptTargetId||t.targetId;d.ba&&Block.action(Block.formatBA(d.ba));var h={jobId:t.jobId,priceId:n.encryptPriceId,targetId:e.encryptTargetId?e.encryptTargetId:u,targetType:t.targetType?t.targetType:p.targetType,payMode:t.payMode,business:e.business};try{var f=function(e,t){if(e){e=getQueryParams(e);var i=e.params&&decodeURIComponent(e.params);if(i){var n=JSON.parse(i),s=n.tid,o=n.sf;s&&(t.tid=s),o&&(t.sf=o)}}};n.button&&n.button.url?f(n.button.url,h):n.priceList&&n.priceList.length&&f(n.priceList[0].payUrl,h)}catch(e){}var m={data:h,amount:n.beanCount},g={success:a};Payment.purchase(m,g),this.close()},onCancel:function(e){var i=decodeURIComponent(s[0].url),n=i.split("=")[1],o=JSON.parse(n),r={data:{jobId:t.jobId,priceId:o.priceId,targetId:t.targetId,targetType:t.targetType,payMode:t.payMode,business:t.business},amount:o.beanCount},c={success:a};Payment.purchase(r,c),$(e).remove(),this.close()},onClose:function(){o=[0],clearInterval(n)}})},i=function(i,n){t(i,n,e.hot(i))},n=function(i,n){t(i,n,e.super(i))},s=function(i,n){t(i,n,e.upgrade(i))};return{hot:i,super:n,upgrade:s,include:function(e,t){return e.upgrade?(s(e,t),!0):[21,23].indexOf(e.templateId)>-1?(i(e,t),!0):[22,24].indexOf(e.templateId)>-1&&(n(e,t),!0)}}}(),QuickTopCard=function(){var e={headerSuccess:function(e){return Utemplate('<header class="quick-header"><%if(this.showTitle){%><p class="status"><i class="status-icon success iboss-shangchuanchenggong"></i><%this.title ? this.title : "鍙戝竷鎴愬姛"%></p><%}%><%if(this.auditProgressRate || this.auditProgressRate === 0){%><p class="process-wrap J_process">姝ｅ湪瀹℃牳涓�<span class="process-num"><%this.auditProgressRate%>%</span><span class="process"><i style="width: <%this.auditProgressRate%>%;"></i></span></p><%}%><%if(this.content && !(this.content.length <= 0)) {%><%if(this.content.length === 1){%><p class="description"><%this.content[0]%></p><%}else{%><ul class="success-list"><%for(var i=0; i<this.content.length; i++){%><li><%this.content[i]%></li><%}%></ul><%}%><%}%><%if(this.hitExposureUpgrade){%><div class="limit-exposure-container"><p>1.璇ヨ亴浣嶅彂甯傿OSS杈冨锛屽綋鏃ユ敹鍒版秷鎭埌杈句竴瀹氭暟閲忓悗浼氶檺鍒舵洕鍏�</p><p>2.闄愬埗鏇濆厜鐨勮亴浣嶏紝涓嶄細鍐嶈绯荤粺鎺ㄨ崘缁欑墰浜猴紝浣嗘偍鍙娇鐢ㄨ处鍙锋潈鐩婁富鍔ㄥ悜鐗涗汉鍙戣捣娌熼€�</p></div><%}%><h3 class="title">鎬ヨ仒涓撲韩8.8鎶�<%if(this.quickTopType === 2){%><i class="blue-service-icon"></i><%}%></h3><div class="quick-expire"><span class="label">璺濈粨鏉熻繕鍓�</span><div class="time-wrap J_time"><i>-</i><i>-</i><em>:</em><i>-</i><i>-</i><em>:</em><i>-</i><i>-</i></div></div></header>',e)},headerCheck:function(e){return Utemplate('<header class="quick-header"><%if(this.showTitle){%><p class="status"><i class="status-icon check"></i><%this.title ? this.title : "鑱屼綅瀹℃牳涓�"%></p><%}%><%if(this.auditProgressRate || this.auditProgressRate === 0){%><p class="process-wrap J_process">姝ｅ湪瀹℃牳涓�<span class="process-num"><%this.auditProgressRate%>%</span><span class="process"><i style="width: <%this.auditProgressRate%>%;"></i></span></p><%}%><%if(this.content && !(this.content.length <= 0)) {%><%if(this.content.length === 1){%><p class="description"><%this.content[0]%></p><%}else{%><ul class="success-list"><%for(var i=0; i<this.content.length; i++){%><li><%this.content[i]%></li><%}%></ul><%}%><%}else{%><p class="description">瀹℃牳閫氳繃鍓嶆垨淇敼琚┏鍥烇紝鎮ㄥ彲浠ョ户缁娇鐢ㄤ慨鏀瑰墠鑱屼綅鎷涜仒锛屽鏍搁€氳繃鍚庡彲鐢ㄦ柊鐨勮亴浣嶄俊鎭嫑鑱橈紝璇风暀蹇冪郴缁熼€氱煡锛� <br/>宸ヤ綔鏃堕棿骞冲潎瀹℃牳鏃堕暱5鍒嗛挓锛岄潪宸ヤ綔鏃堕棿鏈€杩�1澶╁唴瀹屾垚锛岃鎮ㄨ€愬績绛夊緟銆�</p><%}%><h3 class="title">棰勫畾闄愭椂8.8鎶�</h3></header>',e)},cardContent:function(e,t){var i="";if(t&&t.relatedPositions&&t.relatedPositions.length){var n=0;n=t.relatedPositions.reduce(function(e,t){return e+t.percent},0),i='<div class="recruit-extension-condition"><p class="extension-condition-tip"><i class="icon iboss-warning-fill"></i><span class="text tip">涓哄尮閰嶆洿澶氱墰浜猴紝宸插府鎮ㄦ墿灞曟嫑鑱樻潯浠�</span><span class="text more-btn">鏌ョ湅鏇村</span></p><div class="extension-condition-list-container"><h4 class="extension-condition-title"><span class="text">鎻愬崌閭€璇锋暟閲�</span><span class="declare">閭€璇疯寖鍥存彁鍗�<span class="declare-number">'+n+'</span>%</span></h4><div class="extension-condition-list"><%for(var i=0; i<this.result.relatedPositions.length; i++){%><span class="extension-condition-item selected" data-position="<%this.result.relatedPositions[i].position%>" data-percent="<%this.result.relatedPositions[i].percent%>"><%this.result.relatedPositions[i].positionName%></span><%}%></div></div></div>'}var s={ageTags:"鐗涗汉骞撮緞鍖洪棿锛�",distanceTags:"浼樺厛閭€璇疯窛绂伙細"},o="";t&&t.sortedTags&&t.sortedTags.length>0&&function(e){var t=[];return e.sortedTags.forEach(function(i){var n=[];e[i]&&e[i].length&&(n=e[i]),t=t.concat(n)}),t.some(function(e){return e.tagAvailable})}(t)&&(o='<div class="advanced-filter-condition"><%for(var i=0; i<this.result.sortedTags.length; i++){%><%if(this.result[this.result.sortedTags[i]].length){%><div class="advanced-filter-condition-item"><label class="advanced-filter-condition-item-label"><%this.tagsMap[this.result.sortedTags[i]]%></label><div class="advanced-filter-condition-item-content"><%for(var j=0; j<this.result[this.result.sortedTags[i]].length; j++){%><span class="btn filter-btn <%if(!this.result[this.result.sortedTags[i]][j].tagAvailable){%>btn-disabled<%}%> " data-filter="<%this.result[this.result.sortedTags[i]][j].code%>"><%this.result[this.result.sortedTags[i]][j].name%></span><%}%></div></div><%}%><%}%></div>');var a="";return t&&2===t.quickTopType&&(a='<div class="preview-wrapper"><p class="preview-tip"><i class="icon iboss-yanjing1"></i><span class="text more-btn">鏁堟灉棰勮</span></p><div class="preview-container"><div class="preview-content"><div class="content"></div></div></div></div>'),Utemplate('<section class="quick-card"><div class="card-content">'+a+'<h4 class="title">鎬ヨ仒鐩撮€氬崱<span class="title-tips"></span></h4><ul class="description-list"><% if(this.buyQuickTop === 1) { %><li>路鑱屼綅鏄剧ず浜庡悓绫昏亴浣嶉灞忥紝鑾峰緱澶ч噺鏇濆厜</li><li>路绯荤粺<%if(this.quickTopType !== 2){%>24灏忔椂<%}%>鎵归噺閭€璇锋椿璺冪墰浜烘姇閫掔畝鍘�</li><% }else{ %><li>路鑱屼綅缃《浜庡悓绫昏亴浣嶄箣涓�<%if(this.quickTopType !== 2){%>24灏忔椂<%}%></li><li>路绯荤粺鎵归噺閭€璇峰尮閰嶅害楂樼殑鐗涗汉鎶曢€掔畝鍘�</li><% } %></ul></div><p class="card-description"><span class="label">缃《鑱岀被锛�</span><%this.job.positionCatgroy%><i class="vline"></i><%this.job.locationName%><i class="vline"></i><%this.job.experienceName%></p>'+i+o+'</section><div class="quick-card-bottom"><p>*璐拱鎴愬姛鍚庯紝缃《鍜岄個璇峰皢绔嬪嵆鐢熸晥锛岀疆椤舵寔缁�24灏忔椂</p><p>*涓轰繚璇佹晥鏋滐紝棰勫畾鎴愬姛鑷充娇鐢ㄧ粨鏉熷墠锛屾鑱屼綅灏嗘棤娉曠紪杈�</p><p>*鑱屼綅鍦ㄧЩ鍔ㄧ缃《灞曠ず锛屼笉鍚屽煄甯�/鑱屼綅瀹為檯鏇濆厜閲忥紝闅忕珵浜夋儏鍐典細鏈夋墍宸紓</p><p>*閬撳叿浠锋牸鍙兘鏍规嵁璧勬簮鎯呭喌銆佷紭鎯犵瓥鐣ョ瓑鍥犵礌鍙戠敓鍙樺姩</p><p>*1鐩磋眴绛変簬1鍏冧汉姘戝竵锛岀洿璞嗗厖鍊煎彲寮€鍏峰彂绁�</p><p>*璇ヤ骇鍝佸睘浜庢暟瀛楀寲鍟嗗搧锛岃喘涔板悗灏嗗鑷村叾浠峰€煎ぇ骞呰船鎹燂紝涓嶆敮鎸佷竷澶╂棤鐞嗙敱閫€娆� </p><p>*閬撳叿缁勫悎浣跨敤鏇撮珮鏁堬紝濂楅璐拱浠锋牸鏇翠紭锛岃璇細<a href="tel:400-065-5799">400-065-5799</a>鎴�<a href="javascript:;" class="J_char_sell">璇烽攢鍞【闂仈绯绘垜</a>锛涗篃鍙洿鎺ュ挩璇�<a href="javascript:;" class="J_robot">鍦ㄧ嚎瀹㈡湇</a></p></div>',{buyQuickTop:e.buyQuickTop,job:t.job,result:t,tagsMap:s,quickTopType:t.quickTopType})},cardTips:function(){return'<section class="quick-tips"><p>娉細缃《鍜岄個璇峰皢鍦ㄨ亴浣嶅鏍搁€氳繃鍚庡紑濮嬶紝鑻ュ鏍告湭閫氳繃绯荤粺灏嗚嚜鍔ㄨ繘琛岄€€娆�</p></section>'},footer:function(e,t){var i=1===e.buyQuickTop?"闄愭椂涓撲韩":"棰勫畾鎬ヨ仒";return Utemplate('<footer class="quick-footer"><%if(this.result.price === 0) {%><p class="disabled-text">璇ヨ亴浣嶆€ヨ仒鍗囩骇鍚嶉宸茬粡琚姠鍏変簡锛屼笅娆¤寰楁棭鐐规潵鍝︼綖</p><%}else{%><div class="price-box"><span class="ruling"><%this.result.payAmount%></span><span class="unit">鐩磋眴</span><span class="original"><%this.result.price%>鐩磋眴</span></div><%}%><a href="javascript:;" class="btn btn-orange <%if(this.result.price === 0){%>btn-disabled<%}%> J_submit"><%this.bottomText%></a></footer>',{bottomText:i,result:t})}},t={price:function(e,t){return $.get("/wapi/zpitem/web/quickJobTop/buyDetail/"+e,t)},bzbquery:function(e){return $.get("/wapi/zpblock/order/bzbquery",{bzbParam:e})},auditInfo:function(e){return $.get("/wapi/zpboss/h5/job/audit/info?jobId="+e)},islimitBuy:function(e){return $.get("/wapi/zpitem/quickTopV2/checkValid.json",e)}},i=function(e,i,s){var o=$.Deferred(),a=e.auditStatus||s.auditStatus,r={};return 6===a||7===a?t.auditInfo(e.jobId).done(function(t){var s=t.zpData;if(0===t.code&&s.dialog){var a=s.auditProgressRate?s.auditProgressRate:0;6!==s.auditStatus&&7!==s.auditStatus&&(a=100),r={title:s.dialog.title?s.dialog.title:"",content:s.dialog.content?[].concat(s.dialog.content.split(/[\s\n\鈫礭/)):[],auditProgressRate:a}}o.resolve(n(e,i,r))}).fail(function(){o.resolve(n(e,i,r))}):o.resolve(n(e,i,r)),o},n=function(t,i,n){t.showTitle&&(n.showTitle=!0),n.quickTopType=i.quickTopType;var s="";return 2===t.buyQuickTop?(s+='<div class="content-wrapper">',s+=e.headerCheck(n),s+=e.cardContent(t,i),s+=e.cardTips(),s+="</div>",s+=e.footer(t,i)):(s+='<div class="content-wrapper">',n.hitExposureUpgrade=t.hitExposureUpgrade,s+=e.headerSuccess(n),s+=e.cardContent(t,i),s+="</div>",s+=e.footer(t,i)),s},s=function(e){return"<i>"+("0"+e).substr(-2,2).split("").join("</i><i>")+"</i>"},o=function(e,t){var i=t.expireTime,n=t.currentTime-(new Date).getTime();__clock=new Clocking(i,1e3,{pair:function(e){return e+n}}),__clock.interval(function(t){var i=s(t.hour)+"<em>:</em>"+s(t.minute)+"<em>:</em>"+s(t.second);$(e).find(".J_time").html(i)})},a=function(e,n,s){var a=function(){var t="鍗冲埢缃《鑱屼綅24灏忔椂锛岄個绾﹀尮閰嶇墰浜烘姇閫�,鍙湪BOSS鐩磋仒APP銆屾垜鐨勯亾鍏枫€嶄腑鏌ョ湅浣跨敤鏁堟灉";2===n.quickTopType&&(t="鍗冲埢缃《鑱屼綅锛岄個绾﹀尮閰嶇墰浜烘姇閫�,鍙湪BOSS鐩磋仒APP銆屾垜鐨勯亾鍏枫€嶄腑鏌ョ湅浣跨敤鏁堟灉"),Payment.success({article:"璐拱鎴愬姛",text:1===e.buyQuickTop?t:"鑱屼綅灏嗕簬瀹℃牳閫氳繃鍚庣疆椤躲€侀個绾﹀尮閰嶇墰浜烘姇閫掞紝鍙湪銆屾垜鐨勯亾鍏枫€嶄腑鏌ョ湅浣跨敤鏁堟灉",confirm:function(){e.success()}})},r=null,c=!1;i(e,n,s).done(function(i){var l="flex-dialog-wrap quick-top-wrap";2===n.quickTopType&&(l="flex-dialog-wrap quick-top-wrap blue-theme"),$.dialog({bind:!0,title:"",wrapClass:l,cancelText:"",confirmText:"",content:i,onOpen:function(i){function l(){var e=[];$(".extension-condition-list .selected").each(function(t,i){var n=$(".extension-condition-list .selected").eq(t);e.push(n.data("position"))}),e.length?($(".extension-condition-tip .tip").text("涓哄尮閰嶆洿澶氱墰浜猴紝宸插府鎮ㄦ墿灞曟嫑鑱樻潯浠�"),$(".extension-condition-list-container").removeClass("no-selected")):($(".extension-condition-tip .tip").text("涓哄尮閰嶆洿澶氱墰浜猴紝璇烽€夋嫨鎷撳睍鏉′欢"),$(".extension-condition-list-container").addClass("no-selected"));var i=[];$(".advanced-filter-condition .selected").each(function(e,t){var n=$(".advanced-filter-condition .selected").eq(e);i.push(n.data("filter"))}),v&&v.abort&&v.abort(),v=t.islimitBuy({encryptJobId:n&&n.encryptJobId,positions:e.join(","),filterTags:i.join(",")}).done(function(e){if(e&&0===e.code&&(1===e.zpData.status?$(".quick-footer .J_submit").addClass("btn-disabled").text("浜烘暟涓嶈冻"):$(".quick-footer .J_submit").removeClass("btn-disabled").text(g),e.zpData)){var t=e.zpData;$(".price-box .ruling").text(t.payAmount),$(".price-box .original").text(t.price+"鐩磋眴");var i=[];t.sortedTags&&t.sortedTags.forEach(function(e){var n=[];t[e]&&t[e].length&&(n=t[e]),i=i.concat(n)}),$(".advanced-filter-condition .filter-btn").each(function(e,t){var n=$(t);i.forEach(function(e){n.data("filter")==e.code&&(e.tagAvailable?n.removeClass("btn-disabled"):n.addClass("btn-disabled"))})})}})}var d=this,p=e.auditStatus||s.auditStatus;if(6===p||7===p){var u=!1,h=$(i).find(".J_process"),f=h.find(".process-num"),m=h.find(".process i");r=setInterval(function(){u||(u=!0,t.auditInfo(e.jobId).done(function(e){var t=e.zpData;if(0===e.code){if(3===t.auditStatus)return h.empty().html("褰撳墠鑱屼綅宸查€氳繃瀹℃牳"),void clearInterval(r);if(2===t.auditStatus)return h.empty().html("褰撳墠鑱屼綅鏈€氳繃瀹℃牳"),void clearInterval(r);if(8===t.auditStatus)return h.empty().html("鑱屼綅鏈€氳繃瀹℃牳锛岃淇敼鍚庨噸鏂版彁浜�"),void clearInterval(r);if(t.auditProgressRate>0)return f.html(t.auditProgressRate+"%"),void m.width(t.auditProgressRate+"%")}}).always(function(){u=!1}))},1200)}1===e.buyQuickTop&&o(i,n);var g=$(".quick-footer .J_submit").text();$(i).find(".recruit-extension-condition").hover(function(){$(i).find(".extension-condition-list-container").show(),$(i).find(".recruit-extension-condition").css({"margin-top":"0","padding-top":"20px"})},function(){$(i).find(".extension-condition-list-container").hide(),$(i).find(".recruit-extension-condition").css({"margin-bottom":"0","padding-bottom":"0"})});var v=null;$(i).on("click",".extension-condition-list .extension-condition-item",function(){var e=$(".extension-condition-list-container .declare-number").text(),t=$(this).data("percent");$(this).hasClass("selected")?e-=t:e=Number(e)+Number(t),$(".extension-condition-list-container .declare-number").text(e),$(this).toggleClass("selected"),l()}),$(i).on("click",".advanced-filter-condition .filter-btn",function(){$(this).hasClass("btn-disabled")||($(this).siblings().removeClass("selected"),$(this).toggleClass("selected"),l())}),$(i).find(".preview-wrapper").hover(function(){$(i).find(".preview-container").show(),$(i).find(".preview-container .preview-content").animate({scrollTop:0},10),$(i).find(".preview-wrapper .preview-tip").css({"margin-bottom":"-20px","padding-bottom":"20px"})},function(){$(i).find(".preview-container").hide(),$(i).find(".preview-wrapper .preview-tip").css({"margin-bottom":"0","padding-bottom":"0"})}),$(i).find(".J_submit").hover(function(){$(this).parent().addClass("show")},function(){$(this).parent().removeClass("show")}).click(function(){if($(this).hasClass("btn-disabled"))return!1;var t={data:{encryptTargetId:e.jobId,Positions:"",userCouponId:"",source:e.source||"recommend_geek",tsItem:n.tsItem||"",filterTags:"",quickJobTopType:n.quickTopType},description:"璐拱绠€鍘嗙洿閫氬崱",amount:n.payAmount,itemId:"b6ed128ee1b8d2841HI~"},i=[];$(".extension-condition-list .selected").each(function(e,t){var n=$(".extension-condition-list .selected").eq(e);i.push(n.data("position"))}),t.data.Positions=i.join(",");var s=[];$(".advanced-filter-condition .selected").each(function(e,t){var i=$(".advanced-filter-condition .selected").eq(e);s.push(i.data("filter"))}),t.data.filterTags=s.join(","),2===e.buyQuickTop&&(t.data.appointment=1);var o={success:a,cancel:e.close,close:e.close};if(Payment.purchase(t,o),c=!0,d.close(),2===e.buyQuickTop)try{_T.sendEvent("preorder-job-pop")}catch(e){}}),$(i).on("click",".J_robot",function(){ChatBot.open()}).on("click",".J_char_sell",function(){CallMeDialog()})},onClose:function(){r&&clearInterval(r),e.close&&"function"==typeof e.close&&e.close(c)}})})};return{purchase:function(e){if(!e.jobId||0===e.buyQuickTop)return!1;if(e.showTitle=!!e.showTitle&&e.showTitle,e.success=e.success?e.success:function(){},e.close=e.close?e.close:function(){},e.buyQuickTop=e.buyQuickTop?e.buyQuickTop:1,e.order=e.order||{},autoClose=!1,e.source){var i={action:"job-upgrade-click",p:e.jobId,p2:e.source};Block.action(i)}e.order&&e.order.bzbParam?$.when(t.price(e.jobId,{source:e.fromSource,jobSource:e.jobSource}),t.bzbquery(e.order.bzbParam)).done(function(t,i){if(0===t[0].code){if(888888==i[0].code)return window.top.mediator.publish("CHECK_IS_ANOTHER_CITY",result.zpData.jobId),!1;0===i[0].code?a(e,t[0].zpData,i[0].zpData):a(e,t[0].zpData,{})}else $.toast({type:"error",content:t[0].message})}).fail(function(){$.toast({type:"error",content:"璇锋眰鏁版嵁閿欒"})}):t.price(e.jobId,{source:e.fromSource,jobSource:e.jobSource}).done(function(t){var i=t.zpData;0===t.code?a(e,i,{}):$.toast({type:"error",content:t.message})}).fail(function(){$.toast({type:"error",content:"璇锋眰鏁版嵁閿欒"})})},getCanBuyQuickTop:function(e){var t={};return $.ajax({url:"/wapi/zpboss/h5/job/canbuyquicktop.json",type:"GET",data:{jobId:e},async:!1,success:function(e){e=e}}),t}}}(),Hunter={addInfoContainer:function(e,t,i){var n=$(".hunter-position-info").html();t.after('<div class="position-info">'+n+"</div>"),e.remove(),i.find(".position-info").each(function(){var e=$(this);0==e.find(".link-delete").length&&e.append('<a href="javascript:;" class="link-delete">鍒犻櫎</a>')}),3==i.find(".position-info").length&&i.find(".link-add").remove(),DropDown.init(t.next(".position-info"))},deleteInfoContainer:function(e,t,i){t.remove(),1==i.find(".position-info").length?(0==i.find(".position-info").find(".link-add").length&&i.find(".position-info .link-delete").before('<a href="javascript:;" class="link-add">娣诲姞</a>'),i.find(".position-info .link-delete").remove()):0==i.find(".position-info").last().find(".link-add").length&&i.find(".position-info").last().find(".link-delete").before('<a href="javascript:;" class="link-add">娣诲姞</a>')},selectJob:function(e){var t=e.find(".dropdown-select input").eq(0),i=e.find(".dropdown-select input").eq(1);e.find(".dropdown-menu").show(),e.parents(".form-row").siblings().find(".dropdown-menu-open").removeClass("dropdown-menu-open"),e.find(".text span").each(function(){$(this).hasClass("active")||($(this).click(function(n){n.stopPropagation(),t.val($(this).text()),i.val($(this).attr("data-val")),e.find(".dropdown-menu").hide()}),$(this).addClass("active"))}),$(document).on("click",function(t){$(t.target).hasClass("hunter-jobsort")||$(t.target).parents().hasClass("hunter-jobsort")||e.find(".dropdown-menu").hide()})},showPop:function(){var e=$(".pop-hunter-application").html();$.dialog({title:"鐢宠浼佷笟鍐呮祴璧勬牸",content:e,closeText:!1,confirmText:"纭畾",cancelText:"鍙栨秷",preKa:"",wrapClass:"layer-hunter-application",lock:!0,onOpen:function(e){DropDown.init(e),e.find(".positon-content").on("click",".link-add",function(){Hunter.addInfoContainer($(this),$(this).parents(".position-info"),e)}),e.find(".positon-content").on("click",".link-delete",function(){Hunter.deleteInfoContainer($(this),$(this).parents(".position-info"),e)}),e.find(".positon-content").on("click",".hunter-jobsort",function(){Hunter.selectJob($(this))})},onConfirm:function(e){var t=e.find("form"),i=t.attr("action"),n=t.serialize(),s=!0;e.find(".error-tip").remove(),t.find("input:hidden").each(function(){if(""==$(this).val())return s=!1,$(this).parents(".c").after('<span class="error-tip">'+$(this).attr("data-blank")+"</span>"),!1});try{_T.sendEvent("hunter_application_submit_"+window.parent._PAGE.uid)}catch(e){}s&&(s=!1,$.ajax({url:i,type:"POST",data:n,dataType:"JSON",success:function(t){if(t.rescode){e.remove(),$.dialog({title:"",confirmText:!1,cancelText:!1,wrapClass:"layer-application-success",content:'<div class="content">鎰熻阿鎮ㄧ敵璇锋垜浠殑鍐呮祴璧勬牸</div><div class="text-gray">鑻ョ敵璇锋垚鍔燂紝鍚庣画浼氭湁宸ヤ綔浜哄憳涓庢偍鐢佃瘽鑱旂郴</div>'});try{_T.sendEvent("hunter_application_success_"+window.parent._PAGE.uid)}catch(e){}}else $.toast({type:"error",content:t.resmsg});s=!0},error:function(){s=!0}}))}})}};$(function(){$(".btn-applicate").on("click",function(){Hunter.showPop()})});var Block=function(){function e(e,t){var i=e,n=$.confirm({content:t,title:!1,closeIcon:!0,cancelButton:!!i.cancelText&&i.cancelText,confirmButton:i.confirmText||"纭畾",confirmButtonClass:"fr",columnClass:"pop-block "+i.style,onOpen:function(){i.ka&&this.$confirmButton.attr("ka",i.ka),i.vka&&__conversion(i.vka),i.open&&i.open(this)},confirm:function(){if(i.next&&i.next(this.$content),!i.next&&i.confirm&&i.confirm(),0==i.autoClose)return!1},cancel:function(e){i.cancel&&e&&i.cancel()},onClose:function(e){i.close&&i.close()}});return $(document).on("_BEFORE_UNLOAD",function(){n.close()}),n}function t(t){var i=t,n=t.content||o({title:i.title,description:i.description});i.style="pop-block-alert",e(i,n)}function i(t,i){if(i.dpGray&&i.blockPageData)return window.top.BlockSence.include(i.blockPageData,t),!1;var n,s={},a=function(e,t){var n=(i.isEdit,"鍙戝竷");e.text("浠樿垂"+n+"鑱屼綅锛氾骏"+t)},r=function(){if("vip"==$(".hot-list-tab .checked").attr("data-cls"))return s.vip.type="vip",s.vip;var e=$("input[name=ordinary]").filter(":checked"),t=e.attr("data-type"),i=e.attr("data-index");return selected=s[t][i],selected.type=t,selected.activityType=s.activityType,selected.activityEndDate=s.activityEndDate,selected.ba=s.ba,selected},d=function(e){var t=function(e){return"<i>"+("0"+e).substr(-2,2).split("").join("</i><i>")+"</i>"};if(s.activityType&&s.activityEndDate){var i=s.activityEndDate;n=new Clocking(i,1e3),n.interval(function(i){var n="";n=i.day>0?'<span class="prom-text">璺濈粨鏉�</span>'+t(i.day)+"&nbsp;澶�":'<span class="prom-text">璺濈粨鏉熻繕鍓�</span>'+t(i.hour)+"锛�"+t(i.minute)+"锛�"+t(i.second),e.find(".hot-promotion").html(n)})}},p={open:function(e){var t=e.$content;if(t.on("change","input[name='ordinary']",function(){var i=$(this).attr("data-type"),n=$(this).attr("data-index"),o=s[i][n];a(e.$confirmButton,o.pay),t.find("."+i+"-view").text(o.view),t.find("."+i+"-employ").text(o.employ)}),t.on("click",".hot-list-tab li",function(){$(".hot-list-tab .checked").removeClass("checked"),$(this).addClass("checked"),t.find(".block-storm").removeClass("combination-ord").removeClass("combination-vip").addClass("combination-"+$(this).attr("data-cls")),"ord"==$(this).attr("data-cls")?(e.$confirmButton.removeClass("btn-vip-rose"),t.find("input[name=ordinary]").filter(":checked").trigger("change")):e.$confirmButton.addClass("btn-vip-rose").text("寮€閫歏IP甯愬彿")}),$(".hot-list-tab li.checked").length?$(".hot-list-tab li.checked").trigger("click"):t.find("input[name=ordinary]").filter(":checked").trigger("change"),e.$btnc.on("click",".trial a",function(){var t=s.experience;t.type="experience",i.confirm(t),e.close(),__conversion("block_sendjob_purchase_trial")}),s.experience){e.$btnc.append(Utemplate('<p class="trial">鎮ㄦ湁涓€娆″厤璐逛綋楠屾満浼氾紝鍙厤璐硅瘯鐢ㄧ伀鐖嗚亴浣嶆櫘閫氱増<%this.expiredays%>澶╋紝<a href="javascript:">鐐瑰嚮鍏嶈垂浣跨敤</a></p>',s.experience))}d(t)},next:function(){var e=r();i.confirm&&i.confirm(e)}};i.canBuyVip?function(){$.when(u({sf:i.sf||"",vipPriceId:i.vipPriceId}),h(t)).then(function(t,n){s=n,s.vip={ba:t.detailPage.ba,vipPriceId:i.vipPriceId,pay:t.detailPage.currentPriceDesc.replace(/[^\d.]/g,"")};var a=$.extend(p,i);e(a,o({title:a.title,description:a.description})+l.storm(t.detailPage,n))})}():function(){var n=function(t){s=t;var n=$.extend(p,i);e(n,o({title:n.title,description:n.description})+c.storm(t))};t.combos?n(t.combos):h(t).then(function(e){n(e)})}()}function n(t,i){var n,s=function(t){n=t;var s=i,r=o({title:s.title,description:s.description})+a(t);s.next=function(){var e=$("input[name=super]").filter(":checked").attr("data-index"),t=n.prices[e];s.confirm(t)},s.open=function(e){var s=e.$content,o=function(e,t){var n=(i.isEdit,"鍙戝竷");e.text("浠樿垂"+n+"鑱屼綅锛氾骏"+t)},a=(i.isEdit,"浠樿垂鍙戝竷鑱屼綅");if(e.$confirmButton.text(a+"锛氾骏"+t.pay),e.$btnc.on("click",".trial a",function(){var t=n.experience;t.type="experience",i.confirm(t),e.close(),__conversion("block_sendjob_purchase_trial")}),s.on("change","input[name='super']",function(){var t=$(this).attr("data-index"),i=n.prices[t];o(e.$confirmButton,i.pay);var a="鍙繚鎸佽亴浣嶅湪绾�"+i.expiredays+"澶╋紝鏈熼棿姣忔棩鏌ョ湅璇︽儏"+i.view+"锛屽紑鑱婁笂闄愪负"+i.employ+"銆�";s.find(".hot-intro").text(a)}),s.find("input[name=super]").filter(":checked").trigger("change"),n.experience){e.$btnc.append(Utemplate('<p class="trial">浣犳湁涓€娆″厤璐逛綋楠屾満浼氾紝鍙互鍏嶈垂璇曠敤鐏垎鑱屼綅闄愬埗鐗� <%this.expiredays%> 澶╋紝<a ka="block_sendjob_purchase_super_trial" href="javascript:">鐐瑰嚮鍏嶈垂浣跨敤</a></p>',n.experience))}},e(s,r)};t.combos?s(t.combos):p(t).then(function(e){s(e)}),console.log(arguments)}function s(t,i){var n=i,s=n.content||r(t);n.style="pop-block-upgrade",n.open=function(e){e.$confirmButton.text("浠樿垂鍗囩骇鑱屼綅锛�"+t.currentPriceDesc)},e(n,s)}var o=function(e){return Utemplate(' <div class="block-intro"><img src="/v2/web/boss/images/icon-lock-24.png"><dl><dt><%this.title%></dt><dd class="gray"><%this.description%></dd></dl><div class="clear"></div></div>',e)},a=function(e){return-1==e.view?e.view="鏃犱笂闄�":e.view=e.view,Utemplate('<div class="hot-list hot-list"><p class="hot-intro">鍙繚鎸佽亴浣嶅湪绾�<%this.description%>锛屾湡闂存瘡鏃ユ煡鐪嬭鎯�<%this.view%>锛屽紑鑱婁笂闄愪负<%this.employ%>銆�</p><ul class="ordinary"><%for(var i=0;i<this.prices.length;i++){%><li><label class="radio"><input data-index="<%i%>" type="radio" <%if(i == 0){%>checked<%}%> name="super" value="<%i%>"><span>鏅€氱増锛�<%this.prices[i].description%><%if(this.prices[i].discount){%><em class="discount"><%this.prices[i].discount%></em><%}%><em class="pay">锟�<%this.prices[i].pay%>/鑱屼綅</em></span></label></li><%}%></ul></div>',e)},r=function(e){return e.hlShortDesc.name=function(){var t=e.hlShortDesc,i=t.name;return t.highlightList&&t.highlightList.length&&$.each(t.highlightList,function(e,t){var n=i.substr(t.startIndex,t.endIndex);i=i.replace(n,"<b>"+n+"</b>")}),i}(),Utemplate('<div class="super-upgrade-panel"><div  class="super-upgrade-description"><span class="icon-lock"></span><div class="description"><h4><%this.title%>鏅€氱増锛�<%this.animationTitle%></h4><p><%this.shortDesc.name%></p><p><%this.hlShortDesc.name%></p></div></div><dl class="super-upgrade-list"><dt>鐣呰亰鐗�<span class="icon-upgrade">鍗囩骇</span></dt><%for(var i=0;i<this.descList.length;i++){%><dd><%this.descList[i]%><i class="icon-check"></i></dd><%}%><dd><b>鍗囩骇鎵€闇€浠锋牸锛�</b><span class="bean-number"><%this.currentPriceDesc%></span><span class="upgrade-discount">闄愭椂鎶樻墸</span><span class="annotation"><%this.upgradeDesc%></span></dd></dl><p class="notice">*浠ヤ笂浠锋牸鍧囦负鍗曚釜鑱屼綅浠锋牸锛屼笉鍚屽煄甯備笉鍚岃亴绫讳环鏍兼湁鎵€娉㈠姩</p></div>',e)},c={vip:function(e){var t={pay:e.currentPriceDesc,list:e.lineList};return Utemplate('<table class="vip-grid"><thead><tr><th>璐﹀彿鏉冪泭</th><th style="width: 90px;">璁よ瘉璐﹀彿</th><th style="width: 70px;">VIP璐﹀彿</th></tr></thead><tbody><%for (var i=0;i<this.list.length;i++){%><tr><td><div class="cut-off"><%this.list[i].itemDesc%><i class="gray"><%this.list[i].itemDescHint%></i></div></td><td class="gray"><%this.list[i].curDesc%></td><td class="primrose"><%this.list[i].totalDesc%></td></tr><%}%></tbody></table><div class="vip-counter"><p class="fl">鏉冪泭鎬讳环鍊�<i>闄愭椂鎶樻墸</i></p><p class="fr primrose">楼<%this.pay%></p></div>',t)},storm:function(e){return Utemplate('<%if(this.activityType){%><div class="hot-promotion"></div><%}%><div class="hot-list"><p class="hot-intro ordinary">鐏垎鑱屼綅鏅€氱増锛屾瘡鏃ユ煡鐪嬭鎯�<span class="ordinary-view"><%this.ordinary[0].view%></span>锛屽紑鑱�<span class="ordinary-employ"><%this.ordinary[0].employ%></span></p><ul class="ordinary"><%for(var i=0;i<this.ordinary.length;i++){%><li><label class="radio"><input data-index="<%i%>" data-type="ordinary" type="radio" <%if(i == 0){%>checked<%}%> name="ordinary" value="0"><span>鏅€氱増锛�<%this.ordinary[i].description%><%if(this.ordinary[i].discount){%><em class="discount"><%this.ordinary[i].discount%></em><%}%><em class="pay">锟�<%this.ordinary[i].pay%>/鑱屼綅</em></span></label></li><%}%></ul><%if(this.carefree.length){%><p class="hot-intro ordinary" style="padding-top: 9px;">鐏垎鑱屼綅鐣呰亰鐗堬紝姣忔棩鏌ョ湅璇︽儏<span class="carefree-view"><%this.carefree[0].view%></span>锛屽紑鑱�<span class="carefree-employ"><%this.carefree[0].employ%></span></p><ul class="ordinary"><%for(var j=0;j<this.carefree.length;j++){%><li><label class="radio"><input data-index="<%j%>" type="radio" data-type="carefree" name="ordinary" value="0"><span>鐣呰亰鐗堬紝<%this.carefree[j].description%><%if(this.carefree[j].discount){%><em class="discount"><%this.carefree[j].discount%></em><%}%><em class="pay">锟�<%this.carefree[j].pay%>/鑱屼綅</em></span></label></li><%}%></ul><%}%>',e)}},l={vip:function(e){return'<div class="vip-ordinary-grid">'+c.vip(e)+"</div>"},storm:function(e,t){return'<div class="block-storm combination-vip"><div class="hot-list-tab"><ul><li data-cls="vip" class="checked">寮€閫歏IP</li><li data-cls="ord">鍗曠嫭鍙戝竷</li></ul></div><div class="vip-wrap">'+c.vip(e)+'</div><div class="ordinary-wrap">'+c.storm(t)+"</div></div>"}},d=function(e){var e=e;return $.isArray(e)?$.each(e,function(t,i){-1==i.view?e[t].view="鏃犱笂闄�":e[t].view=i.view+"浜�",-1==i.employ?e[t].employ="鏃犱笂闄�":e[t].employ=i.employ+"浜�"}):(-1==e.view?e.view="鏃犱笂闄�":e.view=e.view+"浜�",-1==e.employ?e.employ="鏃犱笂闄�":e.employ=e.employ+"浜�"),e},p=function(e){var t=$.Deferred();return $.get("/bossweb/job/superprice.json",e).success(function(e){1==e.rescode&&(e.prices=d(e.prices),e.experience&&(e.experience=d(e.experience)),t.resolve(e))}),t},u=function(e){var t=$.Deferred();return $.get("/bossweb/job/vipaccountprice.json",e).success(function(e){1==e.rescode&&t.resolve(e)}),t},h=function(e){var t=$.Deferred();return e.combos?t.resolve(e.combos):$.get("/bossweb/job/price.json",e).success(function(e){if(1==e.rescode){var i={};i.ordinary=d(e.ordinary),i.carefree=d(e.carefree),e.experience&&(i.experience=d(e.experience)),i.activityType=e.activityType,i.activityEndDate=e.activityEndDate,t.resolve(i)}}),t},f=function(t,i){u(t).then(function(n){var s=i,a=o({title:s.title||"鍙戝竷鏅€氳亴浣嶄釜鏁板凡杈句笂闄�",description:s.description})+l.vip(n.detailPage);s.style="pop-vip",s.cancelText="鎴戝啀鎯虫兂",s.confirmText="寮€閫歏IP甯愬彿",s.next=function(){i.confirm({ba:n.detailPage.ba,vipPriceId:t.vipPriceId,pay:n.detailPage.currentPriceDesc.replace(/[^\d.]/g,"")})},e(s,a)})},m=function(e){var t=e;return e&&"[object Object]"!==Object.prototype.toString.call(e)&&(t=JSON.parse(decodeURIComponent(e))),t};return{confirm:t,purchase:i,super:n,upgrade:s,vip:f,action:function(e,t){var t=t||{},i=$.extend(e,t);$.ajax({method:"post",url:"/wapi/zpCommon/actionLog/common.json",data:{ba:JSON.stringify(i)},cache:!1,success:function(e){},error:function(){}})},formatBA:m}}(),Upgrade=function(){var e=function(e,t){window.top.Purchase.position("/boss/block/pay.json",{priceId:t.priceId,action:4,hotJobType:0,business:t.business||"",targetId:t.targetId,targetType:t.targetType},{item:t,
    success:e.success,confirm:function(){}})},t=function(t,i){if(!0===i.dpGray||"true"===i.dpGray)return window.top.BlockSence.include(t,i),!1;var n={cancelText:"鎴戝啀鎯虫兂",vka:"block_upgradejob_purchase_hot",cancel:function(){},confirm:function(){i.ba&&Block.action(Block.formatBA(i.ba),{p4:4,p5:i.priceId,action:"user-block-biz-button"}),e({success:function(){}},i)}};window.top.Block.upgrade(t,$.extend(n,i))};return{include:function(e,i){return!!e.upgrade&&(t(e,i),!0)},render:t}}(),DirectAccessCard=function(){var e={},t={prop:function(e){var t=$.Deferred();return $.get("/boss/item/quicktop/selposition.json?jobId="+e).success(function(e){1==e.rescode?t.resolve(e):$.toast({type:"error",content:e.resmsg})}),t}},i={notice:function(e){return Utemplate('<div class="free-notice-panel"><h4 class="subhead">淇濆瓨鎴愬姛</h4><p>鎮ㄤ娇鐢ㄥ厤璐规潈鐩婂彂甯冧簡涓€涓櫘閫氳亴浣嶏紝</p><p>璇ヨ亴浣嶄环鍊�50鍏�/鏈堬紝</p><p>鍓╀綑鍙厤璐瑰湪绾挎櫘閫氳亴浣嶆暟锛�<%this.unPubCount%>涓€�</p><i class="bead-close"></i></div>',e)},recommend:function(e,t){return(t.title?i.notice(t):Utemplate('<div class="brief-panel"><p class="icon-brief icon-success"></p><div class="brief-description"><p class="heading">淇濆瓨鎴愬姛</p><p class="position gray"><span class="position-name"><%this.positionName%></span><em class="vline"></em><%this.locationName%><em class="vline"></em><%this.lowSalary%>K-<%this.highSalary%>K</p></div><i class="bead-close"></i></div>',e))+Utemplate('<div class="introduce-panel"><img src="/v2/web/boss/images/prop/promotion.png"><p class="slogan">鎬ヨ仒鐩撮€氬崱闄愭椂涓撲韩</p><p class="intro-text">缃《鑱屼綅+閭€绾︽姇閫掞紝绔嬪嵆鎻愬崌鑱屼綅鎷涜仒鏁堢巼</p><p class="notice">鑱屼綅鍙戝竷24灏忔椂鍐呴檺鏃惰喘涔�</p><button class="btn">绔嬪嵆浣撻獙</button></div>',e)},card:function(e){return Utemplate('<div class="brief-panel"><p class="icon-brief icon-card"></p><div class="brief-description"><p class="heading">鎬ヨ仒鐩撮€氬崱璐拱</p><p class="position gray">缃《鑱屼綅+閭€绾︽姇閫掞紝绔嬪嵆鎻愬崌鑱屼綅鎷涜仒鏁堢巼</p></div><i class="card-discount"></i></div><div class="card-description"><p class="position gray">浣跨敤鑱屼綅锛�<span class="position-name"><%this.job.positionName%></span><em class="vline"></em><%this.job.locationName%><em class="vline"></em><%this.job.lowSalary%>K-<%this.job.highSalary%>K</p><p class="direct-notice">璐拱鍚庡嵆缃《璇ヨ亴浣嶏紝杩炵画缃《24灏忔椂</p><div class="position-category"><div class="position-tip">缃《鑱岀被<p class="fr gray">閫夋嫨鏇村鑱岀被缃《锛屾彁鍗囨嫑鑱樻晥鏋滐紝鍙韩棰濆鎶樻墸</p></div><%if(1 < this.positionList.length){%><dl><dt><%this.positionList[0].name%></dt><%for(var i=1; i<this.positionList.length;i++){%><dd><%this.positionList[i].name%></dd><%}%></dl><%}%></div></div>',e)}},n=function(){setTimeout(function(){window.top.location.href="/chat/im?mu=/bossweb/joblist.html"},1e3)},s=function(){var t=$(".direct-card-pop .position-category .selected"),i=t.length>0?t.length:0,n=Math.min(i,e.positionDiscount.length-1),s=e.positionDiscount[n],o=1e3*e.positionList[0].price;t.each(function(t,i){var t=$(this).index();o+=1e3*e.positionList[t].price});var a=Math.floor(o*(1-s)/1e3);return{amount:o/1e3,discount:s,save:t.length>0?Math.ceil(o/1e3-a):0,pay:a}},o=function(){var e=s(),t="閫夋嫨鏇村鑱岀被缃《锛屾彁鍗囨嫑鑱樻晥鏋滐紝鍙韩棰濆鎶樻墸";if(e.discount>0){t="鎷涜仒鏁堟灉鎻愬崌"+($(".direct-card-pop .position-category .selected").length+1)+"鍊� 棰濆绔嬪噺"+100*e.discount+"% ",$(".direct-card-pop .position-tip .gray").addClass("discount-tip").text(t)}else $(".direct-card-pop .discount-tip").removeClass("discount-tip").text(t);$(".direct-card-pop .dialog-footer  .prop-total").remove();var i='<p class="prop-total">锟�<em>'+e.pay;e.save>0&&(i+="</em><span>(宸茬渷"+e.save+")</span>"),i+="</p>",$(".direct-card-pop .dialog-footer .btns").append(i)},a=function(e){var t=s(),i=function(){Payment.success({article:"璐拱鎴愬姛",text:"鍗冲埢缃《鑱屼綅24灏忔椂锛岄個绾﹀尮閰嶇墰浜烘姇閫�,鍙湪BOSS鐩磋仒APP銆屾垜鐨勯亾鍏枫€嶄腑鏌ョ湅浣跨敤鏁堟灉",confirm:function(){n()}})},o={url:"/boss/item/pay/quicktop.json",data:e,description:"璐拱绠€鍘嗙洿閫氬崱",amount:t.pay,itemId:"b6ed128ee1b8d2841HI~",success:i,close:function(){},cancel:function(){}},a={success:i,cancel:n,close:n};Payment.purchase(o,a)},r=function(t){e=$.extend({},t);$.dialog({bind:!0,title:"",closeLayer:!1,content:i.card(t),wrapClass:"direct-card-pop",confirmText:"璐拱骞朵娇鐢�",cancelText:"鍙栨秷",onOpen:function(e){$(e).on("click",".position-category dd",function(){$(this).toggleClass("selected"),o()}),o()},onConfirm:function(){var t=[];$(".direct-card-pop .position-category .selected").each(function(i,n,s){var o=$(this).index();t.push(e.positionList[o].code)});var i={jobId:e.job.jobId,positionCode:t.join(","),userCouponId:""};a(i),this.close(),__conversion("ermergency_buy")},onClose:function(e){$(e).off("click")},onCancel:function(){n()}})},c=function(e,s){var s=s||{};$.dialog({bind:!0,title:"",closeLayer:!1,content:i.recommend(e,s),wrapClass:"direct-card-pop",confirmText:!1,cancelText:!1,onOpen:function(i){var s=this;$(i).on("click",".bead-close",function(){s.close(),n()}),$(i).on("click",".introduce-panel .btn",function(){s.close(),t.prop(e.jobId).then(function(e){r(e)}),__conversion("ermergency_edit")}),__conversion("ermergency_card")},onClose:function(e){$(e).off("click")}})};return{show:r,notice:function(e){$.dialog({bind:!0,title:"",closeLayer:!1,content:i.notice(e),wrapClass:"direct-card-pop",confirmText:!1,cancelText:!1,onOpen:function(e){var t=this;$(e).on("click",".bead-close",function(){t.close(),n()})},onClose:function(e){$(e).off("click")}})},recommend:c}}(),Payment=function(){function e(e){var e=$.extend({article:"",text:"",cancelText:!1,confirmText:"纭畾",close:function(){},confirm:function(){}},e);$.dialog({title:"",content:r.notice(e),confirmText:e.confirmText,cancelText:e.cancelText,closeText:!0,wrapClass:"commerical-success-notice pop-payment",lock:!0})}function t(e){var e=$.extend({article:"",text:"",confirmText:"纭畾",close:function(){},confirm:function(){}},e),t=function(){var t=this.$content,i=this;t.on("click",".success-confirm",function(){i.close(),e.confirm("confirm")}),t.on("click",".success-cancel",function(){i.close(),e.confirm("close")})};$.confirm({backgroundDismiss:!1,content:r.success(e),confirmButton:!1,cancelButton:!1,buttonsReverse:!0,closeIcon:!1,columnClass:"pop-payment",title:!1,onOpen:function(i){if(e.open&&"function"==typeof e.open&&e.open.call(this))return!0;t.call(this)},onClose:e.close,ononfirm:e.confirm})}function i(e,t,i){var n,s=!0,o={bzbParam:e.bzbParam};e.query&&(o=$.extend(o,e.query));var t=$.extend({success:function(){},fail:function(){}},t),r=function(i){s&&(n.close(),i.ptype=e.data.payType,t.success(i))},c=function(){$(".pop-payment .PaymentCheck").html('<i class="loader-gray-17"></i>姝ｅ湪鏌ヨ鏀粯缁撴灉锛岃绋嶅悗'),a.get.queryStatus(e,o).then(function(e){if(1!==e.zpData.state){$(".pop-payment .PaymentCheck").html('<span class="gray">鏈敮浠樻垚鍔燂紝璇锋偍鎵爜瀹屾垚鏀粯銆�</span><a class="PayCheckBtn" href="javascript:">閲嶆柊鏌ヨ</a>')}else 0===e.code&&1==e.zpData.state&&(s=!1,r(e))})},l=function(){a.get.queryStatus(e,o).then(function(e){0===e.code&&1!==e.zpData.state?s&&setTimeout(l,3e3):0===e.code?(s&&r(e),s=!1):$.toast({type:"error",content:e.message})})},d=function(){var e=this.$content;n=this,setTimeout(l,1500),e.on("click",".PayCheckBtn",c)},p=function(){s=!1,t.close&&t.close()},u=function(){};!function(e){$.confirm({content:e,confirmButton:!1,cancelButton:!1,buttonsReverse:!0,closeIcon:!1,columnClass:"pop-payment",title:!1,onOpen:d,onClose:p,confirm:u})}(i)}function n(e,t){var i,n,s=t.from||!1,o={success:function(){},cancel:function(){},fail:function(){}},c=$.extend(o,t),l=$.extend({recharge:!1},e),d=!0,p=!0,u=function(e,t){$(".pop-payment .qr-code-loading").css("display","inline-block"),a.post.purchase(e,t).then(function(i){var n=!!e.condition&&e.condition(i);return 0!=i.code||1!==i.zpData.status&&3!==i.zpData.status&&!e.recharge?($.toast({type:"error",content:i.message}),t.fail&&t.fail(),!1):n?e.success(i.zpData):4==e.data.payType&&1===i.zpData.status?(t.buy&&t.buy({pay:e.amount,orderId:i.zpData.orderId,orderNo:i.zpData.orderNo,balance:e.balance,payType:e.data.payType}),t.success(i.zpData)):(e.orderId=i.zpData.orderId,e.qrCode=i.zpData.qrUrl,e.orderNo=i.zpData.orderNo,e.data.payType,$(".mb-qr-pannel .qr-code img").attr("src",e.qrCode),setTimeout(m,3e3),t.buy&&t.buy({pay:e.amount,balance:e.balance,payType:e.data.payType,orderNo:i.orderNo}),$(".pop-payment .qr-code-loading").css("display","none"),void $(".prop-order-type p").removeClass("disabled"))},function(){})},h=function(e){$(".pop-payment .qr-code-loading").css("display","none"),$(".prop-order-type p").removeClass("disabled"),$(".mb-qr-pannel .qr-code img").attr("src",e)},f=function(e){n.close(),e.ptype=l.data.payType,c.success({bzbParam:l.bzbParam})},m=function(){i&&clearTimeout(i),a.get.queryStatus(l).then(function(e){if(e.zpData.expire||!1===e.zpData.expire&&e.zpData.expireRemain/1e3<5)return void $(".prop-order-type").addClass("timeout");0===e.code&&1!==e.zpData.state?d&&(i=setTimeout(m,3e3)):0===e.code?(d&&f(e),d=!1):$.toast({type:"error",content:e.message})})},g=function(i){var s=$(i),o=!1;n=this;var d=navigator.userAgent,h=["Android","iPhone","SymbianOS","Windows Phone","iPod"];$.each(h,function(e,t){d.indexOf(t)>-1&&(o=!0)});var f=o&&!l.recharge;if(f&&(s.addClass("mobile-pay"),s.find(".qr-query").html('璇烽€夋嫨浠樻鏂瑰紡<a href="javascript:;">鎴戝凡鏀粯</a>')),s.on("click",".prop-order-type .pay-type",function(){if($(this).hasClass("selected")||$(this).hasClass("disabled"))return!1;s.find(".prop-order-type .selected").addClass("disabled").removeClass("selected"),$(this).addClass("selected").addClass("disabled"),l.data.payType=$(this).attr("data-payType");var e={1:"鏀粯瀹�",2:"寰俊"};s.find(".qr-query").html("浣跨敤"+e[l.data.payType]+(f?"":"鎵爜")+'鏀粯<a href="javascript:;">鎴戝凡鏀粯</a>'),u(l,c);var t={action:2==l.data.payType?"click_wechat":"click_alipay",p:l.data.payType,p2:l.description,p3:l.amount/100,p4:l.balance/100,p5:l.cost/100};Block.action(t),f&&window.open("/mpa/html/payment/browser?bzbParam="+l.bzbParam+"&bzbChannel="+l.data.payType)}),s.on("click",".order-back",function(){if(!p){try{Block&&Block.action({action:"biz-block-hot-pCancelPop",p:l.jobId,p2:l.blockConfigId})}catch(e){}return void g(r.blockBackOrCloseDialog(l.recallDialog),"back")}var e=OrderStore.query(l.storeId);BlockSence.include(e.config.blockPageData,e.config.option),s.remove()}),s.on("click",".qr-query a",function(){s.find(".qr-query").html("姝ｅ湪鏌ヨ锛岃绋嶇瓑"),a.get.queryStatus(l).then(function(e){1!==e.zpData.state&&s.find(".qr-query").html("鏈敮浠樻垚鍔燂紝璇锋偍"+(f?"閲嶆柊閫夋嫨":"鎵爜")+'瀹屾垚鏀粯<a href="javascript:;">閲嶆柊鏌ヨ</a>')})}),s.on("click",".btn-block",function(){if($(this).hasClass("disabled"))return!1;l.data.payType=4,$(this).addClass("disabled"),u(l,c),n.close()}),s.on("click",".item-coupon-list span",function(){$(this).hasClass("selected")?$(this).removeClass("selected"):($(".item-coupon-list .selected").removeClass("selected"),$(this).addClass("selected"));var e=$(this).index(),t=l.userCouponList[e],i=$(this).parents("li").find(".discount-desc");$(this).hasClass("selected")?(l.coupon=t.offAmount,l.discountId=t.discountId,i.text(t.discountDesc),s.find(".coupon-selected").text("-"+l.coupon+"鐩磋眴").show()):(l.coupon=0,l.discountId="0",i.html("&nbsp;"),s.find(".coupon-selected").text(l.userCouponList.length+"寮犲彲鐢�"));var n=l.amount,o=100*l.coupon+l.totalOffAmount,a=l.amount-l.balance-o,r=n>o+l.balance?a:l.amount-o;l.pay=r,l.cost=a,l.cost<=0&&(l.data.payType=4),s.find(".pay-amount").text(l.pay/100+"鐩磋眴"),l.cost>0||l.recharge?(s.find(".prop-order-type").show(),s.find(".prop-buttons").hide()):(s.find(".prop-buttons").show(),s.find(".prop-order-type").hide())}),s.on("click",".coupon-left",function(){s.find(".item-coupon").toggleClass("unfold")}),s.on("click",".coupon-selected",function(){s.find(".item-coupon").toggleClass("unfold")}),$(s).on("click",".J_robot",function(){ChatBot.open()}).on("click",".J_call",function(){CallMeDialog({p2:3,p3:28})}),s.on("click",".bead-close",function(){if(!p){try{Block&&Block.action({action:"biz-block-hot-pCancelPop",p:l.jobId,p2:l.blockConfigId})}catch(e){}return void g(r.blockBackOrCloseDialog(l.recallDialog),"close")}n.close(),c.cancel&&c.cancel()}),(l.cost>0||l.recharge)&&!o){var m=l.lastBzbChannel||1;$('.pop-payment .pay-type[data-paytype="'+m+'"]').click()}var g=function(e,t){var i=l.recallDialog&&l.recallDialog.title,n=l.recallDialog&&l.recallDialog.buttonList;confirmText="",cancelText="",n.forEach(function(e){0===e.actionType?cancelText=e.text:11===e.actionType&&(confirmText=e.text)}),$.dialog({bind:!0,title:i,type:"warning",content:e,confirmText:confirmText,cancelText:cancelText,closeLayer:!1,inline:!0,wrapClass:"block-back-close-dialog flex-dialog-wrap",onCancel:function(e){try{Block&&Block.action({action:"biz-block-hot-pCancelOperate",p:l.jobId,p2:l.blockConfigId,p6:1})}catch(e){}p=!0,"back"===t?(s.find(".order-back").click(),e&&e.remove()):"close"===t&&(s.find(".bead-close").click(),e&&e.remove())},onConfirm:function(e){try{Block&&Block.action({action:"biz-block-hot-pCancelOperate",p:l.jobId,p2:l.blockConfigId,p6:2})}catch(e){}p=!0,e&&e.remove()}})};$(s).on("click",".J_code_refresh",function(){Payment.purchase(e,t)})},v=function(){d=!1},b=function(){},y=function(e){$.dialog({bind:!0,title:"",content:e,closeText:!1,confirmText:"",cancelText:"",closeLayer:!1,inline:!0,wrapClass:"pop-payment flex-dialog-wrap",onOpen:g,onClose:v,confirm:b})};if($(".pop-payment").length){if(!$(".pop-payment").find(".timeout").length)return!1;$(".pop-payment").remove()}if(l.recharge)y(r.recharge(l));else{var w=l.prePayUrl||"";a.post.order(l,w,function(e){if(1011===e.code&&(window.location.href="/logout/"),1===e.experience)return void c.success(e);try{p=!e.recallDialog}catch(e){}var t={storeId:c.storeId,discountId:e.discountId,itemIcon:e.bizIcon,balance:e.remainAmount,amount:e.amount,totalOffAmount:e.totalOffAmount-e.offAmount,needAmount:e.needAmount+e.offAmount,pay:e.needAmount,cost:e.amount-e.remainAmount-e.totalOffAmount,note:e.bizNote||"",coupon:e.offAmount,bzbParam:e.bzbParam,lastBzbChannel:e.lastBzbChannel,discountList:e.discountList,userCouponList:e.userCouponList,discountParam:e.discountParam,description:e.bizName?e.bizName:l.description,noBack:c.noBack,orderId:e.orderIdStr,qrCode:e.bossQrUrl,autoRenewal:e.autoRenewal,autoRenewalAgreementUrl:e.autoRenewalAgreementUrl,recallDialog:e.recallDialog,jobId:e.jobId,blockConfigId:e.blockConfigId,expireTime:e.expireTime};l=$.extend(l,t),l.cost<1&&(l.data.payType=4),0!=l.amount&&0!=l.needAmount||l.itemId?GeekDirectCard.getStyleType()&&s?(l.isStore=!0,y(r.newPurchase(l))):y(r.purchase(l)):c.success(l),e.bossQrUrl&&(h(e.bossQrUrl),setTimeout(m,3e3))})}}function s(e,t){var n={type:"wx",name:"寰俊鏀粯",pay:e.pay,qrCode:e.qrCode};i(e,t,r.pay(n)),__conversion("payment_wx")}function o(e,t){var n={type:"zfb",name:"鏀粯瀹�",pay:e.pay,qrCode:e.qrCode};i(e,t,r.pay(n)),__conversion("payment_zfb")}var a={},r={},c="Free";return a.get={},a.post={},a.post.orderInfo=function(e,t){var i=$.Deferred();return $.post("/wapi/zpp/user/bzbOrderInfo",{bzbParam:e},function(e){0==e.code?i.resolve(e):$.toast({type:"error",content:e.message})}),i},a.get.coupon=function(e){var t=$.Deferred();return $.get("/wapi/zpp/user/bzbDiscountList",{bzbParam:e,pageSize:10},function(e){0==e.code?t.resolve(e):$.toast({type:"error",content:e.message})}),t},a.post.order=function(e,t,i){c="pending";var n="/wapi/zpitem/web/itemMall/preOrder/"+e.itemId;!e.data.priceId&&e.itemId||(n="/wapi/zpblock/order/preorder");var s=function(e){c="free",$.when(a.post.orderInfo(e),a.get.coupon(e)).then(function(t,n){t.userCouponList=n.zpData.discountList||[];var s=$.extend({},t.zpData,{bzbParam:e,userCouponList:n.zpData.discountList||[]});i(s)})},o=function(e){if("string"==typeof e&&(e=JSON.parse(e)),1011===e.code)return window.location.href="/user/login";0==e.code&&1==e.zpData.status?1===e.zpData.experience?i(e.zpData):s(e.zpData.bzbParam):$.toast({type:"error",content:e.message})};e.data.priceId?(e.data.bz=e.data.business,e.data.jid=e.data.jobId,$.post(n,e.data,o)):$.post(n,{paramsJson:encodeURIComponent(JSON.stringify(e.data))},o)},a.get.queryStatus=function(e,t){var i=$.Deferred();return $.ajax({method:"post",url:"/wapi/zpp/user/payOrderSync",data:{orderId:e.orderId},cache:!1,success:function(e){i.resolve(e)}}),i},a.post.purchase=function(e,t){var i=$.Deferred(),n="/wapi/zpp/user/bzbOrder",s={discountParam:e.discountParam,bzbParam:e.bzbParam,discountId:e.discountId,bzbChannel:e.data.payType};return e.recharge&&(n="/wapi/zpp/user/rechargeBean",s={amount:100*e.data.beanCount,payChannel:e.data.payType}),$.ajax({method:"post",url:n,data:s,cache:!1,success:function(e){if(0!=e.code)return $.toast({type:"error",content:e.message}),i.reject(e),t.fail();i.resolve(e)},error:function(){return t.fail()}}),i},r.pay=function(e){return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="/v2/web/boss/images/icon-shield.png" />瀹夊叏鏀粯</p><div class="mb-pay-info"><i class="icon-<%this.type%>"></i><%this.name%><i class="currency">锟�</i><i class="amount"><%this.pay / 100%></i></div><div class="qr-code"><img src="<%this.qrCode%>" /></div><div class="mb-payment-result PaymentCheck"><span class="gray">浣跨敤<%this.name%>鎵爜鏀粯</span><a class="PayCheckBtn" href="javascript:">鎴戝凡鏀粯</a></div></div>',e)},r.payOrder=function(e,t){var i='<a href="https://m.zhipin.com/H5/html/protocol/incrementProtocol.html" target="_blank">銆夿oss鐩磋仒澧炲€兼湇鍔″崗璁€�</a>';1==e.autoRenewal&&(i+='<a href="'+e.autoRenewalAgreementUrl+'" target="_blank">銆婅嚜鍔ㄧ画璐瑰崗璁€�</a>');var n="",s='<div class="prop-type-article">鐩磋眴浣欓涓嶈冻锛岃鎵爜鏀粯锛�</div> ';GeekDirectCard.getStyleType()&&e.isStore&&(s="");var o='<div class="bottom-detail"><p >*娌熼€氬尶鍚嶇墰浜烘秷鑰�1娆℃潈鐩婏紝鐑悳鐗涗汉鍥犲彈娆㈣繋绋嬪害楂橈紝闇€娑堣€楀娆℃潈鐩�</p><p >*婵€娲诲悗30澶╁唴鏈夋晥锛屽埌鏈熷悗鍓╀綑鏉冪泭浣滃簾</p><p >*閬撳叿浠锋牸鍙兘鏍规嵁璧勬簮鎯呭喌銆佷紭鎯犵瓥鐣ョ瓑鍥犵礌鍙戠敓鍙樺姩</p><p >*1鐩磋眴绛変簬1鍏冧汉姘戝竵锛岀洿璞嗗厖鍊煎彲寮€鍏峰彂绁�</p><p >*璇ヤ骇鍝佸睘浜庢暟瀛楀寲鍟嗗搧锛岃喘涔板悗灏嗗鑷村叾浠峰€煎ぇ骞呰船鎹燂紝涓嶆敮鎸佷竷澶╂棤鐞嗙敱閫€娆�</p><p >*閬撳叿缁勫悎浣跨敤鏇撮珮鏁堬紝濂楅璐拱浠锋牸鏇翠紭锛岃璇細<a href="tel:400-065-5799">400-065-5799</a>鎴�<a href="javascript:;" class="J_call">璇烽攢鍞【闂仈绯绘垜</a>锛涗篃鍙洿鎺ュ挩璇�<a href="javascript:;" class="J_robot">鍦ㄧ嚎瀹㈡湇</a></p></div>',a='<div class="mask-hide"></div>';if(t||(o="",a=""),e.qrCode){var r='<div class="prop-order-type" <%if(this.cost <= 0){%>style="display: none;"<%}%>> '+s+'<div class="mb-qr-pannel"><p class="qr-code"><span class="qr-code-loading"><i class="icon-toast-loading"></i></span><img style="width:130px;height:130px;" src="//static.zhipin.com/v2/web/boss/images/qrcode-pm.jpg" /><span class="qr-code-supernatant"><a href="javascript:;" class="iboss-erweimashuaxin J_code_refresh"></a></span></p><div class="canuse-text-content"><p>浜岀淮鐮佹湁鏁堟湡鑷�</p><p><%this.expireTime%></p></div><div class="out-time-content"><p>浜岀淮鐮佸凡澶辨晥</p><p>鐐瑰嚮閲嶆柊鑾峰彇</p></div><p class="qr-query"><i class="icon-pay-wx"></i><i class="icon-pay-zfb"></i>鍧囧彲鎵爜鏀粯<a href="javascript:;">鎴戝凡鏀粯</a></p></div></div><div class="prop-buttons" <%if(0 < this.cost){%>style="display: none;"<%}%>><button class="btn btn-block">绔嬪嵆鏀粯</button></div>';1==e.autoRenewal&&(r='<div class="prop-order-type"> <div class="mb-qr-pannel"><p class="qr-code"><span class="qr-code-loading"><i class="icon-toast-loading"></i></span><img style="width:130px;height:130px;" src="//static.zhipin.com/v2/web/boss/images/qrcode-pm.jpg" /><span class="qr-code-supernatant"><a href="javascript:;" class="iboss-erweimashuaxin J_code_refresh"></a></span></p><div class="canuse-text-content"><p>浜岀淮鐮佹湁鏁堟湡鑷�</p><p><%this.expireTime%></p></div><div class="out-time-content"><p>浜岀淮鐮佸凡澶辨晥</p><p>鐐瑰嚮閲嶆柊鑾峰彇</p></div><p class="qr-query"><i class="icon-pay-wx"></i><i class="icon-pay-zfb"></i>鍧囧彲鎵爜鏀粯<a href="javascript:;">鎴戝凡鏀粯</a></p></div></div>'),n='<div class="prop-order">'+r+'<div class="payment-agreement">浠樿垂鍗宠〃绀哄悓鎰�'+i+"</div></div>"+o+"</div>"+a+"</div>"}else{var r='<div class="prop-order-type" <%if(this.cost <= 0){%>style="display: none;"<%}%>> <div class="prop-type-article">鐩磋眴浣欓涓嶈冻锛岃閫夋嫨鏀粯鏂瑰紡锛�</div> <p class="fl pay-type payment-wx" data-type="wx" data-payType="2"><i class="icon-wx"></i>寰俊鏀粯</p> <p class="fr pay-type payment-zfb" data-type="zfb" data-payType="1"><i class="icon-zfb"></i>鏀粯瀹�</p> <div class="mb-qr-pannel"><p class="qr-code"><span class="qr-code-loading"><i class="icon-toast-loading"></i></span><img src="//static.zhipin.com/v2/web/boss/images/qrcode-pm.jpg" /></p><p class="qr-query">浣跨敤鏀粯瀹濇壂鐮佹敮浠�<a href="javascript:;">鎴戝凡鏀粯</a></p></div></div><div class="prop-buttons" <%if(0 < this.cost){%>style="display: none;"<%}%>><button class="btn btn-block">绔嬪嵆鏀粯</button></div>';n='<div class="prop-order">'+r+'<div class="payment-agreement">浠樿垂鍗宠〃绀哄悓鎰�'+i+"</div></div>"+o+"</div>"+a+"</div>"}return Utemplate(n,e)},r.purchase=function(e){var t='<div class="mb-payment"><p class="mb-payment-title <%if(this.storeId && !this.noBack){%>payment-order-back<%}%> "><%if(this.storeId && !this.noBack){%><i class="iboss-right order-back"></i><%}%><img src="/v2/web/boss/images/icon-shield.png" /><%if(this.article){%><%this.article%><%}else{%>纭鏀粯<%}%><i class="bead-close"></i></p><dl class="order-detail"><dt><div class="item-img"><img src="<%this.itemIcon%>"></div><div class="item-prop"><p class="item-name"><%this.description%></p><%if(this.note) {%><p class="item-count"><%this.note%></p><%}%></div><span><%this.amount/100%>鐩磋眴</span></dt><%if (0 < this.discountList.length) {%><dd class="item-coupon"><p>浼樻儬</p><ul class="pay-active-list"><%for(var j=0;j<this.discountList.length;j++){%><li><i class="tag-desc"><%this.discountList[j].discountTag%></i><%if(this.discountList[j].discountType == 1){%><span class="amount-desc coupon-selected"><%this.discountList[j].discountAmountDesc%></span><%}else{%><span class="amount-desc"><%this.discountList[j].discountAmountDesc%></span><%}%><p class="discount-desc"><%this.discountList[j].discountDesc%></p><%if(this.discountList[j].discountType == 1){%><div class="item-coupon-list"><%for(var i=0;i<this.userCouponList.length;i++){%><span <%if(i==0){%>class="selected"<%}%> data-id="<%this.userCouponList[i].discountId%>" <%if(this.userCouponList[i].selected){%>class="selected"<%}%>>鍑�<%this.userCouponList[i].offAmount%>鐩磋眴</span><%}%></div><%}%></li><%}%></ul></dd><%}%><dd>鐩磋眴浣欓<span class="fr"><%this.balance/100%>鐩磋眴</span></dd><dd>杩橀渶鏀粯<span class="fr pay-amount"><%this.pay/100%>鐩磋眴</span></dd></dl>'+r.payOrder(e);return Utemplate(t,e)},r.newPurchase=function(e){var t='<div class="mb-payment new-mb-payment"><p class="mb-payment-title <%if(this.storeId && !this.noBack){%>payment-order-back<%}%> "><%if(this.storeId && !this.noBack){%><i class="iboss-right order-back"></i><%}%><%if(this.article){%><%this.article%><%}else{%>鎼滅储鐣呰亰鍗�<%}%><i class="bead-close icon-bead-close"></i></p><div class="content-detail-overflow"><dl class="order-detail"><div class="logol before"></div><div class="logol after"></div><dt><div class="item-img"><img src="<%this.itemIcon%>"></div><div class="item-prop"><p class="item-name"><%this.description%></p></div><%if(this.note) {%><span><%this.note%></span><%}%></dt><dd class="need-pay-line"><span class="need-pay">杩橀渶鏀粯</span><span class="fr pay-amount"><%this.pay/100%>鐩磋眴</span></dd><dd><span class="need-pay">鍘熶环</span><span class="fr money"><%this.amount/100%>鐩磋眴</span></dd><%if (0 < this.discountList.length) {%><dd class="item-coupon"><ul class="pay-active-list"><%for(var j=0;j<this.discountList.length;j++){%><li><%if(this.discountList[j].discountType == 1){%><span class="amount-desc coupon-selected"><%this.discountList[j].discountAmountDesc%></span><%}else{%><span class="amount-desc"><%this.discountList[j].discountAmountDesc%></span><%}%><p class="discount-desc"><%this.discountList[j].discountDesc%></p><%if(this.discountList[j].discountType == 1){%><div class="item-coupon-list"><%for(var i=0;i<this.userCouponList.length;i++){%><span <%if(i==0){%>class="selected"<%}%> data-id="<%this.userCouponList[i].discountId%>" <%if(this.userCouponList[i].selected){%>class="selected"<%}%>>鍑�<%this.userCouponList[i].offAmount%></span><%}%></div><%}%></li><%}%><li>鐩磋眴浣欓<span class="fr"><%this.balance/100%>鐩磋眴</span></li></ul></dd><%}%></dl>'+r.payOrder(e,1);return Utemplate(t,e)},r.recharge=function(e){return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="/v2/web/boss/images/icon-shield.png" />纭鏀粯<i class="bead-close"></i></p><dl class="order-detail"><dt><div class="item-img"><img src="/v2/web/boss/images/prop/icon-bean.png"></div><div class="item-prop"><p class="item-name"><%this.description%></p></div><span><%this.amount/100%>鐩磋眴</span></dt><dd>鏀粯閲戦<span class="fr pay-amount">锟�<%this.pay/100%></span></dd></dl><div class="prop-order"><div class="prop-order-type"> <div class="prop-type-article">璇烽€夋嫨鏀粯鏂瑰紡锛�</div> <p class="fl pay-type payment-wx" data-type="wx" data-payType="2"><i class="icon-wx"></i>寰俊鏀粯</p> <p class="fr pay-type payment-zfb" data-type="zfb" data-payType="1"><i class="icon-zfb"></i>鏀粯瀹�</p> <div class="mb-qr-pannel"><p class="qr-code"><span class="qr-code-loading"><i class="icon-toast-loading"></i></span><img src="//static.zhipin.com/v2/web/boss/images/qrcode-pm.jpg" /></p><p class="qr-query">浣跨敤鏀粯瀹濇壂鐮佹敮浠�<a href="javascript:;">鎴戝凡鏀粯</a></p></div></div><div class="payment-agreement">浠樿垂鍗宠〃绀哄悓鎰�<a href="https://m.zhipin.com/H5/html/protocol/incrementProtocol.html" target="_blank">銆夿oss鐩磋仒澧炲€兼湇鍔″崗璁€�</a></div><p class="pay-state">1鐩磋眴绛変簬1鍏冧汉姘戝竵锛岀洿璞嗗厖鍊煎彲寮€鍏峰彂绁�</p></div></div>',e)},r.success=function(e){return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="/v2/web/boss/images/icon-shield.png" />瀹夊叏鏀粯</p><div class="pay-info-text"><img src="/v2/web/boss/images/layer/succ.png" /><p class="article"><%this.article%></p><div class="text gray"><%this.text%></div><p><%if(this.cancelText){%><a href="javascript:" class="success-cancel btn"><%this.cancelText%></a><%}%><a href="javascript:" class="btn-primary success-confirm btn"><%this.confirmText%></a></p></div></div>',e)},r.notice=function(e){return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="/v2/web/boss/images/icon-shield.png" />瀹夊叏鏀粯</p><div class="pay-info-text"><img src="/v2/web/boss/images/layer/succ.png" /><p class="article"><%this.article%></p><div class="text gray"><%this.text%></div></p></div></div>',e)},r.blockBackOrCloseDialog=function(e){return Utemplate('<div class="content"><p class="title"><%this.subTitle%></p><%for(var i=0;i<this.contentList.length;i++){%><div class="item-list"><image class="icon" src="<%this.contentList[i].iconUrl%>"/><p class="text"><%this.contentList[i].text%></p></div><%}%></div>',e)},{wx:s,zfb:o,notice:e,success:t,purchase:n,balance:a.get.balance}}(),Purchase=function(){function e(e,t,i){Payment.success({article:e||"璐拱鎴愬姛",text:t||"",confirm:function(){i.confirm&&i.confirm()},close:function(){i.close&&i.close()}})}function t(t,i,n){"-1"==n.item.view?n.item.view="涓嶉檺":n.item.view=(n.item.view+"").replace("浜�","")+"浜�";var s=n.action?n.action:"鍙戝竷",o={ordinary:{1:"鐏垎鑱屼綅鏅€氱増"+s+"鎴愬姛锛佸彲淇濇寔鑱屼綅鍦ㄧ嚎<%this.description%>锛屾湡闂存瘡鏃ユ煡鐪嬬墰浜轰笂闄�<%this.view%>锛屽紑鑱婁笂闄�<%this.employ%>銆�",2:"",3:"鐏垎鑱屼綅鏅€氱増"+n.action+"鎴愬姛锛佸彲淇濇寔鑱屼綅鍦ㄧ嚎<%this.description%>锛屾湡闂存瘡鏃ユ煡鐪嬬墰浜轰笂闄�<%this.view%>锛屽紑鑱婁笂闄�<%this.employ%>銆�",4:"宸叉垚鍔熷崌绾ц嚦鐏垎鑱屼綅鐣呰亰鐗堬紒褰撳墠鍓╀綑鏈夋晥鏈�<%this.restDays%>澶╋紝鏈熼棿姣忔棩鏌ョ湅鐗涗汉<%this.view%>锛屽紑鑱�<%this.employ%>浜恒€�"},carefree:{1:"鐏垎鑱屼綅鐣呰亰鐗堝彂甯冩垚鍔燂紒鍙繚鎸佽亴浣嶅湪绾�<%this.description%>锛屾湡闂存瘡鏃ユ煡鐪嬬墰浜�<%this.view%>锛屽紑鑱婄墰浜�<%this.employ%>銆�",2:"",3:"鐏垎鑱屼綅鐣呰亰鐗�"+n.action+"鎴愬姛锛佸彲淇濇寔鑱屼綅鍦ㄧ嚎<%this.description%>锛屾湡闂存瘡鏃ユ煡鐪嬬墰浜�<%this.view%>锛屽紑鑱婄墰浜�<%this.employ%>銆�",4:"宸叉垚鍔熷崌绾ц嚦鐏垎鑱屼綅鐣呰亰鐗堬紒褰撳墠鍓╀綑鏈夋晥鏈�<%this.restDays%>澶╋紝鏈熼棿姣忔棩鏌ョ湅鐗涗汉<%this.view%>锛屽紑鑱�<%this.employ%>浜恒€�"},experience:{1:"鐏垎鑱屼綅鏅€氱増鍙戝竷鎴愬姛锛佽鑱屼綅鍙厤璐瑰湪绾�<%this.expiredays%>澶╋紝涓洪伩鍏嶅奖鍝嶆嫑鑱橈紝璇峰強鏃跺欢闀挎嫑鑱樻椂闀裤€�",2:"鐏垎鑱屼綅鏅€氱増鍙戝竷鎴愬姛锛佽鑱屼綅鍙厤璐瑰湪绾�<%this.expiredays%>澶╋紝涓洪伩鍏嶅奖鍝嶆嫑鑱橈紝璇峰強鏃跺欢闀挎嫑鑱樻椂闀裤€�",3:"鐏垎鑱屼綅鏅€氱増鍙戝竷鎴愬姛锛佽鑱屼綅鍙厤璐瑰湪绾�<%this.expiredays%>澶╋紝涓洪伩鍏嶅奖鍝嶆嫑鑱橈紝璇峰強鏃跺欢闀挎嫑鑱樻椂闀裤€�",4:"鐏垎鑱屼綅鏅€氱増鍙戝竷鎴愬姛锛佽鑱屼綅鍙厤璐瑰湪绾�<%this.expiredays%>澶╋紝涓洪伩鍏嶅奖鍝嶆嫑鑱橈紝璇峰強鏃跺欢闀挎嫑鑱樻椂闀裤€�",5:"鐏垎鑱屼綅鏅€氱増鍙戝竷鎴愬姛锛佽鑱屼綅鍙厤璐瑰湪绾�<%this.expiredays%>澶╋紝涓洪伩鍏嶅奖鍝嶆嫑鑱橈紝璇峰強鏃跺欢闀挎嫑鑱樻椂闀裤€�"}},a={ordinary:{1:"鐏垎鑱屼綅-鏅€氱増",2:"",3:"鐏垎鑱屼綅-鏅€氱増",4:"鐏垎鑱屼綅-鏅€氱増"},carefree:{1:"鐏垎鑱屼綅-鐣呰亰鐗�",2:"",3:"鐏垎鑱屼綅-鐣呰亰鐗�",4:"鐏垎鑱屼綅-鐣呰亰鐗�"},experience:{1:"鐏垎鑱屼綅",2:"",3:"",4:"",5:"鐏垎鑱屼綅"}},r={0:{1:"block_sendjob_purchase_hot_",2:"block_extendjob_purchase_hot_",3:"block_openjob_purchase_hot_",4:"block_upgradejob_purchase_hot_"},1:{1:"block_sendjob_purchase_super_",2:"block_extendjob_purchase_super_",3:"block_openjob_purchase_super_",4:"block_upgradejob_purchase_super_"}};try{var c=r[i.hotJobType][i.action]+i.priceId;_T.sendEvent(c)}catch(e){}var s=n.item.type||"ordinary",l=Utemplate(o[s][i.action],n.item),d=a[s][i.action],p=n.action?n.action+"鎴愬姛":"鍙戝竷鎴愬姛";(n.item.combos&&n.item.combos.activityType||n.item.activityType)&&(l+='<ul class="vip-promotion-2018-notice"><li>1.娲诲姩鎴鏃堕棿2019骞�1鏈�1鏃�,瓒呭嚭娲诲姩鏃堕棿鑼冨洿锛岃喘涔扮殑鍟嗗搧涓嶅啀浜彈娲诲姩鎶樻墸</li><li>2.鏈浼樻儬娲诲姩浠呴拡瀵归儴鍒嗙敤鎴�,鏈€缁堣В閲婃潈褰払OSS鐩磋仒鎵€鏈�</li><li>3.娲诲姩鏈熼棿璐拱鐨勫晢鍝佸師鍒欎笂鏃犳硶鐢宠閫€娆�,濡傚洜骞冲彴鍘熷洜瀵艰嚧鎮ㄦ棤娉曚娇鐢ㄨ处鍙风殑璧犻€佹椂闀胯鑱旂郴瀹㈡湇</li></ul>');var u=function(t){e(p,l,n),"function"==typeof n.success&&n.success(t)},h={url:t,data:i,description:d,amount:n.item.pay,success:u},f={success:function(e){var t={1:"bean",2:"wx",3:"zfb"};i.hotJobType&&i.action&&e.ptype&&window.top.__conversion(r[i.hotJobType][i.action]+t[e.ptype]+"_"+i.priceId),u(e)}};Payment.purchase(h,f)}return{vip:function(e,t){var i=t||{},n=function(){$.toast({type:"success",content:"鎮ㄥ凡鎴愬姛璐拱VIP璐﹀彿锛屽彲鍦╒IP鏉冪泭椤甸潰鏌ョ湅浣跨敤鏄庣粏"}),i.success&&i.success()},s={url:"/boss/item/pay/vipaccount.json",data:e,description:"璐拱閬撳叿锛氥€孷IP璐﹀彿銆�- 1涓湀",amount:parseInt(e.amount,10),success:n},o={success:n};Payment.purchase(s,o)},position:t,commercial:function(t,i){var n=11==i.item.business?"鏅€氳亴浣�":"鐏垎鑱屼綅",s="";i.item&&i.item.categoryList&&i.item.categoryList.filter(function(e){return e.name&&e.name.indexOf("閬撳叿璐拱鎶樻墸")>-1}).length&&(s="锛圴IP閬撳叿涓撲韩浠风洰鍓嶅彧鏀寔6.12浠ヤ笂鐗堟湰鍜岀綉椤电増浣跨敤锛屾殏涓嶆敮鎸乮OS锛�");var o={1:"鍏嶈垂璇曠敤鐏垎鑱屼綅",2:n+"-<%this.priceName%>",3:"鍗囩骇VIP璐﹀彿",4:"璐拱"+i.item.title,5:"鍗囩骇VIP璐﹀彿",6:n+"-<%this.priceName%>",7:"",8:"",9:"鍏嶈垂璇曠敤鐏垎鑱屼綅",10:n+"-<%this.priceName%>",11:"鍗囩骇VIP璐﹀彿",12:"璐拱<%this.title%>",16:"鍗囩骇VIP璐﹀彿"},a={1:"鐏垎鑱屼綅鍙戝竷鎴愬姛锛佽鑱屼綅鍙�<%this.title%>锛屼负閬垮厤褰卞搷鎷涜仒锛岃鍙婃椂寤堕暱鎷涜仒鏃堕暱銆�",2:n+"<%this.priceName%>鍙戝竷鎴愬姛锛佸彲淇濇寔鑱屼綅鍦ㄧ嚎涓€涓湀锛屾湡闂村彲<%this.descList[1].bottomDesc%>鐗涗汉<%this.descList[1].count%><%this.descList[1].unitDesc%>锛�<%this.descList[0].bottomDesc%><%this.descList[0].count%><%this.descList[0].unitDesc%>銆�",3:"鎮ㄥ凡鎴愬姛璐拱VIP璐﹀彿锛屽彲鍦╒IP鏉冪泭椤甸潰鏌ョ湅浣跨敤鏄庣粏"+s,4:"鎮ㄥ凡鎴愬姛璐拱銆�<%this.title%>銆嶏紝<%if(this.business != 16){%><%this.inDate%>鍐咃紝<%}%>涓诲姩娌熼€氫汉鏁�<%this.chat%>锛岃禒閫佷富鍔ㄦ煡鐪嬩汉鏁�<%this.view%>銆�",5:"鎮ㄥ凡鎴愬姛璐拱VIP璐﹀彿锛屽彲鍦╒IP鏉冪泭椤甸潰鏌ョ湅浣跨敤鏄庣粏"+s,6:n+"<%this.priceName%>鍙戝竷鎴愬姛锛佸彲淇濇寔鑱屼綅鍦ㄧ嚎<%this.expireName%>锛屾湡闂村彲<%this.descList[1].bottomDesc%>鐗涗汉<%this.descList[1].count%><%this.descList[1].unitDesc%>锛�<%this.descList[0].bottomDesc%><%this.descList[0].count%><%this.descList[0].unitDesc%>銆�",7:"",8:"",9:"",10:n+"<%this.priceName%>鍙戝竷鎴愬姛锛佸彲淇濇寔鑱屼綅鍦ㄧ嚎<%this.expireName%>锛屾湡闂村彲<%this.descList[1].bottomDesc%>鐗涗汉<%this.descList[1].count%><%this.descList[1].unitDesc%>锛�<%this.descList[0].bottomDesc%><%this.descList[0].count%><%this.descList[0].unitDesc%>銆�",11:"鎮ㄥ凡鎴愬姛璐拱VIP璐﹀彿锛屽彲鍦╒IP鏉冪泭椤甸潰鏌ョ湅浣跨敤鏄庣粏"+s,12:"",16:"鎮ㄥ凡鎴愬姛璐拱VIP璐﹀彿锛屽彲鍦╒IP鏉冪泭椤甸潰鏌ョ湅浣跨敤鏄庣粏"+s};4==i.item.cardId&&(i.title=i.item.title,i.item.chat=i.item.chatDescList[0],i.item.inDate=i.item.chatDescList.length>2?i.item.chatDescList[1]:"",i.item.view="+"+2*parseInt(i.item.chat,10)+"娆�");var r=i.item?i.item:i,c=r.cardId,l=o[c]?Utemplate(o[c],r):"",d=9==c?function(e){return e.categoryList?e.categoryList.map(function(e){return e.bottomDesc+e.count+e.unitDesc}).join("锛�"):""}(r):a[c]?Utemplate(a[c],r):"",p=function(t){var n=function(){};if(i.success?n=i.success:i.confirm&&(n=i.confirm),1===t.experience)return e("鍏嶈垂璇曠敤鐏垎鑱屼綅",t.dialog.content,{confirm:n}),!0;if(t.bzbParam)return $.get("/wapi/zpblock/order/bzbquery",{bzbParam:t.bzbParam}).success(function(t){if(888888==t.code)return window.top.mediator.publish("CHECK_IS_ANOTHER_CITY",t.zpData.jobId),!1;e(t.zpData.dialog.title,t.zpData.dialog.content,{confirm:n})}),!0;var s="";3==c&&r.activityType&&(s='<ul class="vip-promotion-2018-notice"><li>鐗瑰埆娉ㄦ剰锛�</li><li>1. 娲诲姩鏈熼棿锛屾瘡涓敤鎴峰彧鑳借喘涔颁竴娆IP璐﹀彿锛屼笉鍙娆¤喘涔帮紱</li><li>2. 娲诲姩鏈熼棿璐拱鐨勫晢鍝佸師鍒欎笂鏃犳硶鐢宠閫€娆撅紝濡傚洜骞冲彴鍘熷洜瀵艰嚧鎮ㄦ棤娉曚娇鐢ㄨ处鍙风殑璧犻€佹椂闀胯鑱旂郴瀹㈡湇锛�</li></ul>'),2==c&&r.activityType&&(s='<ul class="vip-promotion-2018-notice"><li>鐗瑰埆娉ㄦ剰锛�</li><li>1. 娲诲姩鎴鏃堕棿1鏈�1鏃�,瓒呭嚭娲诲姩鏃堕棿鑼冨洿锛岃喘涔扮殑鍟嗗搧涓嶅啀浜彈娲诲姩鎶樻墸锛�</li><li>2. 鏈浼樻儬娲诲姩浠呴拡瀵归儴鍒嗙敤鎴�,鏈€缁堣В閲婃潈褰払OSS鐩磋仒鎵€鏈夛紱</li><li>3. 娲诲姩鏈熼棿璐拱鐨勫晢鍝佸師鍒欎笂鏃犳硶鐢宠閫€娆惧鍥犲钩鍙板師鍥犲鑷存偍鏃犳硶浣跨敤璐﹀彿鐨勮禒閫佹椂闀胯鑱旂郴瀹㈡湇锛�</li></ul>'),e(l,d+s,{confirm:n})},u={url:"/boss/block/pay.json",data:t,tid:r.p||"",description:l,amount:parseInt(r.beanCount,10),success:p};i.item.article&&(u.article=i.item.article);var h=OrderStore.push({blockPageData:i.blockPageData,option:i}),f={storeId:h.id,buy:function(e){var t={action:"confirm-payment",p:"",p2:r.beanCount,p3:e.balance,p4:e.pay,p5:e.pay};Block.action(t)},success:p};Payment.purchase(u,f)}}}(),Recharge=function(){function e(e){var t={recharge:!0,
    url:e.url||"/boss/item/rechargebean.json",amount:100*e.amount,pay:100*e.pay,description:"鐩磋眴鍏呭€硷細"+e.amount+"涓�",data:{beanCount:e.amount}},i={success:function(t){e.save?Payment.success({article:"鐩磋眴鍏呭€兼垚鍔�",text:"鏈鍏呭€间负鎮ㄨ妭鐪佷簡"+e.save+"鍏�"}):Payment.success({article:"鐩磋眴鍏呭€兼垚鍔�",text:"浣犲彲浠ュ湪 BOSS鐩磋仒 APP銆岄挶鍖呫€嶄腑鏌ョ湅鍏呭€兼槑缁�"}),"function"==e.callback&&e.callback({pay:e.pay,save:e.save,amount:e.amount})}};Payment.purchase(t,i)}function t(t){var i=function(e){var e=$(".recharge-beans-rebate .selected").length?parseInt($(".recharge-beans-rebate .selected").attr("data-amount"),10):$(".recharge-beans-rebate .ipt").val();if($(".recharge-beans-rebate .order-info").remove(),e>0){$(".recharge-beans-rebate .btn-sure").removeClass("disabled");var t=o(e,n(e)),i='<div class="order-info">鏀粯閲戦<span class="order-amount">锟�'+t.pay+'</span><span class="gray">(宸插噺'+t.save+"鍏冿級</span></div>";$(i).insertBefore($(".recharge-beans-rebate .btns"))}else $(".recharge-beans-rebate .btn-sure").addClass("disabled")},n=function(e){var i=0;for(var n in t.discountInfo.rangeDiscount){e>=parseInt(n,10)&&(i=t.discountInfo.rangeDiscount[n])}return i},a=function(e){$(e).on("input",".ipt-amount",function(){var t=$(this).val().replace(/\D+/g,"");t.length&&(t=parseInt($(this).val(),10)),$(this).val(t),$(e).find(".recharge-rebate-panel .selected").removeClass("selected"),i()}),$(e).on("click",".recharge-rebate-panel li",function(){$(e).find(".recharge-rebate-panel .selected").removeClass("selected"),$(this).addClass("selected"),i()}),i()},r=function(i){if($(i).find(".btn-sure").hasClass("disabled"))return!1;var s=$(".recharge-beans-rebate .selected").length?parseInt($(".recharge-beans-rebate .selected").attr("data-amount"),10):$(".recharge-beans-rebate .ipt").val();e($.extend({url:t.url,callback:t.success,confirm:t.success},o(s,n(s)))),$(i).remove()};$.dialog({title:"鐩磋眴鍏呭€�",content:s.rebate(function(){return[100,200,300,500,1e3].map(function(e){return{amount:e,save:o(e,n(e)).save}})}()),confirmText:"纭畾鍏呭€�",cancelText:!1,wrapClass:"recharge-beans-rebate",onOpen:a,onConfirm:r})}function i(t){var i=t.discount?.9:1,n=function(e){var t=function(t){var t=parseInt(t,10),n=o(t,i);$(e).find(".order-save").text("-锟�"+n.save),$(e).find(".order-pay").text("锟�"+n.pay),t?$(e).find(".btn-sure").removeClass("disabled"):$(e).find(".btn-sure").addClass("disabled")};$(e).on("input",".ipt-amount",function(){var e=$(this).val().replace(/\D+/g,"");e.length&&(e=parseInt($(this).val(),10)),$(this).val(e),t(e)}),t(100)},a=function(n){if($(n).find(".btn-sure").hasClass("disabled"))return!1;var s=$(n).find(".ipt-amount").val();e($.extend({callback:t.success,url:t.url},o(s,i))),$(n).remove()};$.dialog({title:"鐩磋眴鍏呭€�",content:s.original(t),confirmText:"纭畾鍏呭€�",cancelText:!1,wrapClass:"recharge-beans-original",onOpen:n,onConfirm:a})}var n={get:{}};n.get.discount=function(){var e=$.Deferred();return $.get("/boss/item/recharge/discount/check.json",function(t){1==t.rescode?e.resolve(t):$.toast({type:"error",content:t.message})}),e};var s={rebate:function(e){return Utemplate('<p class="gray ios-off">ios鐢ㄦ埛鐙韩鍏呭€兼姌鎵ｏ紙浠呴檺缃戦〉鐗堬級</p><div><p class="pull-left">鐩磋眴鍏呭€�</p><div class="recharge-rebate-panel"><ul><%for(var i=0; i<this.list.length; i++){%><li ka="selected_amount_<%this.list[i].amount%>" <%if(this.list[i].amount==500){%> class="selected"<%}%> data-amount="<%this.list[i].amount%>"><p class="rebate-item"><%this.list[i].amount%>鐩磋眴<span class="rebate-off">鍑�<%this.list[i].save%>鍏�</span><span class="interval"></span></p></li><%}%></ul><input class="ipt ipt-amount" maxlength="4" placeholder="杈撳叆浠绘剰鐩磋眴鏁�"></div></div>',{list:e})},original:function(e){return Utemplate('<ul><li><span class="pull-left">鍏呭€肩洿璞嗕釜鏁�</span><p><input type="text" value="100" maxlength="4" class="ipt-amount"></p></li><%if(this.discount){%><li><span class="pull-left">iOS鐢ㄦ埛9鎶樹紭鎯�</span><p class="order-save"></p></li><%}%><li><span class="pull-left">閲戦</span><p  class="order-pay"></p></li><li><p class="ios-notice">鍥爄OS鏀跨瓥闄愬埗锛岀洿璞嗗湪iOS绔疺6.17浠ヤ笂鐗堟湰浠呭彲鐢ㄤ簬閬撳叿璐拱銆�<br>瀹夊崜鍙奝C绔笉鍙楀奖鍝嶃€�</p></li></ul>',e)}},o=function(e,t){if(!e)return{amount:0,save:0,pay:0};var i=100*e,n=Math.floor(i*t);return{amount:e,save:(i-n)/100,pay:n/100}};return function(e){n.get.discount().then(function(n){var s=$.extend(e||{},n);return n.discountInfo&&n.discountInfo.rangeDiscount&&!isEmpty(n.discountInfo.rangeDiscount)?t(s):i(s)})}}(),__conversion=__conversion||function(e){try{_T.sendEvent(e)}catch(e){}},Clock=function(){var e=(new Date).getTime(),t=0,i=function(e){return e-t};return{setMistiming:function(i){i.zpData-e>3e3&&(t=i.zpData-e)},pair:i}}(),Clocking=function(e,t,i){if(!this instanceof Clocking)return new Clocking(e,t,i);var n,s=i||{},o=this,a=function(){return s.pair?s.pair((new Date).getTime()):Clock.pair((new Date).getTime())},r=function(){var t=a(),i=Math.ceil((e-t)/1e3),n=Math.floor(i/86400),s=Math.floor(i/3600)-24*n,r=Math.floor(i/60)-24*n*60-60*s,c=Math.ceil(i)-24*n*60*60-60*s*60-60*r;return!(i>0)&&o.destroy(),{timing:i>0,day:Math.max(n,0),hour:s,minute:r,second:c}};this.format=function(e){var t=Math.floor(e/86400),i=Math.floor(e/3600)-24*t,n=Math.floor(e/60)-24*t*60-60*i,s=Math.ceil(e)-24*t*60*60-60*i*60-60*n;return{day:Math.max(t,0),hour:i,minute:n,second:s}},this.interval=function(e){var i=r();n=setInterval(function(){e(r())},t),e(i)},this.destroy=function(){clearInterval(n)}},CommercialGroup=function(){function e(e,t){$.dialog({bind:!0,title:"",content:e.content,confirmText:!1,cancelText:!1,wrapClass:"commercial-combination-wrap",inline:!0,onOpen:function(){o(this,e)},onClose:function(){}})}var t=function(e){if(!$.isArray(e.priceList))return e;var t=e.priceList.reverse(),i=t.find(function(e){return 4==e.showType});return e.priceList.reverse(),i||e.priceList[e.priceList.length-1]},i={top:function(e){return Utemplate('<div class="commercial-combination-top"><h3><%this.title%></h3><p class="gray"><%this.description%></p></div>',e)},footer:function(e){return Utemplate('<div class="commercial-combination-footer"><span class="btn btn-sure fr"><%this.text%></span><%if(this.cancelText){%><span class="btn btn-outline fr"><%this.cancelText%></span><%}%><p class="price"><%if(this.beanCount){%><span class="desc">寰呮敮浠�</span><span class="amount"><%this.beanCount%></span> <span class="unit">鐩磋眴</span><%if(this.discountDesc){%><span class="oprice"><%this.discountDesc%></span><%}%><%}else{%><span class="amount">鍏嶈垂</span><%}%></p></div>',{beanCount:t(e).beanCount,discountDesc:e.discountDesc,text:e.button?e.button.text:"绔嬪嵆璐拱",cancelText:e.cancelText,discountDesc:e.discountDesc})},group:function(e){if(e.cardList.length<2)return"";return Utemplate('<ul class="commercial-combination-group"><%for(var i=0;i<this.list.length;i++){%><li data-card="<%this.list[i].cardId%>" <%if(i==0){%>class="selected"<%}%>><%if(i==0){%><i class="icon-rec-tip"></i><%}%><h5><%this.list[i].title%></h5><p class="desc"><%this.list[i].subTitle%></p><p class="price"><%if(this.list[i].beanCount){%><%this.list[i].price%></p><%}else{%><span class="amount">鍏嶈垂</span><%}%><%if(this.showType == 4){%><i class="combination-priority"></i><%}%></li><%}%></ul>',{list:function(){return e.cardList.map(function(e){var t=e.priceList?e.priceList[0].beanCount+e.priceList[0].unitDesc+"璧�":e.beanCount+e.unitDesc;return{cardId:e.cardId,title:e.title,showType:e.showType,price:t,beanCount:e.priceList?e.priceList[0].beanCount:e.beanCount,subTitle:(e.subTitle||"").split("\n").join("<br>")}})}()})},trial:function(e){var t='<div class="commercial-panel trial-panel"><p class="subhead"><%this.headerList[0]%></p><table width="100%"><%for(var i=0; i<this.categoryList.length;i++){%><tr><td width="65%"><%this.categoryList[i].bottomDesc%></td><td><%this.categoryList[i].count%><%this.categoryList[i].unitDesc%></td></tr><%}%></table></div><div class="panel-desc-list">'+(e.bottomTipList||[]).map(function(e){return'<p class="panel-description">'+e.name+"</p>"}).join("")+"</div>";return Utemplate(t,e)},vip:function(e){return'<div class="commercial-combination-vip" data-card-id="3"><div class="combination-vip-table">'+i.vipItem(e)+'</div></div><div class="panel-desc-list">'+(e.bottomTipList||[]).map(function(e){return'<p class="panel-description">'+e.name+"</p>"}).join("")+"</div>"},flow:function(e){var t='<div class="commercial-chat-card" data-card-id="4"><ul><%for(var i=0;i<this.list.length; i++){%><li <%if(this.list[i].showType == 4){%>class="selected"<%}%>><%if(this.list[i].inDate){%><p class="item-price"><span class="fl"><span class="amount"><%this.list[i].beanCount%></span>鐩磋眴</span><span class="fr"><span class="amount" style="visibility: hidden;">0</span><em class="num"><%this.list[i].inDate%></em></span></p><%}else{%><p style="text-align: center;" class="item-price"><span class="amount"><%this.list[i].beanCount%></span>鐩磋眴</p><%}%><div class="item-desc"><p><span class="fl"><%this.list[i].viewDesc%></span><span class="fr"><em class="num"><%this.list[i].view%></em></span></p><p><span class="fl"><%this.list[i].chatDesc%></span><span class="fr"><em class="num"><%this.list[i].chat%></em></span></p></div></li><%}%></ul><div class="panel-desc-list">'+(e.bottomTipList||[]).map(function(e){return'<p class="panel-description">'+e.name+"</p>"}).join("")+"</div></div>",i=e.priceList.length-1,n=function(t){var n=[];return $.each(t,function(t,s){n.push({showType:0,viewDesc:16==e.business?"鏌ョ湅":"姣忔棩鏌ョ湅",chatDesc:16==e.business?"娌熼€�":"姣忔棩娌熼€�",chat:s.chatDescList[0],view:s.chatDescList[1],inDate:s.chatDescList.length>3?s.chatDescList[2]:"",beanCount:parseInt(s.chatDescList[s.chatDescList.length-1],10)}),4==s.showType&&(i=t)}),n}(e.priceList);return n[i].showType=4,Utemplate(t,{title:e.title,list:n,bottomDesc:e.bottomDesc})},position:function(e){var t=e.priceList.length-1,i=function(e){var i=[];return $.each(e,function(e,n){i.push({showType:n.showType,unitDesc:n.unitDesc,priceName:n.priceName,beanCount:n.beanCount,encryptPriceId:n.encryptPriceId,descList:n.descList.slice(0,2)}),4==n.showType&&(t=e)}),i}(e.priceList);return i[t].showType=4,Utemplate('<div class="commercial-combination-position" data-card-id="2"><ul><%for(var i=0; i<this.list.length; i++){%><li <%if(this.list[i].showType == 4){%>class="selected"<%}%>><div class="commercial-item"><b class="name"><%this.list[i].priceName%></b><p><span class="amount"><%this.list[i].beanCount%></span><%this.list[i].unitDesc%></p></div><div class="item-desc"><%for (var j=0;j<this.list[i].descList.length; j++){%><p><span class="fr"><b><%this.list[i].descList[j].count%></b><%this.list[i].descList[j].unitDesc%></span><span class="gray"><%this.list[i].descList[j].bottomDesc%></span></p><%}%></div></li><%}%></ul><div class="panel-desc-list"><%for (var k=0;k<this.bottomTipList.length; k++) {%><p class="panel-description"><%this.bottomTipList[k].name%> </p><%}%></div></div>',{list:i,bottomTipList:e.bottomTipList||[],bottomDesc:e.bottomDesc})},positionItem:function(e,t){return e.isMulti=t,Utemplate('<table><tr><%if (this.isMulti) {%><td class="t-title" width="auto">鐏垎鑱屼綅-<%this.priceName%></td><%}%><%for (var i=0; i<this.descList.length; i++){ %><td width="160"><%this.descList[i].count%><%this.descList[i].unitDesc%><br><%this.descList[i].bottomDesc%></td><%}%></tr></table>',e)},superPosition:function(e,t){var n='<div class="commercial-panel super-position-panel" data-card-id="6"><p class="subhead"><%this.title%></p><div class="vip-item">'+i.positionItem(e.priceList[0],t)+'</div><ul class="tap-option"><%for (var i=0; i<this.priceList.length; i++) {%><li class="commercial-item <%if(this.priceList[i].discountShowType == 1){%>discounts<%}%><%if(this.priceList[i].showType == 4){%> selected<%}%>"><%this.priceList[i].expireName%><span class="vip-price"><span class="vip-price-amount"><%this.priceList[i].beanCount%></span><%this.priceList[i].unitDesc%></span></li><%}%></ul><p class="panel-description"><%this.bottomDesc%>濡備紒涓氶渶鎵归噺閲囪喘锛岃鑱旂郴瀹㈡湇 400-065-5799 </p></div>';return e.title=t?"浠樿垂鍙戝竷鑱屼綅":e.title,Utemplate(n,e)},vipItem:function(e){return e.headerList||(e.headerList=["鏉冪泭绫诲瀷","褰撳墠鏉冪泭","VIP鏉冪泭"]),Utemplate('<table cellpadding="0" cellspacing="0" style="width:100%;"><thead><tr><td width="35%"><%this.headerList[0]%></td><td width="35%"><%this.headerList[1]%></td><td width="155"><%this.headerList[2]%></td></tr></thead><tbody><%for (var i=0; i<this.categoryList.length; i++) {%><tr><td><%this.categoryList[i].name%></td><td><%this.categoryList[i].currentRight%></td><td><%this.categoryList[i].vipRight%></td></tr><%}%></tbody></table>',e)},superVip:function(e){var t='<div class="commercial-combination-vip" data-card-id="3"><div class="combination-vip-table">'+i.vipItem(e)+'</div></div><div class="commercial-vip-group"><ul><%for(var i=0;i<this.priceList.length;i++){%><li <%if(this.priceList[i].showType == 4){%>class="selected"<%}%>><p class="vip-group-price"><span class="item-price"><em class="amount"><%this.priceList[i].beanCount%></em>鐩磋眴</span><span><em class="amount" style="visibility: hidden;width: 1px;overflow: hidden;">.</em><%this.priceList[i].averagePrice%></span></p><p class="vip-group-indate"><%this.priceList[i].expireName%></p></li><%}%></ul></div>'+(e.bottomTipList||[]).map(function(e){return'<p class="panel-description">'+e.name+"</p>"}).join("");return e.priceList.find(function(e){return 4==e.showType})||(e.priceList[e.priceList.length-1].showType=4),Utemplate(t,e)}},n={},s=function(){var e={},t=$(".commercial-combination-wrap"),i=t.find(".commercial-combination-group .selected"),s=i.length?n.cardList[i.index()]:n.cardList[0],o=s.priceList?s.priceList:s.vipCardList;if(o&&o.length){var a=t.find(".commerical-combination-detail .selected").index();e.combo=$.extend({},o[a]),e.combo.cardId=s.cardId,o[a].priceName?e.combo.title="鐏垎鑱屼綅-"+o[a].priceName:e.combo.title=s.title}else e.combo=s;return e.combo.targetType=s.targetType,e.card=s,e},o=function(e,i){var o=$(".commercial-combination-wrap"),r=function(e,t){e.beanCount?o.find(".commercial-combination-footer .price").html('<span class="desc">寰呮敮浠�</span><span class="amount">'+e.beanCount+'</span> <span class="unit">鐩磋眴</span>'):o.find(".commercial-combination-footer .price").html('<span class="amount">鍏嶈垂</span>'),t&&o.find(".btn-sure").text(t.button.text)},c=function(e,t){var i=t.priceList?t.priceList[0]:t,n=t.priceList?i.beanCount+i.unitDesc+"璧�":i.beanCount+i.unitDesc;i.beanCount?e.find(".price").html(n):e.find(".price").html('<span class="amount">鍏嶈垂</span>')};o.on("click",".commercial-combination-group li",function(){if(!$(this).hasClass("selected")){var e=o.find(".commercial-combination-group .selected"),i=n.cardList[$(this).index()],s=a(i);c($(this),t(i)),c(e,n.cardList[e.index()]),o.find(".commerical-combination-detail").html(s),e.removeClass("selected"),$(this).addClass("selected"),r(t(i),i)}}),o.on("click",".commercial-vip-group li,.commercial-combination-position li,.commercial-chat-card li",function(){if(!$(this).hasClass("selected")){var e=$(this).closest("ul"),t=o.find(".commercial-combination-group .selected"),i=t.length?n.cardList[t.index()]:n.cardList[0],s=i.priceList[$(this).index()];t.find(".price").html('<span class="amount">'+s.beanCount+'</span><span class="unit">'+s.unitDesc+"</span>"),e.find(".selected").removeClass("selected"),$(this).addClass("selected"),r(s)}}),o.on("click",".btn-sure",function(){var t=s();e.close(),i.confirm(t.card,t.combo)}),o.on("click",".btn-outline",function(){i.cancel(o),e.close()})},a=function(e){var t,s=n.cardList.length>1;return 1==e.cardId||9==e.cardId?t=i.trial(e):2==e.cardId||10==e.cardId?t=i.position(e):3==e.cardId||11==e.cardId?t=i.vip(e):4==e.cardId||12==e.cardId?t=i.flow(e):5==e.cardId||16==e.cardId?t=i.superVip(e):6==e.cardId&&(t=i.superPosition(e,s)),t};return{block:function(t,s,o){n=$.extend({},t);var r=i.top({title:t.shortDesc.name,description:t.hlShortDesc?t.hlShortDesc.name:""}),c='<div class="commerical-combination-content">'+r+i.group(n);c+='<div class="commerical-combination-detail">'+a(t.cardList[0])+"</div></div>",e({content:c+i.footer($.extend(t.cardList[0],{cancelText:o.cancelText})),confirm:function(e,t){if(s&&s(e,t),e.button&&e.button.url){var i=getQueryParams(e.button.url),n=Block.formatBA(i.ba);Block.action(n),t.ba=n}},cancel:function(){o.cancel&&o.cancel()}},t)}}}(),CommercialVip=function(){function e(e,t){$(e).on("click",".commercial-props-group li",function(){if(!$(this).hasClass("selected")){$(e).find(".commercial-props-group .selected").removeClass("selected"),$(this).addClass("selected"),o();var t=a();7==t.cardId?$(e).find(".item-description").html(n.key(t)):$(e).find(".item-description").html(n.vip(t))}}),$(e).find(".commercial-props-group li").eq(0).trigger("click"),$(e).on("click",".btn-sure",function(){var i=a();t.confirm(i,i),$(e).remove()})}function t(t,i){$.dialog({bind:!0,title:"",content:t.content,confirmText:!1,cancelText:!1,wrapClass:"commercial-props-wrap",inline:!1,onOpen:function(i){e(i,t)},onClose:function(){}})}function i(e){return'<div class="commercial-props-content">'+n.group(e)+'<div class="item-description">'+n.key(e[0])+"</div></div>"}var n={top:function(e){return Utemplate('<div class="commercial-group-top"><h3><%this.title%></h3><span class="gray"><%this.description%></span></div>',e)},footer:function(e){return Utemplate('<div class="commercial-footer"><span class="btn btn-sure fr"><%this.text%></span><%if(this.cancelText){%><span class="btn btn-outline fr"><%this.cancelText%></span><%}%><div class="commercial-props-account fr"><p class="price"><span class="amount"><%this.beanCount%></span> <span class="unit"><%this.unitDesc%></span></p><p class="discount-price"><%this.discountDesc%></p></div></div>',{beanCount:$.isArray(e.priceList)?e.priceList[e.priceList.length-1].beanCount:e.beanCount,discountDesc:e.discountDesc,text:"绔嬪嵆璐拱",cancelText:e.cancelText,unitDesc:e.unitDesc})},group:function(e){return Utemplate('<ul class="commercial-props-group"><%for(var i=0; i<this.list.length;i++){%><li data-card-id="<%this.list[i].cardId%>"><h5><%this.list[i].article%></h5><p class="desc"><%this.list[i].description%></p><p class="price"><%this.list[i].price%></p></li><%}%></ul>',{list:e.map(function(e){return 7==e.cardId?{cardId:e.cardId,article:"娌熼€氶挜鍖�",description:"闄愭矡閫�1浣嶇墰浜�",price:e.beanCount+"鐩磋眴/娆�"}:8==e.cardId?{cardId:e.cardId,article:"VIP璐﹀彿",description:"涓撲韩姣忔棩"+e.title.replace(/[^0-9]/gi,"")+"浜烘矡閫氭潈鐩婏紒",price:e.beanCount+"鐩磋眴/鏈�"}:e})})},vip:function(e){return Utemplate('<div class="vip-list"><table cellpadding="0" cellspacing="0"><thead><tr><td width="180">鏉冪泭绫诲瀷</td><td width="180">鍏嶈垂璐﹀彿鏉冪泭</td><td width="180">VIP涓撲韩鏉冪泭</td></tr></thead><tbody><%for (var i=0; i<this.categoryList.length; i++) {%><tr><td><%this.categoryList[i].name%></td><td><%this.categoryList[i].currentRight%></td><td><%this.categoryList[i].vipRight%></td></tr><%}%></tbody></table></div>',e)},key:function(){return'<div class="props-chat-key"><i class="icon-locked"></i><span>涓€閿В閿佸績浠墰浜猴紝娌熼€氱晠鑱婃棤闃昏В閿佸悗锛岃鐗涗汉闀挎湡娌熼€氭湁鏁�</span></div>'}},s={},o=function(){var e=$(".commercial-props-wrap .dialog-container"),t=a(),i=7==t.cardId?"鐩磋眴/娆�":"鐩磋眴/鏈�",n='<p class="price"><span class="amount">'+t.beanCount+'</span> <span class="unit">'+i+"</span></p>";e.find(".commercial-props-account").html(n)},a=function(){var e=$(".commercial-props-wrap .dialog-container"),t=e.find(".commercial-props-group .selected").attr("data-card-id");return s.cardList.find(function(e){return e.cardId==t})};return{block:function(e,o,a){if(s=e,e.cardList.length<2){var r=e.cardList[0];return r.article="浠婃棩娌熼€氫汉鏁板凡杈句笂闄�<span>璐拱娌熼€氶挜鍖欙紝瑙ｉ攣璇ョ墰浜�</span>",o(r,r),!1}t({content:n.top({title:e.shortDesc?e.shortDesc.name:"浠婃棩娌熼€氫汉鏁板凡杈句笂闄�",description:e.hlShortDesc?e.hlShortDesc.name:"璐拱娌熼€氶挜鍖欙紝鎴栧崌绾IP璐﹀彿"})+i(e.cardList)+n.footer($.extend(e.cardList[0],{cancelText:a.cancelText})),confirm:function(e,t){if(o&&o(e,t),e.button){var i=getQueryParams(e.button.url),n=Block.formatBA(i.ba);Block.action(n),t.ba=n}},cancel:function(){a.cancel&&a.cancel()}},e)}}}(),Commercial=function(){function e(e,t){var i,n=function(e){var i=t.cardList.filter(function(t){return t.cardId==e})[0];if(!i.priceList)return i;var n=$(".commercial-content:visible").find("input:checked").parents("tr").index();return i.priceList[n]},s=function(e){return e.find(".commercial-tab .selected").length?e.find(".commercial-tab .selected").attr("data-card-id"):t.cardList[0].cardId},o=function(e){var i=s(e),o=t.cardList.filter(function(e){return e.cardId==i})[0],a={discountDesc:n(i).discountDesc,beanCount:n(i).beanCount,confirmText:o.button.text};a.confirmText&&e.find(".commercial-footer .btn-sure").text(a.confirmText);var r="";void 0!=a.beanCount&&(r+='<p class="price">'+a.beanCount+" 鐩磋眴</p>"),a.discountDesc&&(r+='<p class="discount-price">'+a.discountDesc+"</p>"),e.find(".commercial-footer .combo-account").html(r)},a=function(e){e.find(".commercial-tab li").off("click").on("click",function(){var t=$(this).index(),i=e.find(".commercial-content").eq(t);e.find(".commercial-tab .selected").removeClass("selected"),$(this).addClass("selected"),e.find(".commercial-content").hide(),i.show(),o(e)}),e.find(".commercial-tab li").eq(0).trigger("click")},r=function(e){e.find(".commercial-content td").off("click").on("click",function(e){var t=$(this).parents("tr").find("label.radio");t.length&&!$.contains(this,e.target)&&t.trigger("click")})},c=function(i){var o=s(i),a=t.cardList.filter(function(e){return e.cardId==o})[0],r=n(o);r.cardId=o,r.title=a.title,r.targetType=card.targetType,e.confirm(a,r)},l=function(e){var n=function(e){return"<i>"+("0"+e).substr(-2,2).split("").join("</i><i>")+"</i>"},s=t.cardList.find(function(e){return e.activityEndDate});if(s){var o=s.activityEndDate;i=new Clocking(o,1e3),i.interval(function(t){var i="";i=t.day>0?'<span class="prom-text">璺濈粨鏉�</span>'+n(t.day)+"&nbsp;澶�":'<span class="prom-text">璺濈粨鏉熻繕鍓�</span>'+n(t.hour)+"锛�"+n(t.minute)+"锛�"+n(t.second),e.find(".vip-promotion").html(i)})}};$.dialog({bind:!0,title:"",content:e.content,confirmText:!1,cancelText:!1,wrapClass:"commercial-wrap",inline:!0,onOpen:function(t){var i=$(t),n=this;a(i),r(i),i.find(".btn-sure").off("click").on("click",function(){c(i),n.close()}),i.find(".btn-outline").off("click").on("click",function(){e.cancel(i),n.close()}),i.find("input[type=radio]").length&&i.find("input[type=radio]").off("change").on("change",function(){o(i)}),l(i)},onClose:function(){}})}var t={top:function(e){return Utemplate('<div class="commercial-top"><p class="title"><%this.title%></p><%if(this.description != ""){%><p class="description"><%this.description%></p><%}%></div>',e)},footer:function(e){return Utemplate('<div class="commercial-footer"><p class="fl">濡備紒涓氶渶瑕佹壒閲忛噰璐紝璇疯仈绯诲鏈� <span class="phone">400-065-5799</span></p><span class="btn btn-sure fr"><%this.text%></span><%if(this.cancelText){%><span class="btn btn-outline fr"><%this.cancelText%></span><%}%><div class="combo-account fr"><p class="price"><%this.beanCount%> 鐩磋眴</p><p class="discount-price"><%this.discountDesc%></p></div></div>',{beanCount:$.isArray(e.priceList)?e.priceList[e.priceList.length-1].beanCount:e.beanCount,discountDesc:e.discountDesc,text:e.button.text,cancelText:e.cancelText})},tab:function(e){return Utemplate('<ul class="commercial-tab"><%for(var i=0;i<this.list.length;i++){%><li data-card-id="<%this.list[i].cardId%>"><%this.list[i].title%></li><%}%></ul>',{list:e})},trial:function(e){return Utemplate('<div class="commercial-content trial-panel"><ul><%for(var i=0; i<this.categoryList.length; i++){%><li><p class=""><span class="num"><%this.categoryList[i].count%></span><%this.categoryList[i].unitDesc%></p><span class="gray"><%this.categoryList[i].bottomDesc%></span></li><%}%></ul><p class="gray"><%this.bottomDesc%></p></div>',e)},vip:function(e){return Utemplate('<div class="commercial-content vip-panel"><%if(this.activityType){%><div style="margin-bottom: -10px;" class="vip-promotion vip-promotion<%this.activityType%>"></div><%}%><table><thead><tr><td class="title">VIP鏉冪泭</td><td class="own">褰撳墠璐﹀彿</td><td class="vip">VIP璐﹀彿</td></tr></thead><tbody><%for (var i=0; i<this.categoryList.length; i++) {%><tr><td class="title"><%this.categoryList[i].name%></td><td class="own"><%this.categoryList[i].currentRight%></td><td class="vip"><%this.categoryList[i].vipRight%></td></tr><%}%></tbody></table><p class="gray"><%this.bottomDesc%></p></div>',e)},flow:function(e){return Utemplate('<div class="commercial-content flow-panel"><table><thead><td>姣忔棩娌熼€氭€婚噺浜烘暟</td><%if(this.inData){%><td class="tc">鏈夋晥鏈�</td><%}%><td class="tr">浠锋牸</td></thead><tbody><%for(var i=0; i<this.list.length; i++){%><tr><td><label class="radio"><input type="radio" name="flowCombo" value="0" checked="checked"><span><%this.list[i].chat%></span><%if(this.list[i].showType == 4){%><i class="icon-rec">鑽�</i><%}%></label></td><%if(this.list[i].inData){%><td class="tc"><%this.list[i].inData%></td><%}%><td class="tr"><%this.list[i].beanCount%></td></tr><%}%></tbody></table><p class="gray"><%this.bottomDesc%></p></div>',{inData:e.priceList[0].chatDescList.length>2,list:function(e){var t=[];return $.each(e,function(e,i){t.push({showType:i.showType,chat:i.chatDescList[0],inData:i.chatDescList.length>2?i.chatDescList[1]:"",beanCount:i.chatDescList.length>2?i.chatDescList[2]:i.chatDescList[1]})}),t}(e.priceList),bottomDesc:e.bottomDesc})},position:function(e){return Utemplate('<div class="commercial-content hot-panel"><table><tbody><%for(var i=0; i<this.list.length; i++){%><tr><td><label class="radio"><input type="radio" name="hotCombo" value="0" checked="checked"><span><%this.list[i].priceName%></span><%if(i==this.list.length-1){%><i class="icon-rec">鑽�</i><%}%></label></td><td class="tc"><%this.list[i].chat%></td><td class="tc"><%this.list[i].view%></td><td class="price"><%this.list[i].beanCount%>鐩磋眴锛忔湀</td></tr><%}%></tbody></table><p class="gray"><%this.bottomDesc%></p></div>',{list:function(e){var t=[];return $.each(e,function(e,i){t.push({priceName:i.priceName,beanCount:i.beanCount,chat:i.descList[0].count+i.descList[0].unitDesc+i.descList[0].bottomDesc,view:i.descList[1].count+i.descList[1].unitDesc+i.descList[1].bottomDesc})}),t}(e.priceList),bottomDesc:e.bottomDesc})}},i={vipPrice:function(e){var t=$.Deferred(),e=e||{sf:10};return $.get("/wapi/zpboss/h5/block/page/vip/price",e,function(e){0===e.code?t.resolve(e.zpData&&e.zpData.blockPageData):$.toast({type:"error",content:e.message||"鏈嶅姟閿欒"})}),t}},n=function(e){return 1==e.cardId?t.trial(e):2==e.cardId||10==e.cardId?t.position(e):3==e.cardId||11==e.cardId?t.vip(e):4==e.cardId?t.flow(e):void 0},s=function(e){var i=[],s=[];return e.length<2?n(e[0]):($.each(e,function(e,t){i.push({title:t.title,cardId:t.cardId}),s.push(n(t))}),t.tab(i)+'<div class="combo-group">'+s.join("")+"</div>")},o=function(i,n,o){var o=o||{};if(i.cardList.length<1)return!1;var a=i.cardList[0].cardId,r=i.cardList.find(function(e){return 7===e.cardId}),c=[1,2,3,4,5,6,9,10,11,12,16];if(i.cardList.length>1||c.indexOf(a)>-1||r)return r?CommercialVip.block(i,n,o):CommercialGroup.block(i,n,o),!0;e({content:t.top({title:i.shortDesc?i.shortDesc.name:"",description:i.hlShortDesc?i.hlShortDesc.name:""})+s(i.cardList)+t.footer($.extend(i.cardList[0],{cancelText:o.cancelText})),confirm:function(e,t){if(n&&n(e,t),e.button){var i=getQueryParams(e.button.url),s=Block.formatBA(i.ba);Block.action(s),t.ba=s}},cancel:function(){o.cancel&&o.cancel()}},i)},a=function(e,t){var n=!1;i.vipPrice(e).then(function(e){var i={success:function(){!n&&t&&"function"==typeof t&&(t(),n=!0),n||t||(window.top.mediator.publish("buyVipSuccess",{success:!0}),n=!0)}};if(window.top.BlockSence.include(e,i))return!1;o(e,function(e,i){var s=$.extend({isPurchase:!0,business:e.business,targetType:e.targetType},i);window.top.Purchase.commercial({priceId:s.encryptPriceId,targetId:e.encryptTargetId,business:s.business||"",targetType:s.targetType},{item:s,success:function(){!n&&t&&"function"==typeof t&&(t(),n=!0),n||t||(window.top.mediator.publish("buyVipSuccess",{success:!0}),n=!0)}})})})},r=function(){function e(e,t){window.top.Purchase.position("/boss/block/pay.json",{action:e.action,jobId:e.jobId,priceId:t.id,action:"experience"==t.type?5:3,hotJobType:0,targetId:e.jobId,targetType:e.targetType,payMode:e.payMode,business:e.business},{item:t,action:e.action?e.action:"寮€鍚�",success:function(){e.success(t.type)},confirm:function(){e.confirm&&e.confirm(t.type)}})}return function(t){var i={cityCode:t.cityCode,positionCode:t.positionCode,ptype:t.ptype,configId:t.configId,experienceId:t.experienceId,payMode:t.payMode};t.combos&&(i.combos=t.combos);var n=1==t.vipAccount&&t.vipPriceId,s=t.action?t.action:"寮€鍚�";n&&window.top.__conversion("position_hot_open_block_vip"),window.top.Block.purchase(i,{isEdit:!0,cancelText:"鎴戝啀鎯虫兂",title:function(){return n?"璇ヨ亴浣嶄负鐏垎鑱屼綅":"鎮ㄩ渶瑕佷粯璐�"+s+"鐏垎鑱屼綅"}(),description:function(){var e=2==t.vipAccount&&t.limitCount>-2?"鎮ㄧ殑 VIP 鏉冪泭鍙厤璐瑰彂甯� "+t.limitCount+" 涓伀鐖嗚亴浣嶏紝鐩墠宸茶揪涓婇檺锛屽彲浠樿垂鍗曠嫭"+s+"璇ヨ亴浣�":"鎮�"+s+"鐨勮亴浣嶅睘浜庣伀鐖嗚亴浣嶏紝鍥犱负Boss绔炰簤婵€鐑堬紝鎵€浠ラ渶瑕佷粯璐规墠鑳�"+s+"銆�";return n?"璇ヨ涓� Boss 绔炰簤婵€鐑堬紝鍙紑閫� VIP 璐﹀彿鎴栧崟鐙粯璐逛互寮€鍚鑱屼綅":e}(),vka:"block_openjob_purchase_hot",canBuyVip:n,vipAccount:t.vipAccount,vipPriceId:t.vipPriceId,sf:n?7:"",cancel:function(){},confirm:function(i){if("vip"==i.type){window.top.Purchase.vip({amount:i.pay,priceId:t.vipPriceId},i);var n=window.top.Block.formatBA(i.ba);n&&window.top.Block.action(n),window.top.__conversion("position_hot_open_purchase_vip")}else{var s=window.top.Block.formatBA(t.ba);s&&(s.p4="experience"==i.type?1:2,s.p5=i.id,s.action="user-block-biz-button"),s&&window.top.Block.action(s),e(t,i)}}})}}(),c=function(){function e(e,t){window.top.Purchase.position("/boss/block/pay.json",{action:e.action,jobId:e.jobId,priceId:t.id,action:3,hotJobType:1,targetId:e.targetId,targetType:e.targetType,payMode:e.payMode,business:e.business},{item:t,action:e.action?e.action:"寮€鍚�",success:function(){e.success&&e.success(t.type)},confirm:function(){}})}return function(t){var i={ptype:t.ptype,configId:t.configId,experienceId:t.experienceId,payMode:t.payMode};t.combos&&(i.combos=t.combos);var n=t.action?t.action:"寮€鍚�";window.top.Block.super(i,{isEdit:!0,cancelText:"鎴戝啀鎯虫兂",title:"鎮ㄩ渶瑕佷粯璐�"+n+"鐏垎鑱屼綅",description:"鎮�"+n+"鐨勮亴浣嶅睘浜庣伀鐖嗚亴浣嶏紝鍥犱负Boss绔炰簤婵€鐑堬紝鎵€浠ラ渶瑕佷粯璐规墠鑳�"+n+"銆�",vka:"block_openjob_purchase_super",cancel:function(){},confirm:function(i){e(t,i);var n=window.top.Block.formatBA(t.ba);n&&(n.p4="experience"==i.type?1:2,n.p5=i.id,n.action="user-block-biz-button"),n&&window.top.Block.action(n)}})}}();return{vip:a,block:o,hot:r,super:c}}(),SearchChatingCard=function(){function e(){function i(){var e=$(".commercial-props-wrap .dialog-container"),t=e.find(".commercial-props-group .selected").attr("data-card")||"chat",i=c(),n="chat"===t?"buy-chating-card":"buy-geek-call";i.vipSave=parseInt(i.originalPrice)-i.price,i.vipSaveText=i.vipSave>0?'<p class="vip-save-desc"><i class="vip-discount-sign"></i>涓烘偍鑺傜渷<span class="vip-save-amount">楼'+i.vipSave+"</span></p>":"",__conversion(n);var s=function(){a.option.success({card:t,item:i,left:a.option.left,chat:a.option.data.searchChatCard.chatCount})},o={url:"/boss/item/buy/othItem/"+i.id+".json",amount:parseInt(i.price,10),itemId:i.id,data:{source:a.source},success:s};"call"==t&&(o.data.buyCount=i.count);var r={success:s};Payment.purchase(o,r)}function s(e,s){var o=$(e),r={0:"",1:"item-vip-unbought",2:"item-vip-bought"};o.addClass(r[t.option.data.vipPriceStatus]),o.on("click",".commercial-props-group li",function(){o.find(".commercial-props-group .selected").removeClass("selected"),$(this).addClass("selected");var e=a.option.data,t=$(this).attr("data-card"),i="call"==t?e.geekRights:e.searchChatCard;"call"==t?o.find(".item-description").html(n.call(a.option.left,i)):(i.eliteGeekGrayBoss=e.eliteGeekGrayBoss,o.find(".item-description").html(n.chat(i))),l()}),o.on("click",".item-call-list p",function(){o.find(".item-call-list .selected").removeClass("selected"),$(this).addClass("selected"),l()}),o.on("click",".btn-sure",function(){var e=$(".commercial-props-wrap .dialog-container"),t=e.find(".commercial-props-group .selected").attr("data-card");a.option.left>0&&"call"==t?(a.option.success({card:t,left:a.option.left}),__conversion("use-geek-call")):a.option.data.usableSearchItemCount>0?(a.option.success({card:"chat",usableSearchItemCount:a.option.data.usableSearchItemCount}),
    __conversion("use-geek-chat")):i(),s.close()}),l(),$(e).on("click",".J_robot",function(){ChatBot.open();try{var e=$(".commercial-props-group .selected").data("card"),t="call"===e?8:19;Block.action({action:"help-robot-call",p2:3,p3:t})}catch(e){}}),$(e).on("click",".J_call",function(){try{var e=$(".commercial-props-group .selected").data("card"),t="call"===e?8:19;CallMeDialog({p2:3,p3:t}),Block.action({action:"help-passive-call-click",p2:3,p3:t})}catch(e){}})}function o(e,t){$.dialog({bind:!0,title:"",content:e.content,confirmText:!1,cancelText:!1,wrapClass:"commercial-props-wrap",inline:!0,onOpen:function(e){s(e,this)},onClose:function(){}})}var a=this,r=function(e,t,i){e.left=a.option.left||0,e.usableSearchItemCount=t,e.geekRights.left=a.option.left||0,e.geekRights.discountList=e.geekRightsDiscountList.map(formatDiscountList),e.searchChatCard.left=t||0,e.searchChatCard.discountList=e.searchChatDiscountList.map(formatDiscountList);var s;s=i||(e.usableSearchItemCount>0||!e.left?"chat":"call");var r="call"===s?e.geekRights:e.searchChatCard;"call"!==s&&r&&e.eliteGeekGrayBoss&&(r.eliteGeekGrayBoss=e.eliteGeekGrayBoss);var c="call"===s?n.call(a.option.left,r):n.chat(r),l=n.group(s,e);o({content:n.top()+'<div class="commercial-props-content">'+l+'<div class="item-description">'+c+'</div><p class="business-meal" style="margin-bottom:20px;margin-top:-10px;">*鐩磋仒浼樻儬濂楅锛屾嫑浜哄揩銆佹洿鍒掔畻锛岃鎯呯珛鎴筹細<a href="javascript:;" class="J_call">璇烽攢鍞【闂仈绯绘垜</a ></p ></div>'+n.footer(a.option.left,r),confirm:function(e,t){},cancel:function(){option.cancel&&option.cancel()}},e)},c=function(){var e=$(".commercial-props-wrap .dialog-container"),t=e.find(".commercial-props-group .selected").attr("data-card"),i="call"==t?a.option.data.geekRights:a.option.data.searchChatCard;return $.isArray(i)?i[e.find(".item-call-list .selected").length?e.find(".item-call-list .selected").index():i.length-1]:i},l=function(){var e=$(".commercial-props-wrap .dialog-container"),i=e.find(".commercial-props-group .selected").attr("data-card"),n=c();t.option.data.vipPriceStatus,n.economize&&parseInt(n.economize,10),n.price;return"call"==i&&a.option.left>0?(e.find(".btn-sure").text("绔嬪嵆浣跨敤"),!1):"call"!=i&&a.option.data.usableSearchItemCount>0?(e.find(".btn-sure").text("婵€娲诲苟浣跨敤"),!1):void e.find(".btn-sure").text("绔嬪嵆璐拱")};a.include=function(e){a.option=e,a.source=e.source;var t=e.data;if(!window.top.searchCardChatABGray)return!!(t.geekRights&&t.searchChatCard&&t.canBuySearchCard)&&(r(t,t.usableSearchItemCount),!0);var i=e.transmit;window.top.CardChatProp&&window.top.CardChatProp.cardOpen({source:"search_connect_geek",onOpen:function(){},transmit:i||{},success:function(e,t){window.top.mediator.publish("searchUsePropSuccess",e,t)},fail:function(e,t){0!==e.code&&t&&"call"!==t.cardType&&$.toast({type:"error",content:e.message})},buySuccess:e.success})};var d=!1;a.shopping=function(e){if(window.top.searchCardChatABGray)return void(window.top.CardChatProp&&window.top.CardChatProp.buyChat(e));d||(d=!0,$.get("/wapi/zpitem/web/geekInfoRight/getGeekInfoRight.json",function(t){if(d=!1,t.zpData.canBuySearchCard){a.source=e.source,a.option={data:t.zpData,success:e.success||function(){}};var i=e&&e.card;r(t.zpData,0,i)}else PropShop.geekPropCall.buy(e)}),setTimeout(function(){d&&(d=!1)},2e3))},a.confirm=function(e){var t=ChatCardData.getChatCardDataByName("useChatCardSuccessText");ChatCardData.setChatCardDataByName("useChatCardSuccessText","");var i={bind:!0,title:"浣跨敤鎴愬姛",wrapClass:"flex-dialog-wrap dialog-prop-confirm use-prop-chat-success",description:t||"宸蹭负鎮ㄥ悜鐗涗汉鍙戣捣娌熼€氬苟绱㈣绠€鍘�",cancelText:"鏌ョ湅瀵硅瘽",confirmText:"缁х画鎼滅储",inline:!!$(".search-resume").length,onCancel:function(){this.close("cancel")},onConfirm:function(e){this.close("confirm")},onClose:function(){}},n=e||{},s=$.extend(i,n);s.content='<div class="prop-confirm-content">'+s.description+"</div>",$.dialog(s)},e=function(){return a}}var t=new e,i=function(e,i){var n=t.option.data;return 1==n.vipPriceStatus&&e.vipPrice>0?'<span class="amount">'+e.price+'</span><span class="unit">'+i+'</span><span class="text-gray-price">'+e.vipPrice+i+'</span><i class="vip-discount-sign"></i>':2==n.vipPriceStatus&&e.originalPrice>e.price?'<span class="amount">'+e.price+'</span><span class="unit">'+i+'</span><i class="vip-discount-sign"></i><span class="text-gray-price">'+e.originalPrice+i+"</span>":'<span class="amount">'+e.price+'</span><span class="unit">'+i+"</span>"},n={top:function(e){return Utemplate('<div class="commercial-group-top"><h3>璇烽€夋嫨閬撳叿</h3></div>',e)},footer:function(e,t){var i=function(){if($.isArray(t)){var i=t.length-1;return t[i].showPrice=e<0,t[i]}return t.showPrice=!0,t}();return Utemplate('<div class="commercial-footer"><span class="btn btn-sure fr"><%this.text%></span><%if(this.cancelText){%><span class="btn btn-outline fr"><%this.cancelText%></span><%}%></div>',{beanCount:i.price,discountDesc:i.economize||"",text:i.button?i.button.text:"绔嬪嵆璐拱",cancelText:t.cancelText,unitDesc:"鐩磋眴",showPrice:i.showPrice})},group:function(e,t){var n=t.geekRights[0],s='<ul class="commercial-props-group"><li <%if(this.card == "call"){%>class="selected"<%}%> data-card="call"><h5>鐗涗汉鐢佃瘽</h5><p class="desc">鑱旂粶1浣嶅績浠墰浜�<br>48灏忔椂 涓嶆垚鍔熼€€閬撳叿</p><%if(0 < this.left){%><p class="left">鍓╀綑<%this.left%>涓�</p><%}else{%><p class="price">'+i(n,"鐩磋眴/涓�")+'<%}%></li><li <%if(this.card != "call"){%>class="selected"<%}%> data-card="chat"><%if(this.eliteGeekGrayBoss){%><h5>鎼滅储鐣呰亰鍗�</h5><p class="desc">鑷冲娌熼€�<%this.searchChatCard.chatCount%>浣嶇墰浜�<br>涓€閿В閿佺珛鍗虫矡閫�</p><%}else{%><h5>鎼滅储鐣呰亰鍗�</h5><p class="desc">鎼滅储杈句汉蹇呭<%this.searchChatCard.chatCount%>娆℃矡閫氭潈鐩�<br>涓€閿В閿佺珛鍗虫矡閫�</p><%}%><%if(0 < this.usableSearchItemCount){%><p class="left">鍓╀綑<%this.usableSearchItemCount%>涓�</p><%}else{%><p class="price">'+i(t.searchChatCard,"鐩磋眴/鏈�")+"</p><%}%></li></ul>";t.card=e;return t.usableSearchItemCount>0&&!t.left||!t.canBuyGeekInfoRight&&!t.left?Utemplate('<div class="search-card-only"><%if(this.usableSearchItemCount){%><p class="left">鍓╀綑<%this.usableSearchItemCount%>浠�</p><%}%><div><p class="card-name">鎼滅储鐣呰亰鍗�</p><p class="card-desc">鎼滅储杈句汉蹇呭<%this.searchChatCard.chatCount%>娆℃矡閫氭潈鐩婏紝涓€閿В閿佺珛鍗虫矡閫�</p></div></div>',t):Utemplate(s,t)},chat:function(e){var t='<div class="search-desc-list"><%if(this.eliteGeekGrayBoss){%><dl><dd><i class="card-free"></i></dd><dt>30澶╃晠鑱�</dt><dd>30鏃ュ唴鎷ユ湁'+e.chatCount+'娆＄晠鑱婂尶鍚嶇墰浜烘潈鐩婏紝鏅€氱墰浜烘秷鑰�1娆℃潈鐩婏紝鐑悳鐗涗汉娑堣€�2娆℃潈鐩�</dd></dl><dl><%}else{%><dl><dd><i class="card-free"></i></dd><dt>30澶╃晠鑱�</dt><dd>30鏃ュ唴鐣呰亰'+e.chatCount+'浣嶅尶鍚嶇墰浜猴紝鎼滅储/鎺ㄨ崘鍖垮悕鐗涗汉鍧囧彲浣跨敤</dd></dl><dl><%}%><dd><i class="card-resume"></i></dd><dt>蹇€熻幏鍙栫畝鍘�</dt><dd>鐭俊閫氱煡鐗涗汉鐩存帴绱㈣绠€鍘�<br>鍚屾剰鎶曢€掕嚜鍔ㄥ彂閫佽嚦閭</dd></dl><dl><dd><i class="card-chat"></i></dd><dt>绔嬪嵆鑱旂粶鍖垮悕鐗涗汉</dt><dd>鐩存帴瀵瑰績浠尶鍚嶇墰浜哄紑濮嬫矡閫氾紝涓嶆秷鑰楁瘡鏃ユ矡閫氭潈鐩�</dd></dl></div><%if(this.left < 1){%><div class="item-active-list"><ul><%for(var i=0;i<this.discountList.length;i++){%><li><i><%this.discountList[i].discountTag%></i><%this.discountList[i].name%></li><%}%></ul></div><%}%>';return Utemplate(t,e)},call:function(e,i){return Utemplate('<div class="search-desc-list "><dl><dd><i class="card-geek"></i></dd><dt>绮惧噯鎼滅储澶х墰</dt><dd>鎼滅储鍏徃/鑱屼綅/鎶€鑳斤紝澶氱淮搴︾簿鍑嗗畾浣嶄綘鐨勫績浠墰浜�</dd></dl><dl><dd><i class="card-call"></i></dd><dt>蹇€熻幏鍙栫數璇濄€佺畝鍘�</dt><dd>鐩存帴鍚戠墰浜哄彂閫佹姇閫掗個璇凤紝鎶曢€掑悗鐢佃瘽绠€鍘嗙洿鎺ュ彂閫佽嚦閭</dd></dl><dl><dd><i class="card-back"></i></dd><dt>涓嶆垚鍔熼€€閬撳叿</dt><dd>濡傜墰浜烘嫆缁濇姇閫掓垨48灏忔椂鍐呮棤绛斿锛屽皢閫€杩樻偍鐨勯亾鍏�</dd></dl></div><%if(this.left == 0 || !this.left){%><div class="item-call-list"><%for(var i=0; i<this.list.length; i++){%><p <%if(i == (this.list.length - 1)){%>class="selected icon-discount"<%}%> ><%this.list[i].count%>涓�<i class="vline"></i><%this.list[i].price%>鐩磋眴<%if (this.bought && 0 < this.list[i].vipPrice){%><i class="vip-discount-sign"></i><%}%></p><%}%></div><div class="item-active-list"><ul><%for(var i=0;i<this.discountList.length;i++){%><li><i><%this.discountList[i].discountTag%></i><%this.discountList[i].name%></li><%}%></ul></div><%}%>',{left:e||0,list:i,discountList:i.discountList,bought:2==t.option.data.vipPriceStatus})}};return t}(),GeekHotProp=function(){var e={},t={},i={combo:function(){var t={title:e.title,single:e.cardList[0],group:e.cardList[1]};return t.group.leftCount>0&&(t.group.itemNote="(1/"+t.group.leftCount+")"),Utemplate('<div class="drop-help-panel"><ul><li><i></i>鎶€鏈被鐗涗汉鏄寚鎮ㄤ娇鐢ㄩ儴鍒嗘妧鏈被鑱屼綅娌熼€氱殑鐗涗汉</li><li><i></i>鐩墠锛屾偍涓庝富鍔ㄦ矡閫氱殑姝ょ被鐗涗汉缁х画娌熼€氭椂闇€璐拱浠ヤ笅鍟嗗搧</li></ul></div><h3 class="title"><%this.title%><i class="icon-help"></i></h3><p class="description gray">浣跨敤鍏嶈垂娆℃暟涓庣墰浜虹户缁矡閫�</p><div class="geek-hot-group"><ul><li class="item-single <%if(0 < this.single.freeCount){%>item-remain<%}%>"><div class="geek-hot-item"><%if(this.single.showType == 1){%><p class="corner-mark"><span>浠婃棩杩樻湁<%this.single.freeCount%>娆″厤璐�</span></p><%}%><p class="item-name"><%this.single.itemNote%></p><span class="item-price"><%this.single.itemName%></span></div></li><li class="item-group <%if(0 < this.group.leftCount){%>item-left<%}%>"><div class="geek-hot-item"><%if(this.group.showType == 1){%><p class="corner-mark"><span>鎺ㄨ崘閬撳叿</span></p><%}%><p class="item-name"><b><%this.group.itemName%></b></p><p class="item-price"><%this.group.itemNote%></p><p class="item-limit"><%this.group.expireDesc%></p></div></li></ul></div>',t)}},n=function(t,i){var n=t.find(".geek-hot-group .selected").index(),s=i||e.cardList[n],o=s.freeCount>0?"浣跨敤鍏嶈垂娆℃暟涓庣墰浜虹户缁矡閫�":"浣跨敤浠ヤ笅閬撳叿涓庣墰浜虹户缁矡閫�";t.find(".btn-sure").text(s.button.text),t.find(".description").text(o)},s=function(){$.dialog({bind:!0,title:"",content:i.combo(),confirmText:"绔嬪嵆璐拱",cancelText:!1,wrapClass:"prop-hot-geek",onOpen:function(t){$(t).on("click",".geek-hot-group li",function(){$(t).find(".selected").removeClass("selected"),$(this).addClass("selected"),n($(t))}),$(t).on("click",".icon-help",function(){$(t).addClass("geek-help-open")}),$(t).on("click",function(e){$(e.target).hasClass("icon-help")||$(e.target).hasClass("drop-help-panel")||$(e.target).closest("div").hasClass("drop-help-panel")||$(t).removeClass("geek-help-open")});var i=e.cardList[0].freeCount>0?0:1;$(t).find(".geek-hot-group li").eq(i).addClass("selected"),n($(t),e.cardList[i])},onConfirm:function(i){var n=$(i).find(".geek-hot-group .selected").index(),s=e.cardList[n],o=function(){var e="";e=14===s.cardId?"璐拱鍗曟垚鍔燂細鎮ㄥ彲浠ョ洿鎺ュ湪瀵硅瘽涓拰鐗涗汉娌熼€�":"宸茶喘涔�"+s.itemNote+"鐗涗汉娌熼€氭潈鐩婏紝"+(s.expireDesc?s.expireDesc+"銆�":"")+"鎮ㄥ彲浠ョ洿鎺ュ湪瀵硅瘽涓拰鐗涗汉娌熼€�",Payment.success({article:"璐拱鎴愬姛",text:e,confirm:function(){t.callBack(s)}})};if((s.freeCount>0||s.leftCount>0)&&t.callBack)t.callBack(s);else{var a={prePayUrl:"/block/preOrder",url:"/boss/block/pay.json",amount:s.beanCount,description:15==s.cardId?"璐拱閬撳叿锛氥€屾瀬瀹㈢晠鑱婂崱銆�":"璐拱閬撳叿锛氥€屾妧鏈墰浜恒€嶆矡閫�",data:{priceId:s.priceId,business:s.business,targetType:s.targetType,targetId:s.encryptTargetId},success:o},r={success:o};window.top.Payment.purchase(a,r)}$(i).remove()}})};return{shop:function(i,n){e=i,t=n,s()}}}(),PropShop=function(){function e(){var t=this,i={props:function(e){return e.geekRights.map(function(t){return t.style=10==t.count?"selected hot":"",t.price=parseInt(t.price,10),t.isVip=e.vipPriceStatus>0&&(t.vipPrice>0||t.isVipItem),t.isVip&&(t.style+=1==e.vipPriceStatus?" prop-item-unbought":" prop-item-bought"),t}),Utemplate('<h3 class="prop-call-title">璐拱鐗涗汉鐢佃瘽</h3><div class="prop-cont prop-sells"><ul><%for(var i=0;i<this.geekRights.length; i++){%><li data-id="<%this.geekRights[i].id%>" class="<%this.geekRights[i].style%>" ><%if(this.geekRights[i].isVipItem && this.vipPriceStatus == 2){%><i class="vip-discount-sign"></i><span class="text-orange fr">锟�<%this.geekRights[i].price%></span><span class="text-gray-price">锟�<%this.geekRights[i].originalPrice%></span><%}else if(0 < this.geekRights[i].vipPrice && this.vipPriceStatus == 1){%><i class="vip-discount-sign"></i><span class="text-gray-price">锟�<%this.geekRights[i].vipPrice%></span><span class="text-orange fr">锟�<%this.geekRights[i].price%></span><%}else{%><span class="text-orange fr">锟�<%this.geekRights[i].price%></span><%}%><p class="fl">璐拱<%this.geekRights[i].count%>涓墰浜虹數璇�<%if(this.geekRights[i].economize!=0){%><span class="gray">锛堣妭鐪侊骏<%this.geekRights[i].economize%>锛�</span><%}%></p></li><%}%></ul><div class="sells-pay"></div></div>',e)},consume:function(e){return Utemplate('<div class="prop-chat"><h3>浣跨敤鐗涗汉鐢佃瘽閬撳叿鑱旂郴鐗涗汉</h3><p class="gray">璇烽€夋嫨涓庣墰浜烘矡閫氱殑鑱屼綅</p><div class="dropdown-wrap J_stickPosition"><span class="dropdown-select"><i class="icon-select-arrow"></i><input type="text" placeholder="寰呮矡閫氱殑鑱屼綅" class="ipt sel-active" readonly=""><p class="input-mask"><%this.job.jobName%><i class="vline"></i><%this.job.salaryDesc%></p><input type="hidden" value="<%this.job.encryptId%>"></span><div class="dropdown-menu"><ul><%for(var i=0;i<this.jobs.length;i++){%><li data-id="<%this.jobs[i].encryptId%>"><%this.jobs[i].jobName%><i class="vline"></i><%this.jobs[i].salaryDesc%></li><%}%></ul></div></div></div>',e)}},n={props:function(){var e=$.Deferred();return $.get("/wapi/zpitem/web/geekInfoRight/getGeekInfoRight.json",function(t){e.resolve(t.zpData)}),e},job:function(e){var t=$.Deferred();return $.get("/boss/item/getJobByGeekId.json",e,function(e){t.resolve(e)}),t},jobList:function(){var e=$.Deferred();return $.get("/chat/user/joblist.json",function(t){e.resolve(t.data)}),e},consume:function(e,t){var i=$.Deferred();return $.ajax({method:"post",url:"/wapi/zpitem/web/geekInfoRight/use/"+e,data:t,success:function(e){i.resolve(e)}}),i}};t.consume=function(e,t){$.when(n.jobList(),n.job(e)).then(function(s,o){if(!s||s&&s.length<1)return Block.confirm({title:"鎮ㄦ殏鏃朵笉鑳戒笌杩欎綅鐗涗汉寮€鑱婏紒",description:"璇疯嚦灏戝彂甯冧竴涓紑鏀捐亴浣�"}),!1;o.jobs=s,$.dialog({bind:!0,title:"",closeText:!1,content:i.consume(o),confirmText:"鑱旂郴鐗涗汉",cancelText:!1,wrapClass:"prop-item-chat",onOpen:function(e){DropDown.init($(e)),$(e).on("click",".dropdown-menu li",function(){$(e).find(".input-mask").html($(this).html()),$(e).find(".J_stickPosition input[type=hidden]").val($(this).attr("data-id"))})},onConfirm:function(i){var s=$(i).find(".J_stickPosition input[type=hidden]").val();$(i).find(".btn-sure").addClass("disabled"),n.consume(s,e).then(function(e){t.success&&t.success(e),$(i).remove()})}})})},t.buy=function(e){var e=e||{},t=function(t){var n=function(){var e=$(".prop-item-call .selected").attr("data-id");return t.geekRights.find(function(t){return t.id==e})};$.dialog({bind:!0,title:"",closeText:!1,content:i.props(t),confirmText:"璐拱",cancelText:!1,wrapClass:"prop-item-call",onOpen:function(e){var i=function(){var i=n(),s=parseInt(i.price,10),o='<p class="fr">闇€瑕佹敮浠橈細<em class="text-orange">楼'+(t.beanCount>s?0:s-t.beanCount)+"</em></p><p><span>閲戦锛毬�"+s+"</span><span>浣欓锛毬�"+t.beanCount+"</span></p>";$(e).find(".sells-pay").html(o)};$(e).on("click",".prop-sells li",function(){$(e).find(".selected").removeClass("selected"),$(this).addClass("selected"),i()}),i()},onConfirm:function(t){var i=n();i.vipSave=i.originalPrice-i.price,i.vipSaveText=i.vipSave>0?'<p class="vip-save-desc"><i class="vip-discount-sign"></i><span>涓烘偍鑺傜渷</span><span class="vip-save-amount">楼'+i.vipSave+"</span></p>":"";var s=function(t){e.success&&e.success(i)},o={url:"/boss/item/buy/othItem/"+i.id+".json",amount:i.price,description:"璐拱閬撳叿锛氥€岀墰浜虹數璇濄€�- "+i.count+" 涓�",data:{buyCount:1},itemId:i.id,success:s},a={success:s};this.close(),window.top.Payment.purchase(o,a)}})};e.props?t(e.props):n.props().then(function(e){t(e)})},e=function(){return t}}return{geekPropCall:new e}}(),PositionManage={init:function(){$('<iframe class="first-position-frame-container" name="firstJobContainer" src=""></iframe>').insertAfter(".page-single #wrap"),$(".first-position-frame-container").attr("src","/vue/index/#/dashboard/job-manage/first-job-publish")}};$(function(){PositionManage.init()});